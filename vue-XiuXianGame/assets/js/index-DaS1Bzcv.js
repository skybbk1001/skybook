import{C as e,d as a,r as l,c as t,u as n,w as i,o as u,a as s,b as o,e as r,f as v,g as c,h as d,E as p,n as m,i as h,j as f,k as g,K as y,l as b,m as k,p as x,q as w,s as _,t as M,v as $,F as C,x as q,y as T,z as S,A as I,B as V,D as B,G as D,H as R,I as F,J as A,L as E,M as H,N,O as U,P,Q as L,R as O,S as z,T as G,U as j,V as W,W as K,X as J,Y as Q,Z as X,_ as Y,$ as Z,a0 as ee,a1 as ae,a2 as le,a3 as te,a4 as ne,a5 as ie,a6 as ue,a7 as se,a8 as oe,a9 as re,aa as ve,ab as ce,ac as de,ad as pe,ae as me}from"./vendor-DPFFjC1Q.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const he={iv:()=>["Y","o","u","r","E","n","c","r","y","p","t","i","o","n","K","e"],encryption(a){const l=this.iv().join("");return e.AES.encrypt(JSON.stringify(a),l,{iv:l,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString()},decryption(a){const l=this.iv().join(""),t=e.AES.decrypt(a,l,{iv:l,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8);return JSON.parse(t)}},fe=a("main",{state:()=>({boss:{name:"",text:"",time:0,desc:"",level:0,dodge:0,attack:0,health:0,conquer:!1,defense:0,critical:0,maxhealth:0},player:{zc:!1,age:1,pet:{},time:0,name:"玩家",dark:!1,npcs:[],wife:{},pets:[],wifes:[],props:{money:0,flying:0,qingyuan:0,rootBone:0,currency:0,cultivateDan:0,strengtheningStone:0},score:0,level:0,dodge:0,points:0,attack:10,health:100,critical:0,defense:10,taskNum:0,version:.8,currency:0,maxHealth:100,inventory:[],isNewbie:!1,shopData:[],equipment:{sutra:{},armor:{},weapon:{},accessory:{}},achievement:{pet:[],monster:[],equipment:[]},script:"",cultivation:0,currentTitle:null,reincarnation:0,maxCultivation:100,backpackCapacity:50,sellingEquipmentData:[],highestTowerFloor:1,rewardedTowerFloors:[],nextGameTimes:{rps:null,dice:null,fortune:null,secretrealm:0,gamblingStone:null},gameWins:0,gameLosses:0,checkinDays:0,checkinStreak:0,lastCheckinDate:null,fortuneTellingDate:null,checkedInToday:!1},monster:{name:"",health:0,attack:0,defense:0,dodge:0,critical:0},mapData:{y:0,x:0,map:[]},mapScroll:0,fishingMap:[]}),persist:{key:"vuex",paths:["boss","player"],storage:localStorage,serializer:{serialize:e=>JSON.stringify({boss:he.encryption(e.boss),player:he.encryption(e.player)}),deserialize:e=>{const a=JSON.parse(e);return{boss:he.decryption(a.boss),player:he.decryption(a.player)}}}}}),ge=(e,a)=>{const l=e.__vccOpts||e;for(const[e,t]of a)l[e]=t;return l},ye={class:"game-container-wrapper",draggable:"true"},be={class:"footer"},ke={key:0,class:"wm_bg_1"},xe={key:1,class:"wm_bg_2"},we=ge({__name:"App",setup(e){const a=l({}),k=n(),_=t(()=>k.path);return i(()=>a.value.dark,e=>{document.querySelector("html").classList=e?"dark":""}),u(()=>{a.value=fe().player,setInterval(()=>{a.value.age+=1,a.value.time=(new Date).getTime()},6e4),a.value.script&&new Function(a.value.script)()}),(e,l)=>{const t=d("router-view"),n=p;return h(),s("div",ye,[o("div",{class:m(["game-container",{dark:a.value.dark}])},[v(t,null,{default:c(({Component:e})=>[g(k).meta.keepAlive?(h(),f(y,{key:0},[(h(),f(b(e),{key:_.value}))],1024)):r("",!0),g(k).meta.keepAlive?r("",!0):(h(),f(b(e),{key:_.value}))]),_:1}),o("div",be,[v(n,{size:"large",modelValue:a.value.dark,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.dark=e)},{"active-action":c(()=>[...l[1]||(l[1]=[o("i",{class:"el-icon"},[o("svg",{viewBox:"0 0 24 24",class:"dark-icon"},[o("path",{d:"M11.01 3.05C6.51 3.54 3 7.36 3 12a9 9 0 0 0 9 9c4.63 0 8.45-3.5 8.95-8c.09-.79-.78-1.42-1.54-.95A5.403 5.403 0 0 1 11.1 7.5c0-1.06.31-2.06.84-2.89c.45-.67-.04-1.63-.93-1.56z",fill:"currentColor"})])],-1)])]),"inactive-action":c(()=>[...l[2]||(l[2]=[o("i",{class:"el-icon"},[o("svg",{viewBox:"0 0 24 24",class:"light-icon"},[o("path",{d:"M6.05 4.14l-.39-.39a.993.993 0 0 0-1.4 0l-.01.01a.984.984 0 0 0 0 1.4l.39.39c.39.39 1.01.39 1.4 0l.01-.01a.984.984 0 0 0 0-1.4zM3.01 10.5H1.99c-.55 0-.99.44-.99.99v.01c0 .55.44.99.99.99H3c.56.01 1-.43 1-.98v-.01c0-.56-.44-1-.99-1zm9-9.95H12c-.56 0-1 .44-1 .99v.96c0 .55.44.99.99.99H12c.56.01 1-.43 1-.98v-.97c0-.55-.44-.99-.99-.99zm7.74 3.21c-.39-.39-1.02-.39-1.41-.01l-.39.39a.984.984 0 0 0 0 1.4l.01.01c.39.39 1.02.39 1.4 0l.39-.39a.984.984 0 0 0 0-1.4zm-1.81 15.1l.39.39a.996.996 0 1 0 1.41-1.41l-.39-.39a.993.993 0 0 0-1.4 0c-.4.4-.4 1.02-.01 1.41zM20 11.49v.01c0 .55.44.99.99.99H22c.55 0 .99-.44.99-.99v-.01c0-.55-.44-.99-.99-.99h-1.01c-.55 0-.99.44-.99.99zM12 5.5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm-.01 16.95H12c.55 0 .99-.44.99-.99v-.96c0-.55-.44-.99-.99-.99h-.01c-.55 0-.99.44-.99.99v.96c0 .55.44.99.99.99zm-7.74-3.21c.39.39 1.02.39 1.41 0l.39-.39a.993.993 0 0 0 0-1.4l-.01-.01a.996.996 0 0 0-1.41 0l-.39.39c-.38.4-.38 1.02.01 1.41z",fill:"currentColor"})])],-1)])]),_:1},8,["modelValue"])])],2),a.value.dark?r("",!0):(h(),s("div",ke)),a.value.dark?r("",!0):(h(),s("div",xe))])}}},[["__scopeId","data-v-757cfb69"]]),_e={__name:"tag",props:{type:{type:String,default:"info"}},setup(e){const a=e,l=t(()=>"pink"===a.type?"el-tag--pink":"purple"===a.type?"el-tag--purple":`el-tag--${a.type}`);return(e,a)=>{const t=x;return h(),f(t,{"disable-transitions":!0,class:m(l.value)},{default:c(()=>[k(e.$slots,"default")]),_:3},8,["class"])}}},Me={npcNames:()=>["云渺仙子","琉光幽姬","烟霞仙子","清韵灵姬","碧落灵仙","绮霞灵女","瑶光雪姬","琉璃雪姬","幽篁雪姬","雪舞灵姬"]},$e={monster_Names(e){const a=["影魅狸奴","幽谷灵蛇","雾隐狐仙","松间灵猴","月影蝠妖","山涧蛟童","林涧鹿灵","岩隙石精","风鸣鹤怪","翠竹蛙仙"],l=["青龙啸天","白虎破晓","朱雀焚翼","玄武镇海","麒麟踏瑞","凤凰涅槃","毕方炽焰","貔貅吞金","白泽知世","狻猊御火"],t=["伏羲天帝","女娲圣母","昊天玉皇","太上老君","东华帝君","西王母后","神农炎帝","轩辕黄帝","瑶姬仙子","真武大帝"];return e>=1&&e<=19?a[Math.floor(Math.random()*a.length)]:e>=20&&e<=49?l[Math.floor(Math.random()*l.length)]:e>=50&&e<=100?t[Math.floor(Math.random()*t.length)]:["混沌始元尊","乾坤造物主","宇宙创生神","万灵始祖皇","鸿蒙创世者","无极造化君","太虚衍化神","元始天尊祖","虚空造物圣","界域开辟者"][Math.floor(Math.random()*t.length)]},monster_Attack(e){return e<=144?this.getRandomInt(50,150)*e:this.getRandomInt(1e4,5e4)*e},monster_Health(e){return e<=144?this.getRandomInt(100,500)*e:this.getRandomInt(1e4,5e4)*e},monster_Defense(e){return e<=144?this.getRandomInt(1,15)*e:this.getRandomInt(500,1e3)*e},monster_Criticalhitrate(e){return e<=144?this.getRandomFloatInRange(.001,.01):this.getRandomFloatInRange(.1,.75)},getRandomInt:(e,a)=>(e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e),getRandomFloatInRange:(e,a)=>Math.random()*(a-e)+e},Ce=144,qe=e=>{w.closeAll(),w(e)},Te=e=>{const a=Math.floor((e-1)/9);return 0===e?"凡人":e>=Ce?"九天玄仙九层":`${["筑基","开光","胎息","辟谷","金丹","元婴","出窍","分神","合体","大乘","渡劫","地仙","天仙","金仙","大罗金仙","九天玄仙"][a]}${{1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"}[(e-1)%9+1]}层`},Se={id:"时间",level:"境界",score:"评分",health:"气血",attack:"攻击",defense:"防御",critical:"暴击",dodge:"闪避"},Ie=Object.entries(Se).map(([e,a])=>({type:e,name:a})),Ve={sutra:"法器",armor:"护甲",weapon:"神兵",accessory:"灵宝"},Be={info:"黄阶",pink:"仙阶",danger:"神阶",purple:"天阶",primary:"地阶",success:"玄阶",warning:"帝阶"},De={money:{name:"灵石",desc:"可以通过分解获得装备获得"},flying:{name:"传送符",desc:"可以通过赠送礼物给NPC获得"},rootBone:{name:"悟性丹",desc:"可以通过击败世界BOSS获得"},qingyuan:{name:"情缘",desc:"可以通过赠送礼物给NPC获得"},currency:{name:"鸿蒙石",desc:"可以通过击败世界BOSS获得"},cultivateDan:{name:"培养丹",desc:"可以通过探索获得"},strengtheningStone:{name:"炼器石",desc:"可以通过分解装备获得"}},Re=e=>{e=e>0?Math.floor(e):0;const a=["","万","亿","兆","京","垓","秭","穰","沟","涧","正","载","极"],l=window.BigInt(1e4);let t=window.BigInt(e),n=0,i="";for(;t>=l;)t/=l,n++,n>=a.length-1&&(i+="极",n=0);return t.toString()+a[n]+i},Fe=e=>{const a=e.scrollTop,l=e.scrollHeight,t=performance.now(),n=()=>{const o=performance.now()-t,u=Math.min(o/300,1);e.scrollTop=a+(l-a)*i(u),u<1&&window.requestAnimationFrame(n)},i=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2;window.requestAnimationFrame(n)};class Ae{constructor(){this.heap=[]}add(e,a){this.heap.push({node:e,priority:a}),this.bubbleUp(this.heap.length-1)}bubbleUp(e){for(;e>0;){const a=Math.floor((e-1)/2);if(this.heap[a].priority<=this.heap[e].priority)break;[this.heap[a],this.heap[e]]=[this.heap[e],this.heap[a]],e=a}}poll(){const e=this.heap[0],a=this.heap.pop();return this.heap.length>0&&(this.heap[0]=a,this.bubbleDown(0)),e.node}bubbleDown(e){const a=this.heap.length,l=this.heap[e];for(;;){let t=2*e+1,n=2*e+2,i=null;if(t<a&&this.heap[t].priority<l.priority&&(i=t),n<a&&(null===i&&this.heap[n].priority<l.priority||null!==i&&this.heap[n].priority<this.heap[t].priority)&&(i=n),null===i)break;[this.heap[e],this.heap[i]]=[this.heap[i],this.heap[e]],e=i}}isEmpty(){return 0===this.heap.length}}const Ee={class:"map"},He={class:"grid-container"},Ne=["onClick"],Ue={class:"controls"},Pe={class:"game-container"},Le={class:"time"},Oe={class:"outer-wrapper"},ze={class:"progress-bar-container"},Ge={class:"progress-text"},je={viewBox:"0 0 1024 1024"},We=["fill"],Ke=["fill"],Je={viewBox:"0 0 1024 1024"},Qe=["fill"],Xe=["fill"],Ye=["fill"],Ze=["fill"],ea={class:"diaoyu-shortcutKeys"},aa={class:"wife-box"},la={class:"attributes"},ta={class:"attribute-box"},na={class:"tag attribute"},ia={class:"tag attribute"},ua={class:"click-box"},sa={key:0,class:"gift-box"},oa=["onClick"],ra={class:"gift-name"},va={__name:"mapExploration",setup(e){const a=I(),n=fe(),i=l([]),d=l(n.player),p=l(n.mapData),f=l(0),y=l(0),b=l({}),k=l({score:0,bottom:"0px",overlap:!1,timerIds:[],timeLeft:60,gameOver:!1,disabled:!1,timeExpired:!1,progressText:0,innerPosition:0,moveUpAnimationId:"",progressPercentage:"0%",moveDownAnimationId:"",moveParentContainerId:""}),x=l(!1),w=l(50),F=l(!1),A=l(10),E=l(null);l([]);const N=l(!1),H=l(0),U=l([]),P=l(null),L=l(null),O=l(null),z=t(()=>{const e=[],a={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},l={1:"info",2:"success",3:"primary",4:"purple",5:"warning",6:"danger"},t={1:200,2:400,3:800,4:1500,5:2e3,6:3e3};for(let n=1;n<7;n++)e.push({lv:l[n],plus:t[n]/100,name:`${a[n]}品驻颜丹`,price:t[n]});return e}),G=t(()=>w.value*w.value),j=t(()=>[(y.value-1)*w.value+f.value,(y.value+1)*w.value+f.value,y.value*w.value+(f.value-1),y.value*w.value+(f.value+1)]),W=t(()=>j.value.some(e=>{var a;return"npc"===(null==(a=i.value[e])?void 0:a.type)})),K=t(()=>j.value.some(e=>{var a;return"fishing"===(null==(a=i.value[e])?void 0:a.type)})),J=t(()=>se("up")),Q=t(()=>se("left")),X=t(()=>se("down")),Y=t(()=>se("right")),Z=()=>{k.value.timerIds.forEach(e=>clearInterval(e))},ee=()=>{const e=new Set;for(let a=y.value-2;a<=y.value+2;a++)for(let l=f.value-2;l<=f.value+2;l++)a>=0&&a<w.value&&l>=0&&l<w.value&&e.add(a*w.value+l);return e},ae=()=>{for(;!le();)te("obstacle",H.value,ee()),ne(A.value,ee())},le=()=>{const e=[y.value,f.value],a=[49,49],l=[[0,1],[1,0],[0,-1],[-1,0]],t=(e,a)=>{const l=Math.abs(e[0]-a[0]),t=Math.abs(e[1]-a[1]);return l+t+.1*Math.min(l,t)},n=new Ae,o=new Map,u=new Map,s=new Map;for(u.set(e.toString(),0),s.set(e.toString(),t(e,a)),n.add(e,s.get(e.toString()));!n.isEmpty();){const e=n.poll();if(49===e[0]&&49===e[1])return!0;for(const[v,c]of l){const l=e[0]+v,r=e[1]+c,d=[l,r];if(l>=0&&l<w.value&&r>=0&&r<w.value&&"empty"===i.value[l*w.value+r].type){const l=u.get(e.toString())+1;if(!u.has(d.toString())||l<u.get(d.toString())){o.set(d.toString(),e),u.set(d.toString(),l);const i=l+t(d,a);s.set(d.toString(),i),n.add(d,i)}}}}return!1},te=(e,a,l)=>{i.value.forEach(a=>{a.type===e&&(a.type="empty")});let t=0;const o=[],u=new Set;for(;t<a;){const a=Math.floor(Math.random()*G.value);l.has(a)||u.has(a)||"empty"!==i.value[a].type||(i.value[a].type=e,t++,"fishing"===e&&(o.push(a),n.fishingMap=o,ie(a,u)),le()||(i.value[a].type="empty",t--))}},ne=(e,a)=>{i.value.forEach(e=>{"npc"===e.type&&(e.type="empty")});const l=d.value.npcs.length?d.value.npcs:Me.npcNames(),t=d.value.npcs.length;let n=[],o=0;for(;o<e;){const e=Math.floor(Math.random()*G.value);if(!a.has(e)&&"empty"===i.value[e].type){const a=t?l[o].favorability:0,u=oe(a);i.value[e].his=`hsl(340, 82%, ${u}%, 1)`,i.value[e].type="npc";const s={lv:144,name:t?l[o].name:l[o],position:e,favorability:a,reincarnation:10};n.push(s),d.value.npcs=n,o++,le()||(i.value[e].type="empty",o--)}}},ie=(e,a)=>{const l=e%w.value,t=Math.floor(e/w.value);for(let e=t-2;e<=t+2;e++)for(let t=l-2;t<=l+2;t++)e>=0&&e<w.value&&t>=0&&t<w.value&&a.add(e*w.value+t)},oe=e=>50+e/1e3*26,ue=()=>{i.value.forEach(e=>"player"===e.type?e.type="empty":e.type);const e=y.value*w.value+f.value;if(i.value[e].type="player",n.mapData={y:y.value,x:f.value,map:i.value},pe(20)&&0!=e){let e=0==d.value.level?1:d.value.level;const l=e*d.value.reincarnation+e;n.monster={name:$e.monster_Names(l),health:$e.monster_Health(l),attack:$e.monster_Attack(l),defense:$e.monster_Defense(l),dodge:$e.monster_Criticalhitrate(l),critical:$e.monster_Criticalhitrate(l)},a.push("/explore")}0!=e&&re(e)},se=e=>{var a;const l={up:(y.value-1)*w.value+f.value,down:(y.value+1)*w.value+f.value,left:y.value*w.value+(f.value-1),right:y.value*w.value+(f.value+1)}[e];return["obstacle","fishing","npc"].includes(null==(a=i.value[l])?void 0:a.type)},ve=e=>{let l=f.value,t=y.value;switch(e="string"==typeof e?e:e.key){case"q":return a.push("/home"),void(0===f.value&&0===y.value||(n.mapData={y:0,x:0,map:[]},Ce(!1),n.mapScroll=0));case"w":case"up":case"ArrowUp":t>0&&(t--,ce(t,l));break;case"s":case"down":case"ArrowDown":t<w.value-1&&(t++,ce(t,l));break;case"a":case"left":case"ArrowLeft":l>0&&(l--,ce(t,l));break;case"d":case"right":case"ArrowRight":l<w.value-1&&(l++,ce(t,l));break;case"e":if(!W.value&&!K.value)return;return void(W.value?de():we());default:return}},ce=(e,a)=>{const l=e*w.value+a;"empty"===i.value[l].type&&(f.value=a,y.value=e),ue()},re=e=>{const a=U.value[e];a&&(n.mapScroll=e,a.scrollIntoView({block:"center",inline:"center",behavior:"smooth"}))},de=()=>{x.value=!0,b.value=d.value.npcs.find(e=>j.value.includes(e.position))},pe=e=>100*Math.random()<e,me=e=>{if(e)return d.value.wifes.some(a=>a.name===e)},he=()=>{be(),ke()},ge=()=>{E.value||(he(),E.value=setInterval(he.value,100))},ye=()=>{E.value&&(clearInterval(E.value),E.value=null)},be=()=>{var e,a;const l=Math.min(k.value.innerPosition+10,(null==(e=L.value)?void 0:e.clientHeight)-(null==(a=O.value)?void 0:a.clientHeight)),t=()=>{k.value.innerPosition<l&&(k.value.innerPosition+=2,O.value.style.bottom=`${k.value.innerPosition}px`,k.value.moveUpAnimationId=requestAnimationFrame(t))};k.value.moveUpAnimationId=requestAnimationFrame(t)},ke=()=>{var e,a;if(k.value.gameOver||k.value.timeExpired)return;const l=null==(e=P.value)?void 0:e.getBoundingClientRect(),t=null==(a=O.value)?void 0:a.getBoundingClientRect(),n=(k.value.innerPosition,!(l.bottom<t.top||l.top>t.bottom||l.right<t.left||l.left>t.right));k.value.score=n?Math.min(k.value.score+.1,100):Math.max(k.value.score-.2,0),xe(k.value.score),k.value.overlap=n},xe=()=>{const e=Math.min(k.value.score/100*100,100);if(k.value.score>=100&&!k.value.gameOver){k.value.gameOver=!0;const e=De();V.confirm(e.description,e.name,{center:!0,showClose:!1,lockScroll:!1,showCancelButton:!1,closeOnClickModal:!1,confirmButtonText:"卖掉这条鱼"}).then(()=>{Re(),d.value.props.money+=e.price,qe({title:"提示",message:`你获得了${e.price}灵石`,position:"top-left"})}).catch(()=>{})}k.value.progressText=Math.round(e),k.value.progressPercentage=`${e}%`},Re=()=>{N.value=!1,Z();const e=n.fishingMap.find(e=>j.value.includes(e));i.value[e].type="empty",cancelAnimationFrame(k.value.moveUpAnimationId),cancelAnimationFrame(k.value.moveDownAnimationId),cancelAnimationFrame(k.value.moveParentContainerId),Ce(!0)},we=()=>{N.value=!0,Ce(!1),_(()=>(()=>{var e,a;if(!N.value)return;if(!P.value)return;const l=(null==(e=L.value)?void 0:e.clientHeight)-(null==(a=P.value)?void 0:a.clientHeight),t=()=>{if(k.value.timeExpired)return void Z();const e=Math.random()*l;P.value.style.transition="top 3000ms ease",P.value.style.top=`${e}px`,setTimeout(()=>{k.value.timeExpired||(k.value.moveParentContainerId=requestAnimationFrame(t))},3e3)};t()})()),(()=>{const e=()=>{var a,l;null==(a=L.value)||a.clientHeight,null==(l=O.value)||l.clientHeight,k.value.innerPosition<=0?k.value.overlap||(k.value.score=Math.max(k.value.score-.2,0),xe()):(k.value.innerPosition-=1,O.value.style.bottom=`${k.value.innerPosition}px`,ke()),k.value.moveDownAnimationId=requestAnimationFrame(e)};k.value.moveDownAnimationId=requestAnimationFrame(e)})(),(()=>{const e=setInterval(()=>{k.value.timeLeft--,0==k.value.timeLeft&&V.confirm("钓鱼失败，鱼溜走了！","提示",{center:!0,lockScroll:!1,showCancelButton:!1,confirmButtonText:"确定",dangerouslyUseHTMLString:!0}).then(()=>Re()).catch(()=>Re())},1e3);k.value.timerIds.push(e)})()},Ce=e=>{k.value.score=0,k.value.overlap=!1,k.value.timeLeft=60,k.value.gameOver=e,k.value.disabled=e,k.value.timeExpired=e,k.value.innerPosition=0,e||(k.value.progressText=0,k.value.progressPercentage="0%")},De=()=>{const e=Math.random();let a=0;const l=[{name:"金鳞鲤鱼",price:100,description:"金色鳞片的鲤鱼，象征着好运和财富。",probability:.25},{name:"青铜鲑鱼",price:150,description:"体型健硕的鲑鱼，常出现在清凉的河流中。",probability:.2},{name:"冰川鳟鱼",price:200,description:"来自寒冷冰川地区的鳟鱼，肉质鲜美。",probability:.18},{name:"红尾锦鲤",price:300,description:"具有漂亮红色尾巴的锦鲤，观赏价值极高。",probability:.15},{name:"银鳍鲢鱼",price:80,description:"常见于淡水湖泊，银色鳍片在水中闪闪发光。",probability:.3},{name:"巨口鲶鱼",price:180,description:"以其巨大的嘴巴和强劲的咬力著称，肉质肥美。",probability:.17},{name:"幽蓝灯鱼",price:250,description:"深海中发出幽蓝光芒的小型鱼类，具有神秘色彩。",probability:.14},{name:"翡翠剑鱼",price:500,description:"剑形的鱼嘴和翡翠般的色彩让它成为海中战士。",probability:.08},{name:"斑点鲈鱼",price:90,description:"遍布斑点的鲈鱼，适应力极强，分布广泛。",probability:.28},{name:"火焰红鱼",price:400,description:"拥有火焰般红色鳞片的稀有鱼类，价格不菲。",probability:.1},{name:"雷电鳗鱼",price:350,description:"全身带有微弱电流的鳗鱼，捕食时能够电击猎物。",probability:.12},{name:"黑甲鲨",price:600,description:"身披黑色盔甲般鳞片的鲨鱼，充满攻击性。",probability:.06},{name:"水晶鲤鱼",price:120,description:"鳞片透明的鲤鱼，在阳光下晶莹剔透。",probability:.22},{name:"紫鳍金枪鱼",price:700,description:"金枪鱼中的顶级品种，因其紫色鳍而得名。",probability:.05},{name:"珍珠贝鱼",price:220,description:"外形酷似贝壳的鱼类，藏有珍珠般的光泽。",probability:.16},{name:"蓝鲸鱼苗",price:1e3,description:"蓝鲸的幼年鱼苗，体积虽小但潜力巨大。",probability:.03},{name:"彩虹鳟鱼",price:280,description:"彩虹般斑斓的鳟鱼，深受垂钓者喜爱。",probability:.13},{name:"毒针河豚",price:150,description:"体型小但带有剧毒的河豚，需小心处理。",probability:.2},{name:"黄金海马",price:500,description:"稀有的海马品种，金黄色的身体闪闪发光。",probability:.08},{name:"深海魔鱼",price:800,description:"生活在深海中的巨大鱼类，外表极具威胁性。",probability:.04}];for(const t of l)if(a+=t.probability,e<a)return t;return null};return u(()=>{p.value.map.length?(i.value=p.value.map,y.value=p.value.y,f.value=p.value.x):(()=>{i.value=Array(G.value).fill().map(()=>({his:"",type:"empty"}));const e=ee();H.value=Math.floor(.1*G.value),te("obstacle",H.value,e),ae(),te("fishing",10,e),ae(),ne(A.value,e),ae(),ue()})(),n.mapScroll&&_(()=>re(n.mapScroll)),window.addEventListener("keydown",ve)}),M(()=>{Z(),window.removeEventListener("keydown",ve)}),(e,a)=>{const l=T,t=S;return h(),s("div",null,[a[23]||(a[23]=$('<div class="legend" data-v-9a1a8173><div class="legend-item" data-v-9a1a8173><div class="color-box player" data-v-9a1a8173></div> 玩家 </div><div class="legend-item" data-v-9a1a8173><div class="color-box npc" data-v-9a1a8173></div> NPC </div><div class="legend-item" data-v-9a1a8173><div class="color-box fishing" data-v-9a1a8173></div> 钓鱼点 </div><div class="legend-item" data-v-9a1a8173><div class="color-box obstacle" data-v-9a1a8173></div> 障碍物 </div><div class="legend-item" data-v-9a1a8173><div class="color-box empty" data-v-9a1a8173></div> 空地 </div></div>',1)),o("div",Ee,[o("div",He,[(h(!0),s(C,null,q(i.value,(e,a)=>(h(),s("div",{key:a,ref_for:!0,ref:e=>U.value[a]=e,class:m(["grid-item",e.type,"x-"+a%w.value,`y-${Math.floor(a/w.value)}`]),style:B({backgroundColor:e.his}),onClick:l=>((e,a)=>{if("empty"!=a.type)return;const l=e%w.value,t=Math.floor(e/w.value);V.confirm("地图坐标信息","地图坐标信息",{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n        <p>X轴: ${l}</p>\n        <p>Y轴: ${t}</p>\n      </div>\n    </div>`,lockScroll:!1,cancelButtonText:"取消传送",confirmButtonText:"立即传送",dangerouslyUseHTMLString:!0}).then(()=>{d.value.props.flying?(y.value=t,f.value=l,ue(),qe({title:"传送提示",message:"传送成功",position:"top-left"})):qe({title:"传送提示",message:"传送失败, 传送符不足",position:"top-left"})}).catch(()=>{})})(a,e)},null,14,Ne))),128))])]),o("div",Ue,[v(l,{class:"home-button",onClick:a[0]||(a[0]=e=>ve("q"))},{default:c(()=>[...a[11]||(a[11]=[D(" 回家 ",-1),o("span",{class:"shortcutKeys"},"(Q)",-1)])]),_:1}),v(l,{class:"up-button",onClick:a[1]||(a[1]=e=>ve("up")),disabled:J.value||0==y.value},{default:c(()=>[...a[12]||(a[12]=[D(" 往北 ",-1),o("span",{class:"shortcutKeys"},"(W)",-1)])]),_:1},8,["disabled"]),v(l,{class:"dialogue-button",onClick:a[2]||(a[2]=e=>ve("e")),disabled:!W.value&&!K.value},{default:c(()=>[D(R(W.value||!K.value?"对话":"钓鱼")+" ",1),a[13]||(a[13]=o("span",{class:"shortcutKeys"},"(E)",-1))]),_:1},8,["disabled"]),v(l,{class:"left-button",onClick:a[3]||(a[3]=e=>ve("left")),disabled:Q.value||0===f.value},{default:c(()=>[...a[14]||(a[14]=[D(" 往西 ",-1),o("span",{class:"shortcutKeys"},"(A)",-1)])]),_:1},8,["disabled"]),v(l,{class:"down-button",onClick:a[4]||(a[4]=e=>ve("down")),disabled:X.value||y.value===w.value-1},{default:c(()=>[...a[15]||(a[15]=[D(" 往南 ",-1),o("span",{class:"shortcutKeys"},"(S)",-1)])]),_:1},8,["disabled"]),v(l,{class:"right-button",onClick:a[5]||(a[5]=e=>ve("right")),disabled:Y.value||f.value===w.value-1},{default:c(()=>[...a[16]||(a[16]=[D(" 往东 ",-1),o("span",{class:"shortcutKeys"},"(D)",-1)])]),_:1},8,["disabled"])]),v(t,{modelValue:N.value,"onUpdate:modelValue":a[7]||(a[7]=e=>N.value=e),onClose:Re,title:"钓鱼",direction:"rtl",class:"strengthen"},{default:c(()=>[o("div",Pe,[o("div",Le,"倒计时: "+R(k.value.timeLeft)+"秒",1),o("div",Oe,[o("div",ze,[o("div",{class:"progress-bar",ref:"progressBar",style:B({height:k.value.progressPercentage})},null,4),o("div",Ge,R(k.value.progressText)+"%",1)]),o("div",{class:"outer-container",ref_key:"outerContainer",ref:L,style:B({border:k.value.overlap?"2px solid var(--el-color-warning)":"2px solid var(--el-border-color)"})},[o("div",{class:"moving-container",ref_key:"movingContainer",ref:P,style:B({animation:k.value.overlap?"wobble .5s ease-in-out infinite":"",transformorigin:k.value.overlap?"bottom center":""})},[(h(),s("svg",je,[o("path",{d:"M942 619.8c-27.4-29.4-42.5-67.6-42.5-107.8s15.1-78.4 42.5-107.8c14.8-15.8 18.6-38 10-58-8.6-19.8-27.3-32.2-48.9-32.3h-0.9c-35.3 0-70 9.4-100.2 27.2-29.4 17.3-53.9 41.9-71.1 71.4-2.8 4.8-7.3 6-9.7 6.4-4.2 0.6-8.4-0.8-11.3-3.8-38.3-38.2-82.9-68.2-132.5-89.1-51.4-21.7-105.9-32.7-162.2-32.7-29.1 0-57.6 2.9-85.5 8.7l-1.1 0.3c-33.5 7.1-66 18.3-97.1 33.6-28.6 14.1-55.7 31.5-80.5 51.8l-0.2 0.2c-2.1 1.7-4.1 3.4-6.2 5.2-0.4 0.4-0.9 0.8-1.3 1.1l-4.5 3.9c-0.6 0.5-1.2 1.1-1.8 1.6-1.7 1.5-3.3 3-5 4.5-0.8 0.7-1.6 1.5-2.4 2.3-1 1-2.1 2-3.1 2.9-0.8 0.8-1.6 1.5-2.4 2.3l-4.5 4.5c-0.8 0.8-1.6 1.6-2.4 2.5-1 1.1-2.1 2.1-3.1 3.2-0.7 0.8-1.4 1.5-2.2 2.3l-4.5 4.8c-0.6 0.7-1.3 1.4-1.9 2.1-1.3 1.5-2.7 3-4 4.5-0.3 0.4-0.7 0.8-1 1.1-1.6 1.9-3.3 3.8-4.9 5.7-0.4 0.5-0.9 1-1.3 1.6-1.7 2-3.3 4-4.9 6-14.1 17.6-21.9 39.7-21.9 62.2s7.8 44.6 21.9 62.2c1.6 2 3.3 4 4.9 6 0.4 0.5 0.9 1 1.3 1.6 1.6 1.9 3.2 3.8 4.9 5.7 0.3 0.4 0.7 0.7 1 1.1 1.3 1.5 2.7 3 4 4.5 0.6 0.7 1.3 1.4 1.9 2.1 1.5 1.6 3 3.3 4.6 4.9 0.7 0.7 1.4 1.5 2.1 2.2 1 1.1 2.1 2.2 3.1 3.2l2.4 2.4c1.5 1.5 3 3 4.6 4.5 0.8 0.8 1.6 1.5 2.4 2.3 1 1 2.1 2 3.1 3 0.8 0.7 1.6 1.5 2.4 2.2 1.7 1.5 3.3 3 5 4.5 0.6 0.5 1.2 1.1 1.8 1.6l4.5 3.9c0.4 0.4 0.9 0.7 1.3 1.1 2.1 1.8 4.1 3.5 6.2 5.2 0.1 0 0.1 0.1 0.2 0.1 24.8 20.3 51.9 37.8 80.5 51.9 31.2 15.3 63.7 26.5 97.1 33.6l1.1 0.3c27.8 5.8 56.4 8.7 85.5 8.7 56.2 0 110.8-11 162.2-32.7 49.6-20.9 94.2-50.9 132.5-89.1 3-3 7.1-4.3 11.3-3.8 2.4 0.3 6.9 1.6 9.7 6.4 17.1 29.4 41.7 54.1 71.1 71.4 30.3 17.8 64.9 27.2 100.2 27.2h0.9c21.5-0.1 40.3-12.5 48.8-32.3 8.6-20.3 4.8-42.5-10-58.3z m-619.8 59.4c-76.3-19.4-145.4-62.9-196.3-123.6-0.3-0.4-0.6-0.7-0.9-1.1-1.5-1.8-2.9-3.5-4.4-5.3 0 0 0-0.1-0.1-0.1-11.5-14.4-15.5-32.4-11.9-49.4 0.3-1.6 0.8-3.2 1.2-4.8s1-3.2 1.6-4.7c2.2-5.4 5.2-10.6 9-15.4 1.5-1.8 3-3.7 4.5-5.5 0.3-0.3 0.6-0.7 0.9-1 50.9-60.7 120.1-104.2 196.3-123.6 54.7 38.3 87.1 100.2 87.1 167.2 0.1 67.2-32.3 129.1-87 167.3z m593.1-17.3c-1.1 2.5-4.4 8.2-12.3 8.2h-0.8c-28.2 0-55.8-7.5-80-21.7-23.5-13.8-43.1-33.5-56.8-57-8.3-14.3-22.6-23.7-39.1-25.9-16.6-2.2-32.9 3.3-44.8 15.1-71.3 71-165.9 110.2-266.4 110.2-13.9 0-27.8-0.8-41.4-2.3 47.9-45.6 75.5-108.9 75.5-176.6s-27.6-131-75.5-176.6c13.7-1.5 27.5-2.3 41.4-2.3 100.5 0 195.2 39.1 266.4 110.2 11.8 11.8 28.1 17.3 44.8 15.1 16.5-2.2 30.8-11.6 39.1-25.9 13.7-23.5 33.3-43.2 56.8-57 24.1-14.2 51.8-21.7 80-21.7h0.7c7.9 0 11.2 5.7 12.3 8.2s3 8.9-2.5 14.8c-34.3 36.8-53.2 84.8-53.2 135.1s18.9 98.3 53.2 135.1c5.6 6.1 3.7 12.5 2.6 15z",fill:k.value.overlap?"var(--el-color-warning)":"var(--el-border-color)"},null,8,We),o("path",{d:"M273 515.4m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z",fill:k.value.overlap?"var(--el-color-warning)":"var(--el-border-color)"},null,8,Ke)]))],4),o("div",{class:"inner-container",ref_key:"innerContainer",ref:O},[(h(),s("svg",Je,[o("path",{d:"M893.456828 709.055005",fill:k.value.overlap?"var(--el-color-warning)":"var(--el-border-color)"},null,8,Qe),o("path",{d:"M491.889987 337.939709",fill:k.value.overlap?"var(--el-color-warning)":"var(--el-border-color)"},null,8,Xe),o("path",{d:"M568.154951 338.993714",fill:k.value.overlap?"var(--el-color-warning)":"var(--el-border-color)"},null,8,Ye),o("path",{d:"M789.271978 570.404178c-10.123568-32.030507-33.907251-88.211041-88.099501-128.403438 59.974953 92.142583 39.444361 191.201693 16.587793 231.574193 19.583011-9.214872 48.428989-39.642882 48.428989-39.642882s5.043876 37.219693-1.590218 81.112366c-2.619664 2.876514-4.52199 6.466272-5.253654 10.576893-14.963807 83.60514-81.932034 172.931584-216.578664 172.931584-129.71634 0-226.874147-110.219287-226.874147-262.079974L315.892577 167.967526c0-1.240247 2.843768-2.440585 2.641153-3.623527 24.40483-7.115048 43.811832-29.649274 43.811832-56.31561 0-32.355919-25.581632-58.68968-57.93755-58.68968s-58.313104 26.332738-58.313104 58.68968c0 23.514553 11.484565 43.790342 31.504528 53.148477-0.724501 2.143826-3.66139 4.402263-3.66139 6.791683l0 468.503347c0 176.588881 114.748441 304.763099 269.192975 304.763099 130.210597 0 230.4066-78.81709 255.399831-201.286376 2.036379-0.156566 4.120854-0.963954 4.539386-2.777253C817.526485 674.573679 802.432719 618.005312 789.271978 570.404178zM305.160141 81.350796c14.71412 0 26.676569 11.962449 26.676569 26.676569s-11.962449 26.676569-26.676569 26.676569-26.676569-11.962449-26.676569-26.676569S290.446022 81.350796 305.160141 81.350796z",fill:k.value.overlap?"var(--el-color-warning)":"var(--el-border-color)"},null,8,Ze)]))],512)],4)]),v(l,{onTouchstart:ge,onTouchend:ye,onMousedown:ge,onMouseup:ye,onMouseleave:ye,onClick:a[6]||(a[6]=e=>he()),disabled:k.value.disabled,class:"button"},{default:c(()=>[a[17]||(a[17]=D(" 钓鱼 ",-1)),o("span",ea,"("+R(E.value?"松开":"长按")+")",1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue"]),v(t,{modelValue:x.value,"onUpdate:modelValue":a[10]||(a[10]=e=>x.value=e),title:b.value.name,direction:"rtl",class:"strengthen"},{default:c(()=>[o("div",aa,[o("div",la,[o("div",ta,[o("div",na,"境界: "+R(g(Te)(b.value.lv))+" ("+R(b.value.reincarnation)+"转)",1),a[18]||(a[18]=o("div",{class:"tag attribute"},"气血: 不详",-1)),a[19]||(a[19]=o("div",{class:"tag attribute"},"攻击: 不详",-1)),a[20]||(a[20]=o("div",{class:"tag attribute"},"防御: 不详",-1)),a[21]||(a[21]=o("div",{class:"tag attribute"},"闪避: 不详",-1)),a[22]||(a[22]=o("div",{class:"tag attribute"},"暴击: 不详",-1)),o("div",ia,"好感度: "+R(b.value.favorability),1)])]),o("div",ua,[v(l,{type:"primary",onClick:a[8]||(a[8]=e=>F.value=!F.value)},{default:c(()=>[D(R(F.value?"取消赠送":"赠送礼物"),1)]),_:1}),v(l,{type:"primary",disabled:b.value.favorability<1e3||me(b.value.name),onClick:a[9]||(a[9]=e=>{return a=b.value,void V.confirm("与对方结为道侣有50%的概率失败, 失败后好感度会清空, 请问还想与对方结为道侣吗?","结为道侣",{center:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then(()=>{pe(50)?(d.value.wifes.push({name:a.name,level:0,dodge:0,attack:10,health:100,defense:10,critical:0,reincarnation:0}),qe({title:"提示",message:"你成功邀请对方与你结为道侣",position:"top-left"})):(b.value.favorability=0,qe({title:"提示",message:"对方拒绝了你的邀请, 好感度清空",position:"top-left"}))}).catch(()=>{});var a})},{default:c(()=>[D(R(me(b.value.name)?"已结为道侣":"结为道侣"),1)]),_:1},8,["disabled"])]),F.value?(h(),s("div",sa,[(h(!0),s(C,null,q(z.value,(e,a)=>(h(),s("div",{class:"gift-item",key:a,onClick:l=>((e,a)=>{V.confirm("","赠送礼物",{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n        <p>名称: ${e.name}</p>\n        <p>价格: ${e.price}</p>\n        <p>增加好感度: ${e.plus}</p>\n      </div>\n    </div>`,lockScroll:!1,cancelButtonText:"取消赠送",confirmButtonText:"立即赠送",dangerouslyUseHTMLString:!0}).then(()=>{e.price>d.value.props.money?qe({title:"赠送提示",message:"灵石不足, 赠送失败",position:"top-left"}):(d.value.props.money-=e.price,b.value.favorability+=e.plus,d.value.props.flying+=a,d.value.props.qingyuan+=a,qe({title:"赠送提示",message:`赠送成功, ${b.value.name}对你的好感度增加了, 并赠与了你${a}张传送符和${a}点情缘`,position:"top-left"}))}).catch(()=>{})})(e,a)},[v(_e,{type:e.lv},{default:c(()=>[D(R(e.name),1)]),_:2},1032,["type"]),o("span",ra,R(e.price)+"灵石",1)],8,oa))),128))])):r("",!0)])]),_:1},8,["modelValue","title"])])}}},ca=ge(va,[["__scopeId","data-v-9a1a8173"]]),da={drawPrize(e){const a=this.boss_Names(),l=this.getRandomInt(5e4,1e5)*e,t=this.getRandomInt(5e3,1e4)*e,n=this.getRandomInt(1e3,1e4)*e,i=this.getRandomFloatInRange(.1,.8),o=this.getRandomFloatInRange(.1,1);return{name:a.name,text:this.boss_Text(),time:Math.floor(Date.now()/1e3),desc:a.description,level:144,dodge:i,attack:t,health:l,defense:n,conquer:!1,critical:o,maxhealth:l}},boss_Equip(e){const a={weapon:{names:["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"],probability:25},armor:{names:["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"],probability:25},accessory:{names:["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"],probability:25},sutra:{names:["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"],probability:25}},l=Object.values(a).reduce((e,{probability:a})=>e+a,0),t=Math.floor(Math.random()*l);let n=0;for(const[l,{names:i,probability:o}]of Object.entries(a))if(n+=o,t<n){const a=this.getRandomFloatInRange(.05,.1),t=this.getRandomInt(500,1e3)*e*10,n=this.getRandomInt(5e3,1e4)*e*10,o=this.getRandomInt(500,1e3)*e*10,u=this.getRandomFloatInRange(.05,.1);return{id:Date.now(),name:i[Math.floor(Math.random()*i.length)],type:l,level:e,score:this.calculateEquipmentScore(a,t,n,u,o),dodge:["accessory","sutra"].includes(l)?a:0,attack:["weapon","accessory","sutra"].includes(l)?t:0,health:["armor","accessory","sutra"].includes(l)?n:0,quality:"danger",initial:{dodge:["accessory","sutra"].includes(l)?a:0,attack:["weapon","accessory","sutra"].includes(l)?t:0,health:["armor","accessory","sutra"].includes(l)?n:0,defense:["accessory","sutra"].includes(l)?o:0,critical:["weapon","accessory","sutra"].includes(l)?u:0},defense:["armor","accessory","sutra"].includes(l)?o:0,critical:["weapon","accessory","sutra"].includes(l)?u:0}}},boss_Text(){const e=["你的时代已经结束，现在，是我主宰一切的时候了。","你的努力，终究只是为我铺就了通往胜利的道路。","战胜你，对我来说不过是举手之劳，你的实力，不过如此。","你的生命，在我的手中如蝼蚁般脆弱，你的死亡，只是我计划中的一环。","你的失败，证明了我的智慧与力量无可匹敌，而你，只是我的垫脚石。","你的存在，曾让我感到一丝威胁，但现在，你已成为我脚下的尘埃。","你的勇气可嘉，但可惜，勇气并不能改变结果，你最终还是败在了我的脚下。","你的死，将是我传奇中的一笔，而你，将永远被我踩在脚下。","你的挣扎与反抗，不过是徒劳无功，你的命运，早已注定。","你的终结，是我迈向更高峰的开始，你的存在，对我来说已无任何意义。","你的死亡，将证明我的强大与不可战胜，而你，将永远成为我的手下败将。","你的遗言，对我来说毫无意义，因为你已经无法再影响我的计划。","你的逝去，只是宇宙间的一次微小波动，而我，将继续书写我的传奇。","你的失败，是我成功路上的一个注脚，而你，将永远无法摆脱这个污点。","你的生命之火已经熄灭，而我，将继续燃烧，照亮整个世界。","你的死亡，让我更加坚信自己的道路是正确的，而你，只是我路上的一个过客。","你的存在，曾让我有过一丝犹豫，但现在，我已经没有任何顾虑，因为我已经彻底战胜了你。","你的终结，是我力量的证明，而你，将永远无法逃脱这个宿命。","你的死亡，将是我成就伟大事业的基石，而你，将永远被世人遗忘。","你的挑战，虽然激烈，但终究无法撼动我的地位，你的死亡，只是我辉煌人生中的一个注脚。"];return e[Math.floor(Math.random()*e.length)]},boss_Names(){const e=[{name:"烛龙神尊",description:"乃钟山之神，睁眼为昼，闭眼为夜，呼吸间风云变幻，掌控着时间的流转。"},{name:"幽冥鬼帝",description:"传说中幽冥界的至高统治者，掌管生死轮回，其力量深不可测，能召唤万千亡灵为其所用。"},{name:"苍穹魔尊",description:"诞生于九天之上，因贪恋凡间情感而堕入魔道，拥有操控天地元素、撕裂虚空的能力。"},{name:"龙皇傲天",description:"龙族中的至尊，身披璀璨龙鳞，掌握着古老龙族的所有秘辛与力量，其威严令万兽臣服。"},{name:"凤舞九天",description:"凤凰一族的女王，拥有不死之身与涅槃重生的能力，其羽翼轻挥，即可掀起滔天火焰，焚尽一切。"},{name:"雷神天尊",description:"天界雷神转世，手持雷神锤，能召唤九天神雷，一击之下，山河破碎，万物寂灭。"},{name:"幽冥血皇",description:"幽冥界中的古老存在，以鲜血为食，其力量源自于无尽的杀戮与怨念，令人闻风丧胆。"},{name:"玄冰龙神",description:"来自极北之地的神秘生物，融合了龙与冰元素的力量，其身躯坚不可摧，能冻结世间万物。"},{name:"金翅大鹏王",description:"大鹏一族中的王者，拥有遮天蔽日的双翼，速度之快，可瞬息万里，其利爪足以撕裂空间。"},{name:"混沌魔君",description:"诞生于混沌之初的古老魔物，其力量源自于宇宙的本源，能够扭曲现实，吞噬万物，是天地间最可怕的存在之一。"}];return e[Math.floor(Math.random()*e.length)]},getRandomInt:(e,a)=>(e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e),getRandomFloatInRange:(e,a)=>Math.random()*(a-e)+e,calculateEquipmentScore(e=0,a=0,l=0,t=0,n=0){const i=1.6*e+1.5*a+l/100*1+1.2*n+1.8*t;return Math.floor(i)}},pa={class:"cultivate"},ma={class:"boss"},ha={class:"boss-box"},fa={class:"storyText"},ga={class:"storyText-box"},ya=["textContent"],ba=["innerHTML"],ka={class:"actions"},xa={__name:"bossPage",setup(e){const a=I(),t=fe(),n=l(!1),i=l([]),d=l(t.player),p=l([]),m=l(da.getRandomInt(1,10)),f=l(!1);l(!1);const y=l(!1),b=l(50),k=l({}),_=l(null),x=()=>{if(n.value)return;n.value=!0;const e=10*d.value.reincarnation,a=setInterval(()=>{var e;S();const a=null==(e=_.value)?void 0:e.wrapRef;new MutationObserver(()=>{Fe(a)}).observe(a,{childList:!0,subtree:!0})},e>=200?100:300-e);p.value.push(a)},w=()=>{p.value.forEach(e=>clearInterval(e)),p.value=[]},$=()=>{const e=t.boss;V.confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n      <p>境界: ${Te(e.level)}</p>\n      <p>气血: ${Re(e.health)}</p>\n      <p>攻击: ${Re(e.attack)}</p>\n      <p>防御: ${Re(e.defense)}</p>\n      <p>闪避率: ${e.dodge>0?100*e.dodge>100?100:(100*e.dodge).toFixed(2):0}%</p>\n      <p>暴击率: ${e.critical>0?100*e.critical>100?100:(100*e.critical).toFixed(2):0}%</p>\n      <p>鸿蒙石掉落: ${m.value}块</p>\n      <p>神装掉落率: 100%</p>\n      </div>\n    </div>`,showCancelButton:!1,confirmButtonText:"知道了",dangerouslyUseHTMLString:!0}).catch(()=>{})},S=()=>{if(d.value.level<Ce)return n.value=!0,w(),void i.value.push(`你的境界尚未达到${Te(Ce)}, ${t.boss.name}对于你的挑战不屑一顾`);if(t.boss.health<=0||!t.boss.health)return void i.value.push("BOSS刷新时间还未到");f.value=!0;const e=t.boss.attack,a=d.value.defense;let l=Math.max(0,Math.floor(e-a));l=l<=1?1:l;const o=d.value.attack,u=t.boss.defense;let s=Math.max(0,Math.floor(o-u));s=s<=1?1:s;let v=!1,c=!1;const r=Math.random()>t.boss.dodge,p=Math.random()>d.value.dodge;if(Math.random()<t.boss.critical&&(l*=2,v=!0),Math.random()<d.value.critical&&(s*=1.5,c=!0),p&&(d.value.health-=l),r&&(t.boss.health-=s),d.value.health=Math.max(0,d.value.health),t.boss.health=Math.max(0,t.boss.health),b.value>1)if(b.value--,t.boss.health<=0){const e=da.boss_Equip(Ce);y.value=!0,k.value=e,i.value.push(`你击败${t.boss.name}后，获得了<span class="el-tag el-tag--${e.quality}">${Be[e.quality]}${e.name}(${Ve[e.type]})</span>`),d.value.inventory.length>=d.value.backpackCapacity?i.value.push("当前装备背包容量已满, 该装备自动丢弃, 转生可增加背包容量"):d.value.inventory.push(e),d.value.props.rootBone+=1,i.value.push("你获得了1颗悟性丹"),d.value.props.currency+=m.value,i.value.push(`你获得了${m.value}块鸿蒙石`),n.value=!0,t.boss.time=Math.floor(Date.now()/1e3),t.boss.health=0,t.boss.conquer=!0,w()}else d.value.health<=0?(n.value=!0,t.boss.health=t.boss.maxhealth,i.value.push("你因为太弱被击败了。"),i.value.push(`${t.boss.text}`),w(),b.value=50):(i.value.push(r?`你攻击了${t.boss.name}，${c?"触发暴击":""}造成了${s}点伤害，剩余${t.boss.health}气血。`:`你攻击了${t.boss.name}，对方闪避了你的攻击，你未造成伤害，剩余${t.boss.health}气血。 `),i.value.push(p?`${t.boss.name}攻击了你，${v?"触发暴击":""}造成了${l}点伤害`:`${t.boss.name}攻击了你，你闪避了对方的攻击，对方未造成伤害，你剩余${d.value.health}气血。 `));else b.value=50,w(),t.boss.health=t.boss.maxhealth,i.value.push(`回合结束, 你未战胜${t.boss.name}你输了。`),i.value.push(`${t.boss.text}`)};return u(()=>{(()=>{const e=(e=>{const a=Math.floor(Date.now()/1e3);e=0==e?a:e;const l=Math.abs(a-e);return Math.floor(l/60)})(t.boss.time),a=Ce*d.value.reincarnation+Ce;if(t.boss.health>0)e>=5&&(t.boss=da.drawPrize(a));else{if(!(e>=5||0==t.boss.time))return n.value=!0,void i.value.push("BOSS还未刷新，请等待5分钟后再次挑战");t.boss=da.drawPrize(a)}b.value=50})()}),M(()=>{w()}),(e,l)=>{const u=F,d=A,p=T;return h(),s("div",pa,[o("div",ma,[o("div",ha,[o("span",{class:"el-tag el-tag--warning",onClick:$},R(g(t).boss.name),1),v(u,{class:"desc",title:g(t).boss.desc,closable:!1,type:"error"},null,8,["title"])])]),o("div",fa,[o("div",ga,[v(d,{ref_key:"scrollbar",ref:_,always:""},{default:c(()=>[f.value?(h(),s("p",{key:0,class:"fighting",textContent:R(`${b.value}回合 / 50回合`)},null,8,ya)):r("",!0),(h(!0),s(C,null,q(i.value,(e,t)=>(h(),s("p",{key:t,innerHTML:e,onClick:l[0]||(l[0]=e=>(e=>{y.value&&V.confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n        <p>类型: ${Ve[e.type]??"未知"}</p>\n        <p>境界: ${Te(e.level)}</p>\n        <p>品质: ${Be[e.quality]??"未知"}</p>\n        <p>气血: ${Re(e.health)}</p>\n        <p>攻击: ${Re(e.attack)}</p>\n        <p>防御: ${Re(e.defense)}</p>\n        <p>闪避率: ${(100*e.dodge).toFixed(2)??0}%</p>\n        <p>暴击率: ${(100*e.critical).toFixed(2)??0}%</p>\n        </div>\n    </div>`,showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,dangerouslyUseHTMLString:!0,showCancelButton:!1,confirmButtonText:"知道了"}).then(()=>{a.push("/home")}).catch(()=>{a.push("/home")})})(k.value))},null,8,ba))),128))]),_:1},512)])]),o("div",ka,[v(p,{onClick:x,disabled:n.value},{default:c(()=>[...l[2]||(l[2]=[D("发起战斗",-1)])]),_:1},8,["disabled"]),v(p,{onClick:l[1]||(l[1]=e=>g(a).push("/home"))},{default:c(()=>[...l[3]||(l[3]=[D("回家疗伤",-1)])]),_:1})])])}}},wa=ge(xa,[["__scopeId","data-v-abb11304"]]),_a={drawPrize(e){const a=[{type:"weapon",data:this.equipWeapons()},{type:"armor",data:this.equipArmors()},{type:"accessory",data:this.equipAccessories()},{type:"sutra",data:this.equipSutras()}],l={sutra:"法器",armor:"护甲",weapon:"兵器",accessory:"灵宝"},t=(e,a,l)=>{const t=this.getRandomFloatInRange(.02,.25),n=this.getRandomInt(200,1e3)*a,i=this.getRandomInt(2e3,1e4)*a,o=this.getRandomInt(200,1e3)*a,u=this.getRandomFloatInRange(.02,.25);return{score:this.calculateEquipmentScore(t,n,i,u,o),dodge:["accessory","sutra"].includes(e)?t:0,attack:["weapon","accessory","sutra"].includes(e)?15*n:0,health:["armor","accessory","sutra"].includes(e)?15*i:0,defense:["armor","accessory","sutra"].includes(e)?15*o:0,critical:["weapon","accessory","sutra"].includes(e)?u:0}[l]};return a.map(({type:a,data:n})=>({type:a,name:l[a],data:n.flatMap(l=>({id:Date.now(),name:l,type:a,lock:!0,level:e,score:t(a,e,"score"),dodge:t(a,e,"dodge"),attack:t(a,e,"attack"),health:t(a,e,"health"),defense:t(a,e,"defense"),critical:t(a,e,"critical"),initial:{dodge:t(a,e,"dodge"),attack:t(a,e,"attack"),health:t(a,e,"health"),defense:t(a,e,"defense"),critical:t(a,e,"critical")},quality:"pink"}))}))},equipWeapons:()=>["粉晶月刃剑","樱花吹雪弓","蔷薇缠绕鞭","蜜桃梦境杖","粉蝶幻光刃","粉晶流光扇","甜梦水晶枪","粉樱魔法杖","粉钻心语弩","柔粉蔷薇盾"],equipArmors:()=>["粉樱绮梦裳","甜梦粉蝶衣","蜜桃恋曲裙","粉晶流光铠","樱花恋歌袍","柔粉蔷薇甲","粉蝶翩翩袖","甜梦羽织衣","粉晶幻彩裙","蜜桃梦境袍"],equipAccessories:()=>["粉晶梦蝶链","樱花恋曲簪","甜梦蔷薇戒","蜜桃绮梦环","粉蝶轻舞坠","粉晶甜蜜链","柔粉心语珥","樱花绮梦镯","蜜桃梦境簪","粉蝶幻彩带"],equipSutras:()=>["粉樱梦幻笛","甜心粉蝶壶","蜜桃恋语镜","粉晶流光珠","柔粉绮梦石","樱花纷飞扇","甜梦绮罗盘","蜜桃幻影灯","粉蝶织梦琴","粉樱守护符"],getRandomInt:(e,a)=>(e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e),getRandomFloatInRange:(e,a)=>Math.random()*(a-e)+e,calculateEquipmentScore(e=0,a=0,l=0,t=0,n=0){const i=1.6*e+1.5*a+l/100*1+1.2*n+1.8*t;return Math.floor(i)}},Ma={drawPrize(e,a,l,t,n,i,o,u,s){e=0==e?1:e,s&&(e=this.getRandomInt(1,e));const v={info:{names:l,probability:50},success:{names:t,probability:20},primary:{names:n,probability:15},purple:{names:i,probability:9},warning:{names:o,probability:5},danger:{names:u,probability:1}},c=Object.values(v).reduce((e,{probability:a})=>e+a,0),r=Math.floor(Math.random()*c);let d=0;for(const[l,{names:t,probability:n}]of Object.entries(v))if(d+=n,r<d){const n={info:1.2,success:2,primary:3,purple:5,warning:7,danger:10}[l],i=["accessory","sutra"].includes(a)?this.equip_Criticalhitrate(e):0,o=["weapon","accessory","sutra"].includes(a)?Math.floor(this.equip_Attack(e)*n):0,u=["armor","accessory","sutra"].includes(a)?Math.floor(this.equip_Health(e)*n):0,s=["armor","accessory","sutra"].includes(a)?Math.floor(this.equip_Attack(e)*n):0,v=["weapon","accessory","sutra"].includes(a)?this.equip_Criticalhitrate(e):0;return{id:Date.now(),name:t[Math.floor(Math.random()*t.length)],type:a,lock:!1,level:e,score:this.calculateEquipmentScore(i,o,u,v,s),dodge:i,attack:o,health:u,defense:s,critical:v,initial:{dodge:i,attack:o,health:u,defense:s,critical:v},quality:l,strengthen:0}}},equip_Weapons(e,a=!1){return this.drawPrize(e,"weapon",["白玉净尘剑","雪魄寒冰枪","白龙吟风弓","月华流光扇","白玉玄灵笛","霜雪无痕鞭","云隐白凰刃","净世白莲杖","冰魄寒光轮","白玉玲珑塔"],["翠玉青藤剑","碧影灵蛇鞭","绿叶风暴弓","青木长生杖","翡翠灵犀刃","藤蔓缠绕索","翠竹清风扇","生命之泉壶","绿野仙踪笛","森罗万象轮"],["寒冰破晓剑","碧海潮生笛","蓝玉冰魄弓","苍穹蓝龙枪","冰魄寒光剑","鲛人织梦扇","深海之怒戟","碧波凌霄杖","幽蓝蝶舞鞭","银河落霜刃"],["紫霄龙吟剑","幽冥紫蝶刃","星河紫电枪","紫玉寒冰弓","紫焰凤凰琴","苍穹紫雷锤","紫莲幽光扇","紫晶破晓戟","幽冥紫影鞭","紫霄凌虚杖"],["金煌剑","炽焰长枪","琥珀流光弓","龙鳞金斧","破晓黄玉锤","炎阳鞭","流光扇","战神金戟","黄芒闪电刃","日曜乾坤轮"],["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"],a)},equip_Armors(e,a=!1){return this.drawPrize(e,"armor",["瑶池仙绡羽衣","广寒玉兔霜甲","昆仑玉璧战袍","白龙吐珠云裳","九天玄女素绫","瑶光星辰织锦","冰魄银丝战衣","凌霄琼华宝衣","雪域神女雪绒","云隐龙鳞轻铠"],["翠竹幽兰轻衫","碧落青藤云裳","碧眼麒麟战衣","青鸾翔翼织锦","苍梧古木灵袍","绿野仙踪羽衣","灵蛇翠蔓软甲","翡翠琉璃长裙","松风竹影轻裘","春水碧于天衣"],["寒冰护甲衣","碧波守护铠","蓝玉冰心链甲","苍穹蓝灵披风","深海蛟龙鳞甲","冰魄幽光战铠","蓝蝶轻舞护腕","银河之盾胸甲","鲛人织梦护腿","碧波凌波靴"],["紫云织锦袍","幽冥紫霜甲","星河紫霞衣","紫玉冰心链甲","紫焰凤凰披风","苍穹紫雷战铠","紫莲幽光护腕","紫晶凌霄战裙","幽冥紫影护腿","紫霄逐风靴"],["金辉流光锦袍","琥珀流光战衣","黄土龙纹长袍","日炎金鳞铠甲","秋菊金缎华服","蜜蜡黄绸云裳","凤凰涅槃黄衫","黄沙漫天披风","金穗流光纱裙","辉煌金羽战袍"],["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"],a)},equip_Accessorys(e,a=!1){return this.drawPrize(e,"accessory",["瑶池白玉簪","月华流光坠","寒霜凝露链","九天玄女玉佩","云锦织梦镯","龙涎润雪环","白鹤衔珠珮","仙山雪莲花链","瑶台仙露耳环","银河织梦项链"],["翠竹凝露簪","碧泉幽兰链","青藤绕梦镯","翡翠灵叶耳环","灵山仙草玉佩","松柏长青戒","翠影轻舞项链","绿野仙踪手环","碧波荡漾珠链","春回大地玉珮"],["碧海珊瑚簪","冰魄幽蓝链","深海珍珠耳环","蓝田玉髓镯","苍穹蓝宝坠","鲛人泪滴珠","碧波荡漾戒","银河之心项链","蓝蝶飞舞手环","深海龙鳞珮"],["紫霄流光戒","幽冥紫蝶项链","星河紫玉耳环","紫玉冰心手链","紫焰凤凰簪","苍穹紫雷吊坠","紫莲幽光发带","紫晶破晓护符","幽冥紫影指环","紫霄凌虚玉佩"],["金辉日冕簪","琥珀流光链","黄粱一梦镯","皇天后土玉佩","蜜蜡福瑞戒","秋收万颗项链","暖阳照耀耳环","炎黄子孙玉珮","金色麦田手环","盛世繁华珠链"],["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"],a)},equip_Sutras(e,a=!1){return this.drawPrize(e,"sutra",["白玉净瓶","寒霜琉璃镜","瑶池雪莲珠","九天玄冰尺","月华宝莲灯","白云隐龙笛","玉清昆仑扇","净世白莲座","银河落雪琴","碧落瑶光盘"],["翠玉葫芦","青木长生杖","碧落灵珠","幽冥鬼藤鞭","万木回春图","绿绮琴音笛","青鸾火凤羽扇","翠影追魂剑","草木皆兵符","碧泉灵泉壶"],["碧波神珠","冰魄寒玉葫","深海龙息珠","苍穹蓝灵珠","鲛人织梦灯","银河落霜瓶","蓝玉冰心镜","寒冰净世莲","碧波幽兰笛","深海龙吟佩"],["紫霄神雷珠","幽冥紫蝶翼","星河紫玉壶","紫玉冰心镜","紫焰凤凰翎","苍穹紫雷鼎","紫莲幽光轮","紫晶破晓琴","幽冥紫影幡","紫霄凌虚印"],["金蛟剪","乾坤圈","黄金玲珑塔","戊己杏黄旗","轩辕黄帝鼎","镇妖伏魔镜","落日熔金轮","万寿无疆葫芦","金翅大鹏羽扇","地黄玄玉珠"],["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"],a)},equip_Attack(e){return this.getRandomInt(10,50)*e},equip_Health(e){return this.getRandomInt(100,500)*e},equip_Criticalhitrate(){return this.getRandomFloatInRange(.01,.05)},getRandomInt:(e,a)=>(e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e),getRandomFloatInRange:(e,a)=>Math.random()*(a-e)+e,calculateEquipmentScore(e=0,a=0,l=0,t=0,n=0){const i=1.6*e*100+1.5*a+l/100*1+1.2*n+1.8*t*100;return Math.floor(i)}},$a={drawPrize(e){const a=[{type:"weapon",data:this.equipWeapons()},{type:"armor",data:this.equipArmors()},{type:"accessory",data:this.equipAccessories()},{type:"sutra",data:this.equipSutras()}],l={info:50,success:20,primary:15,purple:9,warning:5,danger:1,pink:0},t={sutra:"法器",armor:"护甲",weapon:"兵器",accessory:"灵宝"},n=Object.keys(l),i=(e,a,l,t)=>{const n={info:1.2,success:2,primary:3,purple:5,warning:7,danger:10,pink:15}[t],i=1e3*a,o=1e4*a,u="pink"==t?.25:.1;return{score:this.calculateEquipmentScore(u,i,o,u,u),dodge:["accessory","sutra"].includes(e)?u*n:0,attack:["weapon","accessory","sutra"].includes(e)?Math.floor(i*n):0,health:["armor","accessory","sutra"].includes(e)?Math.floor(o*n):0,defense:["armor","accessory","sutra"].includes(e)?Math.floor(i*n):0,critical:["weapon","accessory","sutra"].includes(e)?u*n:0}[l]};return a.map(({type:a,data:o})=>({type:a,name:t[a],data:o.flatMap((t,o)=>t.map(t=>({name:t,type:a,level:e,score:i(a,e,"score",n[o]),prize:l[n[o]],dodge:i(a,e,"dodge",n[o]),attack:i(a,e,"attack",n[o]),health:i(a,e,"health",n[o]),defense:i(a,e,"defense",n[o]),critical:i(a,e,"critical",n[o]),quality:n[o]})))}))},equipWeapons:()=>[["白玉净尘剑","雪魄寒冰枪","白龙吟风弓","月华流光扇","白玉玄灵笛","霜雪无痕鞭","云隐白凰刃","净世白莲杖","冰魄寒光轮","白玉玲珑塔"],["翠玉青藤剑","碧影灵蛇鞭","绿叶风暴弓","青木长生杖","翡翠灵犀刃","藤蔓缠绕索","翠竹清风扇","生命之泉壶","绿野仙踪笛","森罗万象轮"],["寒冰破晓剑","碧海潮生笛","蓝玉冰魄弓","苍穹蓝龙枪","冰魄寒光剑","鲛人织梦扇","深海之怒戟","碧波凌霄杖","幽蓝蝶舞鞭","银河落霜刃"],["紫霄龙吟剑","幽冥紫蝶刃","星河紫电枪","紫玉寒冰弓","紫焰凤凰琴","苍穹紫雷锤","紫莲幽光扇","紫晶破晓戟","幽冥紫影鞭","紫霄凌虚杖"],["金煌剑","炽焰长枪","琥珀流光弓","龙鳞金斧","破晓黄玉锤","炎阳鞭","流光扇","战神金戟","黄芒闪电刃","日曜乾坤轮"],["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"],["粉晶月刃剑","樱花吹雪弓","蔷薇缠绕鞭","蜜桃梦境杖","粉蝶幻光刃","粉晶流光扇","甜梦水晶枪","粉樱魔法杖","粉钻心语弩","柔粉蔷薇盾"]],equipArmors:()=>[["瑶池仙绡羽衣","广寒玉兔霜甲","昆仑玉璧战袍","白龙吐珠云裳","九天玄女素绫","瑶光星辰织锦","冰魄银丝战衣","凌霄琼华宝衣","雪域神女雪绒","云隐龙鳞轻铠"],["翠竹幽兰轻衫","碧落青藤云裳","碧眼麒麟战衣","青鸾翔翼织锦","苍梧古木灵袍","绿野仙踪羽衣","灵蛇翠蔓软甲","翡翠琉璃长裙","松风竹影轻裘","春水碧于天衣"],["寒冰护甲衣","碧波守护铠","蓝玉冰心链甲","苍穹蓝灵披风","深海蛟龙鳞甲","冰魄幽光战铠","蓝蝶轻舞护腕","银河之盾胸甲","鲛人织梦护腿","碧波凌波靴"],["紫云织锦袍","幽冥紫霜甲","星河紫霞衣","紫玉冰心链甲","紫焰凤凰披风","苍穹紫雷战铠","紫莲幽光护腕","紫晶凌霄战裙","幽冥紫影护腿","紫霄逐风靴"],["金辉流光锦袍","琥珀流光战衣","黄土龙纹长袍","日炎金鳞铠甲","秋菊金缎华服","蜜蜡黄绸云裳","凤凰涅槃黄衫","黄沙漫天披风","金穗流光纱裙","辉煌金羽战袍"],["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"],["粉樱绮梦裳","甜梦粉蝶衣","蜜桃恋曲裙","粉晶流光铠","樱花恋歌袍","柔粉蔷薇甲","粉蝶翩翩袖","甜梦羽织衣","粉晶幻彩裙","蜜桃梦境袍"]],equipAccessories:()=>[["瑶池白玉簪","月华流光坠","寒霜凝露链","九天玄女玉佩","云锦织梦镯","龙涎润雪环","白鹤衔珠珮","昆仑雪莲花链","瑶台仙露耳环","银河织梦项链"],["翠竹凝露簪","碧泉幽兰链","青藤绕梦镯","翡翠灵叶耳环","灵山仙草玉佩","松柏长青戒","翠影轻舞项链","绿野仙踪手环","碧波荡漾珠链","春回大地玉珮"],["碧海珊瑚簪","冰魄幽蓝链","深海珍珠耳环","蓝田玉髓镯","苍穹蓝宝坠","鲛人泪滴珠","碧波荡漾戒","银河之心项链","蓝蝶飞舞手环","深海龙鳞珮"],["紫霄流光戒","幽冥紫蝶项链","星河紫玉耳环","紫玉冰心手链","紫焰凤凰簪","苍穹紫雷吊坠","紫莲幽光发带","紫晶破晓护符","幽冥紫影指环","紫霄凌虚玉佩"],["金辉日冕簪","琥珀流光链","黄粱一梦镯","皇天后土玉佩","蜜蜡福瑞戒","秋收万颗项链","暖阳照耀耳环","炎黄子孙玉珮","金色麦田手环","盛世繁华珠链"],["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"],["粉晶梦蝶链","樱花恋曲簪","甜梦蔷薇戒","蜜桃绮梦环","粉蝶轻舞坠","粉晶甜蜜链","柔粉心语珥","樱花绮梦镯","蜜桃梦境簪","粉蝶幻彩带"]],equipSutras:()=>[["白玉净瓶","寒霜琉璃镜","瑶池雪莲珠","九天玄冰尺","月华宝莲灯","白云隐龙笛","玉清昆仑扇","净世白莲座","银河落雪琴","碧落瑶光盘"],["翠玉葫芦","青木长生杖","碧落灵珠","幽冥鬼藤鞭","万木回春图","绿绮琴音笛","青鸾火凤羽扇","翠影追魂剑","草木皆兵符","碧泉灵泉壶"],["碧波神珠","冰魄寒玉葫","深海龙息珠","苍穹蓝灵珠","鲛人织梦灯","银河落霜瓶","蓝玉冰心镜","寒冰净世莲","碧波幽兰笛","深海龙吟佩"],["紫霄神雷珠","幽冥紫蝶翼","星河紫玉壶","紫玉冰心镜","紫焰凤凰翎","苍穹紫雷鼎","紫莲幽光轮","紫晶破晓琴","幽冥紫影幡","紫霄凌虚印"],["金蛟剪","乾坤圈","黄金玲珑塔","戊己杏黄旗","轩辕黄帝鼎","镇妖伏魔镜","落日熔金轮","万寿无疆葫芦","金翅大鹏羽扇","地黄玄玉珠"],["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"],["粉樱梦幻笛","甜心粉蝶壶","蜜桃恋语镜","粉晶流光珠","柔粉绮梦石","樱花纷飞扇","甜梦绮罗盘","蜜桃幻影灯","粉蝶织梦琴","粉樱守护符"]],calculateEquipmentScore(e=0,a=0,l=0,t=0,n=0){const i=1.6*e*100+1.5*a+l/100*1+1.2*n+1.8*t*100;return Math.floor(i)}},Ca={all(){return[{name:"灵宠成就",type:"pet",data:this.pet()},{name:"探索成就",type:"monster",data:this.monster()},{name:"装备成就",type:"equipment",data:this.equipment()}]},pet:()=>[{id:1,name:"气血神宠",award:1e3,titleBonus:{health:5e3},condition:{dodge:0,health:23500,attack:0,defense:0,critical:0}},{id:2,name:"攻击神宠",award:1e3,titleBonus:{attack:1e3},condition:{dodge:0,health:0,attack:7050,defense:0,critical:0}},{id:3,name:"防御神宠",award:1e3,titleBonus:{defense:100},condition:{dodge:0,health:0,attack:0,defense:705,critical:0}},{id:4,name:"闪避神宠",award:1e3,titleBonus:{dodge:.1},condition:{dodge:.47,health:0,attack:0,defense:0,critical:0}},{id:5,name:"暴击神宠",award:1e3,titleBonus:{critical:.1},condition:{dodge:0,health:0,attack:0,defense:0,critical:.47}},{id:6,name:"灵宠天花板",titleBonus:{attack:2500},award:1e4,condition:{dodge:.47,health:23500,attack:7050,defense:705,critical:.47}}],equipment:()=>[],monster:()=>[{id:7,name:"挑战者",desc:"通关无尽塔100层",titleBonus:{critical:.05},award:1e4,condition:{highestTowerFloor:100}},{id:8,name:"征服者",desc:"通关无尽塔1000层",titleBonus:{critical:.1},award:1e4,condition:{highestTowerFloor:1e3}},{id:8,name:"长生者",desc:"寿元达到1000岁",titleBonus:{health:1e4},award:1e4,condition:{age:1e3}},{id:9,name:"幸运之星",desc:"小游戏胜利超过10次",titleBonus:{defense:.01},award:1e4,condition:{gameWins:10}},{id:10,name:"天选之子",desc:"小游戏胜利超过100次",titleBonus:{defense:.1},award:1e4,condition:{gameWins:100}}]},qa={class:"attributes"},Ta={class:"attribute-box"},Sa={class:"tag attribute"},Ia={class:"tag attribute"},Va={class:"tag attribute"},Ba={class:"tag attribute"},Da={class:"tag attribute"},Ra={class:"tag attribute"},Fa={class:"tag attribute"},Aa={key:1,class:"tag attribute"},Ea={key:2,class:"tag attribute"},Ha=Object.assign({name:"weapon-tooltip"},{__name:"equipTooltip",props:{calculateCost:{},calculateEnhanceSuccessRate:{},player:{},strengthenInfo:{}},setup:e=>(a,l)=>{var t,n,i;return h(),s("div",qa,[o("div",Ta,[o("div",Sa,"气血: "+R(g(Re)(e.strengthenInfo.health)),1),o("div",Ia,"攻击: "+R(g(Re)(e.strengthenInfo.attack)),1),o("div",Va,"防御: "+R(g(Re)(e.strengthenInfo.defense)),1),o("div",Ba," 暴击率: "+R((null==(t=e.strengthenInfo)?void 0:t.critical)>0?100*(null==(n=e.strengthenInfo)?void 0:n.critical)>100?100:(100*(null==(i=e.strengthenInfo)?void 0:i.critical)).toFixed(2):0)+"% ",1),o("div",Da," 闪避率: "+R(e.strengthenInfo.dodge>0?100*e.strengthenInfo.dodge>100?100:(100*e.strengthenInfo.dodge).toFixed(2):0)+"% ",1),o("div",Ra,"炼器等级: "+R(e.strengthenInfo.strengthen??0),1),o("div",Fa,"装备评分: "+R(g(Re)(e.strengthenInfo.score)),1),e.calculateCost?(h(),s("div",{key:0,class:"tag attribute",onClick:l[0]||(l[0]=e=>g(qe)({title:"获得方式",message:"分解装备可获取",position:"top-left"}))}," 拥有炼器石: "+R(g(Re)(e.player.props.strengtheningStone)),1)):r("",!0),e.calculateCost?(h(),s("div",Aa,"炼器消耗: "+R(e.calculateCost),1)):r("",!0),e.calculateEnhanceSuccessRate?(h(),s("div",Ea," 成功率: "+R((100*e.calculateEnhanceSuccessRate).toFixed(2))+"% ",1)):r("",!0)])])}}),Na=ge(Ha,[["__scopeId","data-v-8bc73153"]]),Ua={class:"index"},Pa={class:"index-box"},La={class:"story"},Oa=["innerHTML"],za={class:"attributes"},Ga={class:"attribute-box"},ja={class:"tag attribute"},Wa={key:0,class:"tag attribute"},Ka={class:"tag attribute"},Ja={class:"tag attribute"},Qa={class:"tag attribute"},Xa={class:"tag attribute"},Ya={class:"tag attribute"},Za={class:"tag attribute"},el={class:"equip-box"},al={class:"tag equip-item"},ll={class:"equip"},tl={key:1},nl={class:"equip"},il={key:1},ul={class:"tag equip-item"},sl={class:"equip"},ol={class:"equip"},rl={key:1},vl={class:"tag equip-item"},cl={class:"equip"},dl={key:1},pl={class:"equip"},ml={key:1},hl={class:"tag inventory-box"},fl={class:"el-dropdown-link"},gl={class:"inventory-content"},yl={key:0},bl={class:"inventory-content"},kl={class:"el-dropdown-link"},xl={class:"inventory-content"},wl={class:"inventory-content"},_l={class:"el-dropdown"},Ml={class:"inventory-content"},$l={class:"actions"},Cl={class:"action"},ql={class:"strengthen-box"},Tl={class:"attributes"},Sl={class:"attribute-box"},Il={class:"tag attribute"},Vl={class:"tag attribute"},Bl={class:"tag attribute"},Dl={class:"tag attribute"},Rl={class:"tag attribute"},Fl={class:"click-box"},Al={class:"strengthen-box"},El={class:"attributes"},Hl={class:"attribute-box"},Nl={class:"tag attribute"},Ul={class:"tag attribute"},Pl={class:"tag attribute"},Ll={class:"tag attribute"},Ol={class:"tag attribute"},zl={class:"tag attribute"},Gl={class:"tag attribute"},jl={class:"tag attribute"},Wl={class:"click-box"},Kl={key:0,class:"strengthen-box"},Jl={class:"click-box"},Ql={class:"monsterinfo"},Xl={class:"monsterinfo-box"},Yl={class:"description"},Zl={class:"icon"},et={class:"value"},at={class:"description"},lt={class:"icon"},tt={class:"value"},nt={class:"description"},it={class:"icon"},ut={class:"value"},st={class:"description"},ot={class:"icon"},rt={class:"value"},vt={class:"description"},ct={class:"icon"},dt={class:"value"},pt={class:"description"},mt={class:"icon"},ht={class:"value"},ft={class:"description"},gt={class:"icon"},yt={class:"value"},bt={class:"description"},kt={class:"icon"},xt={class:"value"},wt={class:"monsterinfo-box"},_t={class:"description"},Mt={class:"icon"},$t={class:"value"},Ct={class:"description"},qt={class:"icon"},Tt={class:"value"},St={class:"description"},It={class:"icon"},Vt={class:"value"},Bt={class:"description"},Dt={class:"icon"},Rt={class:"value"},Ft={class:"description"},At={class:"icon"},Et={class:"value"},Ht={class:"dialog-footer"},Nt={class:"monsterinfo"},Ut={class:"monsterinfo-box"},Pt={class:"description"},Lt={class:"description"},Ot={class:"icon"},zt={class:"value"},Gt={class:"description"},jt={class:"icon"},Wt={class:"value"},Kt={class:"description"},Jt={class:"icon"},Qt={class:"value"},Xt={class:"description"},Yt={class:"icon"},Zt={class:"value"},en={class:"description"},an={class:"icon"},ln={class:"value"},tn={class:"description"},nn={class:"icon"},un={class:"value"},sn={class:"description"},on={class:"icon"},rn={class:"value"},vn={class:"description"},cn={class:"icon"},dn={class:"value"},pn={class:"description"},mn={class:"icon"},hn={class:"value"},fn={class:"monsterinfo-box"},gn={class:"description"},yn={class:"icon"},bn={class:"value"},kn={class:"description"},xn={class:"icon"},wn={class:"value"},_n={class:"description"},Mn={class:"icon"},$n={class:"value"},Cn={class:"description"},qn={class:"icon"},Tn={class:"value"},Sn={class:"description"},In={class:"icon"},Vn={class:"value"},Bn={class:"dialog-footer"},Dn={class:"dialog-footer",style:{"margin-top":"20px"}},Rn={class:"dialog-footer",style:{"margin-top":"20px"}},Fn={class:"dialog-footer"},An={class:"equipAll-box"},En={class:"equipAll-content"},Hn=["onClick"],Nn={key:0,class:"achievement-content"},Un=["onClick"],Pn={key:1,class:"achievement-content"},Ln={class:"newBie"},On={class:"monsterinfo"},zn={class:"newbieinfo-box"},Gn={class:"dialog-footer"},jn={class:"dialog-footer"},Wn=ge({__name:"homePage",setup(e){const a=fe(),n=I(),p=l("1.0.0"),y=l(""),b=l(!1),k=l(!1);l(a.boss);const _=l(a.player),x=l([]),w=l(!1),M=l(!1),$=l({}),B=l(!1),F=l(!1);l(!1);const A=l({info:1,pink:7,danger:6,purple:4,primary:3,success:2,warning:5}),ee=l(!1),ae=l(""),le=l(100),te=l([]),ne=l("weapon"),ie=l("illustrations"),oe=l({}),ue=l(""),se=l(!1),ve=l([{type:"weapon",name:"神兵"},{type:"armor",name:"护甲"},{type:"accessory",name:"灵宝"},{type:"sutra",name:"法器"}]),ce=l(!1),re=l(""),de=l(!1),pe=l(!1),me=l({}),he=l(!1),ge=l(!1),ye=l(!1),be=l(!1),ke=l({}),xe=l([]),we=l("equipment"),Me=l("weapon"),$e=l(["info","success","primary","purple","warning","danger","pink"]),Fe=l(!1),Ae=l("pet"),Ee=l(""),Ne=l(""),He=l([]),Ue=l(!1),Pe=l("weapon"),Le=l(""),Oe=t(()=>{const e=_.value.props;return Object.keys(e).map(a=>({name:a,num:e[a]}))});u(()=>{xe.value=Ca.all(),He.value=$a.drawPrize(Ce),ze()}),i(()=>we.value,e=>{"shop"!=e||_.value.shopData.length||(_.value.shopData=_a.drawPrize(Ce)),"props"==e&&qe({title:"提示",message:"点击道具可以获取道具相关信息"})}),i(()=>_.value.attack,e=>{if(!isNaN(e))return e;Je()}),i(()=>_.value.health,e=>{if(!isNaN(e))return e;Je()}),i(()=>_.value.defense,e=>{if(!isNaN(e))return e;Je()}),i(()=>_.value.maxHealth,e=>{if(!isNaN(e))return e;Je()}),i(()=>_.value.critical,e=>isNaN(e)||e<0?(ae.value="暴击属性出错, 请手动卸下身上穿的所有装备后刷新游戏<br>如果身上没有装备却一直存在此提示可以尝试穿一次装备再刷新游戏",0):e),i(()=>_.value.dodge,e=>isNaN(e)||e<0?(ae.value="闪避属性出错, 请手动卸下身上穿的所有装备后刷新游戏<br>如果身上没有装备却一直存在此提示可以尝试穿一次装备再刷新游戏",0):e);const ze=()=>{ae.value="你的修仙之旅开始了。",x.value=[{text:"开始修炼",handler:()=>n.push("/cultivate")},{text:"探索秘境",handler:()=>{_.value.isNewbie?_.value.level<10?qe({title:"实力不足提示",message:`外面太危险了, 请突破到${Te(10)}再出去吧!`}):n.push("/map"):qe({title:"提示",message:"新手礼包未领取"})}},{text:"图鉴与成就",handler:()=>{de.value=!0}},{text:"挑战无尽塔",handler:()=>n.push("/endlesstower")},{text:"世界BOSS",handler:()=>n.push("/boss")},{text:"休闲娱乐",handler:()=>n.push("/game")}],_.value.health=_.value.maxHealth},Ge=()=>{_.value.script="",qe({title:"提示",message:"脚本删除成功"}),location.reload(1)},je=e=>(ue.value=e,We(),!1),We=()=>{V.confirm("","脚本导入须知",{center:!0,message:"导入前请确认脚本可用并备份存档<br>如因导入错误脚本导致的存档游戏出现任何问题<br>作者概不负责",cancelButtonText:"考虑一下",confirmButtonText:"我会为自己的行为负责",dangerouslyUseHTMLString:!0}).then(()=>{const e=ue.value,a=new FileReader;a.onload=e=>{try{const a=e.target.result;_.value.script=a,qe({title:"提示",message:"脚本导入成功"}),location.reload(1)}catch(e){e.value=e,k.value=!0,qe({title:"脚本导入失败",message:"复制错误信息到QQ群内"})}},a.readAsText(e)}).catch(()=>{})},Ke=()=>{V.prompt("每次修改名字需要花费100灵石","修改名字",{inputPattern:/^(?=\S).*/,cancelButtonText:"取消修改",confirmButtonText:"确定修改",inputErrorMessage:"名字不可为空"}).then(({value:e})=>{_.value.props.money<100?qe({title:"提示",message:"灵石不足, 名字修改失败"}):(_.value.name=e,_.value.props.money-=100,qe({title:"提示",message:"修改成功"}))}).catch(()=>{})},Je=()=>{ae.value='属性出错, 请添加QQ群:920930589, 上传"存档"并联系作者解决',V.confirm("你是否要导出存档?","存档导出提示",{center:!0,confirmButtonText:"确定"}).then(()=>{la()}).catch(()=>{})},Qe=()=>{const e=_.value.pets;if(!e.length)return void qe({title:"灵宠放生提示",message:"你没有可以放生的灵宠"});const a=e.filter(e=>!e.lock);if(!a.length)return void qe({title:"灵宠放生提示",message:"你没有可以放生的未锁定灵宠"});Ue.value=!1;const l=a.reduce((e,a)=>{const l=a.reincarnation?a.reincarnation:1;let t=a.level*l;return t=Number(t)||0,e+Math.floor(t)},0);_.value.props.cultivateDan+=l,_.value.pets=e.filter(e=>e.lock),qe({title:"灵宠放生提示",message:`所有非锁定灵宠已成功放生, 他们临走前一起赠与了你${l}个培养丹`})},Xe=()=>{const e=_.value.inventory,a=_.value.sellingEquipmentData;if(!a.length)return void qe({title:"背包装备分解提示",message:"你没有选择勾选需要分解的品阶"});const l=e.filter(e=>a.includes(e.quality)&&!e.lock);if(!l.length)return void qe({title:"背包装备分解提示",message:"背包内并没有可以售卖的装备"});Ue.value=!1;const t=l.reduce((e,a)=>{let l=a.level+a.level*_.value.reincarnation/10;return l=Number(l)||0,e+Math.floor(l)},0);_.value.props.money+=l.length,_.value.props.strengtheningStone+=t,_.value.inventory=e.filter(e=>!a.includes(e.quality)||e.lock),qe({title:"背包装备分解提示",message:`背包内所有非锁定装备已成功分解, 你获得了${t}个炼器石和${l.length}个灵石`})},Ye=e=>{_.value.sellingEquipmentData=e},Ze=()=>{_.value.props.money<500?qe({title:"提示",message:"灵石不足, 刷新商店需要500灵石"}):(_.value.props.money-=500,_.value.shopData=_a.drawPrize(Ce),qe({title:"提示",message:"刷新成功"}))},ea=()=>{V.confirm("你确定要删除存档吗?建议数据出问题的时候再删除","数据删除提示",{center:!0,cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then(()=>{qe({title:"提示",message:"存档删除成功"}),localStorage.removeItem("vuex"),location.reload(1)}).catch(()=>{})},aa=e=>{const a=e.file,l=new FileReader;l.onload=e=>{try{localStorage.setItem("vuex",e.target.result),location.reload(1)}catch(e){e.value=e,k.value=!0,qe({title:"脚本导入失败",message:"复制错误信息到QQ群内"})}},l.readAsText(a)},la=()=>{const e=new Date,a=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0"),u=new Blob([localStorage.getItem("vuex")],{type:"application/json;charset=utf-8"}),s=`我的文字修仙全靠刷-${a}${l}${t}${n}${i}${o}-${p.value}.json`;L.saveAs(u,s)},ta=()=>{b.value=!1,Ue.value=!0},na=e=>{V.confirm(`你确定要放生<span class="el-tag el-tag--${ga(e.level)}">${e.name}(${Te(e.level)})</span>吗?`,"灵宠放生通知",{center:!0,cancelButtonText:"取消放生",confirmButtonText:"确定放生",dangerouslyUseHTMLString:!0}).then(()=>{const a=e.reincarnation?e.reincarnation:1,l=e.level*a;M.value=!1,_.value.props.cultivateDan+=l,_.value.pets=_.value.pets.filter(a=>a.id!==e.id),qe({title:`${e.name}已成功放生`,message:`对方临走时赠与了你${l}个培养丹`})}).catch(()=>{})},ia=(e,a)=>{a=a||0;const l=e=>Number(e)===e&&e%1!=0,t=(e=e||0)-parseFloat(a)<-1?-1:e-parseFloat(a)>1?1:e-parseFloat(a),n={num:l(e)||l(a)?(100*t).toFixed(2)+"%":e-parseInt(a),icon:e>a?"success el-icon-caret-top":e==a?"":"danger el-icon-caret-bottom"};return n.num=0==n.num?"":n.num,n},oa=e=>(5*e.level+50*e.strengthen)*(B.value?10:1)*(F.value?5:1),ua=e=>1-(.03*e.strengthen-(F.value?.1:0)),sa=e=>{const a=Fe.value?10:1;return(200*e+(_.value.pet.reincarnation?200*e:1))*a},va=()=>{const e=_.value.wife;ya(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),_.value.wife={},_.value.wifes.push(e)},ca=e=>{V.confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n      <p>价格: ${le.value}鸿蒙石</p>\n      <p>类型: ${Ve[e.type]}</p>\n      <p>境界: ${Te(e.level)}</p>\n      <p>品质: ${Be[e.quality]}</p>\n      <p>气血: ${Re(e.health)}</p>\n      <p>攻击: ${Re(e.attack)}</p>\n      <p>防御: ${Re(e.defense)}</p>\n      <p>闪避率: ${e.dodge>0?100*e.dodge>100?100:(100*e.dodge).toFixed(2):0}%</p>\n      <p>暴击率: ${e.critical>0?100*e.critical>100?100:(100*e.critical).toFixed(2):0}%</p>\n      <p>装备评分: ${Re(e.score)}</p>\n      </div>\n    </div>`,cancelButtonText:"取消购买",confirmButtonText:"购买装备",dangerouslyUseHTMLString:!0}).then(()=>{(e=>{_.value.props.currency>=le.value?(_.value.props.currency-=le.value,_.value.inventory.length>=_.value.backpackCapacity?ae.value="当前装备背包容量已满, 该装备自动丢弃, 转生可增加背包容量":_.value.inventory.push(e),we.value="equipment",Me.value=e.type,qe({title:"购买提示",message:`您成功花费${le.value}鸿蒙石购买${e.name}`})):qe({title:"购买提示",message:"购买失败, 鸿蒙石不足"})})(e)}).catch(()=>{})},ra=e=>{if(_.value.isNewbie)return void qe({title:"提示",message:"新手礼包无法重复领取"});ee.value=!0;let a={};if(4==e)a=Ma.equip_Weapons(10,!1);else if(3==e)a=Ma.equip_Armors(10,!1);else if(2==e)a=Ma.equip_Accessorys(10,!1);else if(1==e)a=Ma.equip_Sutras(10,!1);else{if(0!=e)return;ge.value=!1}"{}"!=JSON.stringify(a)&&te.value.push(a),e--,setTimeout(()=>{ra(e)},100)},da=()=>{te.value=[],ge.value=!0,ra(4)},pa=()=>{V.confirm("你确定已经获得到了自己满意的装备了吗?","提示",{center:!0,cancelButtonText:"不确定",confirmButtonText:"确定",dangerouslyUseHTMLString:!0}).then(()=>{ee.value=!1,_.value.inventory=te.value,te.value=[],_.value.isNewbie=!0,qe({title:"新手礼包领取提示",message:"新手礼包领取成功!"})}).catch(()=>{})},ma=e=>{V.confirm(`你确定要分解<span class="el-tag el-tag--${e.quality}">${Be[e.quality]}${e.name}(${Ve[e.type]})</span>吗?`,"装备分解通知",{center:!0,cancelButtonText:"取消分解",confirmButtonText:"确定分解",dangerouslyUseHTMLString:!0}).then(()=>{const a=e.level+Math.floor(e.level*_.value.reincarnation/10);_.value.props.strengtheningStone+=a,_.value.inventory=_.value.inventory.filter(a=>a.id!==e.id),ye.value=!1,qe({title:"背包装备售卖提示",message:`${e.name}已成功卖出, 你获得了${a}个炼器石`})}).catch(()=>{})},ha=(e,a)=>a.find(a=>a.id===e),fa=()=>{const e=_.value.pet;"{}"!=JSON.stringify(e)&&(ya(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),we.value="pet",_.value.pets.push(e),_.value.pet={})},ga=e=>e>=1&&e<=9?"success":e>=10&&e<=19?"primary":e>=20&&e<=29?"warning":e>=30?"danger":void 0,ya=(e=0,a=0,l=0,t=0,n=0)=>{e=isNaN(e)||!e?0:parseFloat(e),a=isNaN(a)||!a?0:Math.floor(a),l=isNaN(l)||!l?0:Math.floor(l),n=isNaN(n)||!n?0:Math.floor(n),t=isNaN(t)||!t?0:parseFloat(t),_.value.dodge=_.value.dodge+e,_.value.attack=_.value.attack+a,_.value.health=_.value.health+l,_.value.maxHealth=_.value.maxHealth+l,_.value.critical=_.value.critical+t,_.value.defense=_.value.defense+n,_.value.score=Ma.calculateEquipmentScore(_.value.dodge,_.value.attack,_.value.maxHealth,_.value.critical,_.value.defense)},ba=e=>{const{inventory:a,equipment:l}=_.value;l[e]&&(ya(-l[e].dodge,-l[e].attack,-l[e].health,-l[e].critical,-l[e].defense),Me.value=e,l[e].id=Date.now(),a.push(l[e]),l[e]={})},ka=(e,a)=>{if(!e||!a)return;const l=ha(e,_.value.inventory.concat(_.value.equipment[a]));l&&(ke.value=l,_.value.equipment[a]&&(_.value.equipment[a].strengthen=(null==l?void 0:l.strengthen)?null==l?void 0:l.strengthen:0))},qa=(e,a)=>{e&&(be.value=!0,ka(e,a))},xa=e=>{Le.value=e,_.value.inventory=_.value.inventory.slice().sort((a,l)=>l[e]-a[e])},Ra=e=>{Ne.value=e,_.value.pets=_.value.pets.slice().sort((a,l)=>l[e]-a[e])},wa=e=>{const a={attack:"攻击",health:"气血",defense:"防御"};if(_.value.points>0){const l=_.value.reincarnation?10*_.value.reincarnation:1,t="attack"==e||"defense"==e?50*l:100*l;"attack"==e?ya(0,t,0,0,0):"defense"==e?ya(0,0,0,0,t):"health"==e&&ya(0,0,t,0,0),_.value.points--,qe({title:"加点提示",message:`加点成功${a[e]}增加了${t}点`})}},Ta=(e,a)=>{let l=Math.abs(e-a)/e*100;return`${(_.value.maxCultivation-_.value.cultivation>0?100-l:100).toFixed(2)}%`},Da=e=>{const a="qq"==e?"920930589":"https://github.com/setube/vue-XiuXianGame";V.prompt("","qq"==e?"官方群聊":"开源地址",{inputValue:a,showCancelButton:!1,confirmButtonText:"复制",beforeClose:async(e,l,t)=>{if("confirm"===e){if(window.navigator.clipboard)try{await window.navigator.clipboard.writeText(a),t(),b.value=!1,qe({title:"提示",message:"复制成功"})}catch(e){qe({title:"提示",message:"复制失败, 请手动复制"})}}else t()}}).catch(()=>{})},Sa=(e,a)=>{const l=_.value.achievement[e]||[];return Array.isArray(l)&&l.some(e=>e.id===a)},Va=e=>Object.entries(e).map(([e,a])=>`${Se[e]}+${a>1?a:100*a+"%"}`).join(", "),Ia=e=>{if(_.value.currentTitle===e.name)Ba(e.titleBonus,!1),_.value.currentTitle=null,qe({title:"称号系统",message:`你取消佩戴了称号"${e.name}"`});else{if(_.value.currentTitle){const e=Fa(_.value.currentTitle);e&&Ba(e.titleBonus,!1)}Ba(e.titleBonus,!0),_.value.currentTitle=e.name,qe({title:"称号系统",message:`你佩戴了称号"${e.name}"`})}},Ba=(e,a)=>{const l=a?1:-1;let t=0,n=0,i=0,o=0,u=0;Object.entries(e).forEach(([e,a])=>{switch(e){case"dodge":t+=a*l;break;case"attack":n+=a*l;break;case"health":i+=a*l;break;case"critical":o+=a*l;break;case"defense":u+=a*l}}),ya(t,n,i,o,u)},Fa=e=>xe.value.flatMap(e=>e.data).find(a=>a.name===e);return(e,a)=>{var l,t,n,i,u,I,L,le,ue,fe,Se,ze,We,Je,_a,Ca,$a,Ba,Fa,Aa,Ea,Ha,Wn;const Kn=U,Jn=d("EditPen"),Qn=E,Xn=d("Warning"),Yn=d("CirclePlus"),Zn=P,ei=d("arrow-down"),ai=j,li=G,ti=z,ni=d("Lock"),ii=d("Unlock"),oi=O,ui=H,si=d("Refresh"),vi=T,ci=S,ri=W,di=J,pi=K,mi=N,hi=Q,fi=X,gi=Y,yi=d("Close"),bi=d("View"),ki=Z;return h(),s("div",Ua,[o("div",Pa,[o("div",La,[o("p",{innerHTML:ae.value},null,8,Oa)]),o("div",za,[o("div",Ga,[o("div",{class:"tag attribute",onClick:Ke},[D(" 名字: "+R(_.value.name)+" ",1),_.value.currentTitle?(h(),f(Kn,{key:0,type:"danger"},{default:c(()=>[D("["+R(_.value.currentTitle)+"]",1)]),_:1})):r("",!0),v(Qn,null,{default:c(()=>[v(Jn)]),_:1})]),o("div",ja,"年纪: "+R(_.value.age)+"岁",1),o("div",{class:"tag attribute",onClick:a[0]||(a[0]=e=>w.value=!0)},[D(" 境界: "+R(g(Te)(_.value.level))+" ("+R(_.value.reincarnation||0)+"转) ",1),v(Qn,null,{default:c(()=>[v(Xn)]),_:1})]),_.value.level>=g(Ce)?(h(),s("div",Wa,"修为: 登峰造极")):(h(),s("div",{key:1,class:"tag attribute",onClick:a[1]||(a[1]=e=>g(qe)({title:"提示",message:`您距离${g(Te)(_.value.level+1)}境界还需${g(Re)(_.value.maxCultivation-_.value.cultivation)}点修为`}))},[D(" 修为: "+R(Ta(_.value.maxCultivation,_.value.cultivation))+" ",1),v(Qn,null,{default:c(()=>[v(Xn)]),_:1})])),o("div",Ka,[D(" 气血: "+R(g(Re)(_.value.health))+" / "+R(g(Re)(_.value.maxHealth))+" ",1),_.value.points>0?(h(),f(Qn,{key:0,onClick:a[2]||(a[2]=e=>wa("health"))},{default:c(()=>[v(Yn)]),_:1})):r("",!0)]),o("div",Ja,[D(" 攻击: "+R(g(Re)(_.value.attack))+" ",1),_.value.points>0?(h(),f(Qn,{key:0,onClick:a[3]||(a[3]=e=>wa("attack"))},{default:c(()=>[v(Yn)]),_:1})):r("",!0)]),o("div",Qa,[D(" 防御: "+R(g(Re)(_.value.defense))+" ",1),_.value.points>0?(h(),f(Qn,{key:0,onClick:a[4]||(a[4]=e=>wa("defense"))},{default:c(()=>[v(Yn)]),_:1})):r("",!0)]),o("div",Xa," 闪避率: "+R(_.value.dodge>0?100*_.value.dodge>100?100:(100*_.value.dodge).toFixed(2):0)+"% ",1),o("div",Ya," 暴击率: "+R(_.value.critical>0?100*_.value.critical>100?100:(100*_.value.critical).toFixed(2):0)+"% ",1),o("div",Za,"总体实力: "+R(g(Re)(_.value.score)),1),o("div",{class:"tag attribute",onClick:a[5]||(a[5]=e=>g(qe)({title:"获得方式",message:"每提成一次境界可以获得3点境界点"}))},[D(" 境界点: "+R(g(Re)(_.value.points))+" ",1),v(Qn,null,{default:c(()=>[v(Xn)]),_:1})]),o("div",{class:"tag attribute",onClick:a[6]||(a[6]=e=>g(qe)({title:"获得方式",message:"每转生一次可以增加50容量"}))},[D(" 背包容量: "+R(null==(t=null==(l=_.value)?void 0:l.inventory)?void 0:t.length)+" / "+R(_.value.backpackCapacity)+" ",1),v(Qn,null,{default:c(()=>[v(Xn)]),_:1})])])]),o("div",el,[o("div",al,[o("span",ll,[a[66]||(a[66]=o("span",null,"神兵:",-1)),(null==(i=null==(n=_.value.equipment)?void 0:n.weapon)?void 0:i.name)?(h(),f(Zn,{key:0,placement:"bottom",title:null==(I=null==(u=_.value.equipment)?void 0:u.weapon)?void 0:I.name,width:300,trigger:"hover"},{reference:c(()=>{var e,l,t,n;return[o("span",null,[v(_e,{type:null==(l=null==(e=_.value.equipment)?void 0:e.weapon)?void 0:l.quality,closable:!!(null==(n=null==(t=_.value.equipment)?void 0:t.weapon)?void 0:n.name),onClose:a[7]||(a[7]=e=>ba("weapon")),onClick:a[8]||(a[8]=e=>{var a;return qa(null==(a=_.value.equipment.weapon)?void 0:a.id,"weapon")}),onMouseenter:a[9]||(a[9]=e=>{var a;return ka(null==(a=_.value.equipment.weapon)?void 0:a.id,"weapon")})},{default:c(()=>{var e,a,l,t,n,i;return[D(R(null==(a=null==(e=_.value.equipment)?void 0:e.weapon)?void 0:a.name)+" "+R((null==(t=null==(l=_.value.equipment)?void 0:l.weapon)?void 0:t.strengthen)?"+"+(null==(i=null==(n=_.value.equipment)?void 0:n.weapon)?void 0:i.strengthen):""),1)]}),_:1},8,["type","closable"])])]}),default:c(()=>[o("div",null,[v(Na,{player:_.value,"strengthen-info":ke.value},null,8,["player","strengthen-info"])])]),_:1},8,["title"])):(h(),s("span",tl,"无"))]),o("span",nl,[a[67]||(a[67]=o("span",null,"护甲:",-1)),(null==(le=null==(L=_.value.equipment)?void 0:L.armor)?void 0:le.name)?(h(),f(Zn,{key:0,placement:"bottom",title:null==(fe=null==(ue=_.value.equipment)?void 0:ue.armor)?void 0:fe.name,width:300,trigger:"hover"},{reference:c(()=>{var e,l,t,n;return[o("span",null,[v(_e,{type:null==(l=null==(e=_.value.equipment)?void 0:e.armor)?void 0:l.quality,closable:!!(null==(n=null==(t=_.value.equipment)?void 0:t.armor)?void 0:n.name),onClose:a[10]||(a[10]=e=>ba("armor")),onClick:a[11]||(a[11]=e=>{var a;return qa(null==(a=_.value.equipment.armor)?void 0:a.id,"armor")}),onMouseenter:a[12]||(a[12]=e=>{var a;return ka(null==(a=_.value.equipment.armor)?void 0:a.id,"armor")})},{default:c(()=>{var e,a,l,t,n,i;return[D(R(null==(a=null==(e=_.value.equipment)?void 0:e.armor)?void 0:a.name)+" "+R((null==(t=null==(l=_.value.equipment)?void 0:l.armor)?void 0:t.strengthen)?"+"+(null==(i=null==(n=_.value.equipment)?void 0:n.armor)?void 0:i.strengthen):""),1)]}),_:1},8,["type","closable"])])]}),default:c(()=>[o("div",null,[v(Na,{player:_.value,"strengthen-info":ke.value},null,8,["player","strengthen-info"])])]),_:1},8,["title"])):(h(),s("span",il,"无"))])]),o("div",ul,[o("span",sl,[a[68]||(a[68]=o("span",null,"灵宝:",-1)),(null==(ze=null==(Se=_.value.equipment)?void 0:Se.accessory)?void 0:ze.name)?(h(),f(Zn,{key:0,placement:"bottom",title:null==(Je=null==(We=_.value.equipment)?void 0:We.accessory)?void 0:Je.name,width:300,trigger:"hover"},{reference:c(()=>{var e,l,t,n;return[o("span",null,[v(_e,{type:null==(l=null==(e=_.value.equipment)?void 0:e.accessory)?void 0:l.quality,closable:!!(null==(n=null==(t=_.value.equipment)?void 0:t.accessory)?void 0:n.name),onClose:a[13]||(a[13]=e=>ba("accessory")),onClick:a[14]||(a[14]=e=>{var a;return qa(null==(a=_.value.equipment.accessory)?void 0:a.id,"accessory")}),onMouseenter:a[15]||(a[15]=e=>{var a;return ka(null==(a=_.value.equipment.accessory)?void 0:a.id,"accessory")})},{default:c(()=>{var e,a,l,t,n,i;return[D(R(null==(a=null==(e=_.value.equipment)?void 0:e.accessory)?void 0:a.name)+" "+R((null==(t=null==(l=_.value.equipment)?void 0:l.accessory)?void 0:t.strengthen)?"+"+(null==(i=null==(n=_.value.equipment)?void 0:n.accessory)?void 0:i.strengthen):""),1)]}),_:1},8,["type","closable"])])]}),default:c(()=>[o("div",null,[v(Na,{player:_.value,"strengthen-info":ke.value},null,8,["player","strengthen-info"])])]),_:1},8,["title"])):r("",!0),a[69]||(a[69]=o("span",{else:""},"无",-1))]),o("span",ol,[a[70]||(a[70]=o("span",null,"法器:",-1)),(null==(Ca=null==(_a=_.value.equipment)?void 0:_a.sutra)?void 0:Ca.name)?(h(),f(Zn,{key:0,placement:"bottom",title:null==(Ba=null==($a=_.value.equipment)?void 0:$a.sutra)?void 0:Ba.name,width:300,trigger:"hover"},{reference:c(()=>{var e,l,t,n;return[o("span",null,[v(_e,{type:null==(l=null==(e=_.value.equipment)?void 0:e.sutra)?void 0:l.quality,closable:!!(null==(n=null==(t=_.value.equipment)?void 0:t.sutra)?void 0:n.name),onClose:a[16]||(a[16]=e=>{var a;return ba(null==(a=_.value.equipment.sutra)?void 0:a.id)}),onClick:a[17]||(a[17]=e=>{var a;return qa(null==(a=_.value.equipment.sutra)?void 0:a.id,"sutra")}),onMouseenter:a[18]||(a[18]=e=>{var a;return ka(null==(a=_.value.equipment.sutra)?void 0:a.id,"sutra")})},{default:c(()=>{var e,a,l,t,n,i;return[D(R(null==(a=null==(e=_.value.equipment)?void 0:e.sutra)?void 0:a.name)+" "+R((null==(t=null==(l=_.value.equipment)?void 0:l.sutra)?void 0:t.strengthen)?"+"+(null==(i=null==(n=_.value.equipment)?void 0:n.sutra)?void 0:i.strengthen):""),1)]}),_:1},8,["type","closable"])])]}),default:c(()=>[o("div",null,[v(Na,{player:_.value,"strengthen-info":ke.value},null,8,["player","strengthen-info"])])]),_:1},8,["title"])):(h(),s("span",rl,"无"))])]),o("div",vl,[o("span",cl,[a[71]||(a[71]=o("span",null,"道侣:",-1)),(null==(Fa=_.value.wife)?void 0:Fa.name)?(h(),f(_e,{key:0,class:"pet",closable:"",onClose:va,onClick:a[19]||(a[19]=e=>pe.value=!0)},{default:c(()=>{var e;return[D(R(null==(e=_.value.wife)?void 0:e.name),1)]}),_:1})):(h(),s("span",dl,"无"))]),o("span",pl,[a[72]||(a[72]=o("span",null,"灵宠:",-1)),(null==(Aa=_.value.pet)?void 0:Aa.name)?(h(),f(_e,{key:0,class:"pet",type:ga(null==(Ea=_.value.pet)?void 0:Ea.level),closable:"",onClose:fa,onClick:a[20]||(a[20]=e=>se.value=!0)},{default:c(()=>{var e;return[D(R(null==(e=_.value.pet)?void 0:e.name)+"("+R(g(Te)(_.value.pet.level))+") ",1)]}),_:1},8,["type"])):(h(),s("span",ml,"无"))])]),o("div",hl,[v(ui,{modelValue:we.value,"onUpdate:modelValue":a[24]||(a[24]=e=>we.value=e),stretch:!0},{default:c(()=>[v(oi,{label:"装备",name:"equipment"},{default:c(()=>{var e;return[(null==(e=_.value.inventory)?void 0:e.length)?(h(),f(ti,{key:0,trigger:"click",onCommand:xa},{dropdown:c(()=>[v(li,null,{default:c(()=>[(h(!0),s(C,null,q(g(Ie),(e,a)=>(h(),f(ai,{command:e.type,key:a,disabled:Le.value==e.type},{default:c(()=>[D(" 根据"+R(e.name),1)]),_:2},1032,["command","disabled"]))),128))]),_:1})]),default:c(()=>[o("span",fl,[a[73]||(a[73]=D(" 装备排序 ",-1)),v(Qn,null,{default:c(()=>[v(ei)]),_:1})])]),_:1})):r("",!0),v(ui,{modelValue:Me.value,"onUpdate:modelValue":a[22]||(a[22]=e=>Me.value=e)},{default:c(()=>[(h(!0),s(C,null,q(ve.value,(e,l)=>(h(),f(oi,{label:e.name,name:e.type,key:l},{default:c(()=>[o("div",gl,[_.value.inventory.length?(h(),s("div",yl,[(h(!0),s(C,null,q(_.value.inventory,a=>(h(),f(Zn,{key:a.id,placement:"bottom",title:a.name,width:300,trigger:"hover"},{reference:c(()=>[o("span",null,[a.type==e.type?(h(),f(_e,{class:"inventory-item",key:a.id,type:a.quality,closable:!a.lock,onClose:e=>ma(a),onClick:e=>{return l=a.id,a.type,me.value=ha(l,_.value.inventory),void(ye.value=!0);var l},onMouseenter:e=>ka(a.id,a.type)},{default:c(()=>[a.lock?(h(),f(Qn,{key:0},{default:c(()=>[v(ni)]),_:1})):(h(),f(Qn,{key:1},{default:c(()=>[v(ii)]),_:1})),D(" "+R(null==a?void 0:a.name)+" "+R((null==a?void 0:a.strengthen)?"+"+(null==a?void 0:a.strengthen):""),1)]),_:2},1032,["type","closable","onClose","onClick","onMouseenter"])):r("",!0)])]),default:c(()=>[o("div",null,[v(Na,{player:_.value,"strengthen-info":ke.value},null,8,["player","strengthen-info"])])]),_:2},1032,["title"]))),128))])):r("",!0),_.value.isNewbie?r("",!0):(h(),f(_e,{key:1,type:"success",class:"dialog-footer-button",onClick:a[21]||(a[21]=e=>ra(4))},{default:c(()=>[...a[74]||(a[74]=[D(" 领取新手礼包 ",-1)])]),_:1}))])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]}),_:1}),v(oi,{label:"道具",name:"props"},{default:c(()=>[o("div",bl,[(h(!0),s(C,null,q(Oe.value,(e,a)=>(h(),f(_e,{key:a,type:"primary",class:"inventory-item",onClick:a=>g(qe)({title:"获得方式",message:g(De)[e.name].desc})},{default:c(()=>[D(R(g(De)[e.name].name)+"("+R(e.num)+") ",1)]),_:2},1032,["onClick"]))),128))])]),_:1}),v(oi,{label:"灵宠",name:"pet"},{default:c(()=>[_.value.pets.length?(h(),f(ti,{key:0,trigger:"click",onCommand:Ra},{dropdown:c(()=>[v(li,null,{default:c(()=>[(h(!0),s(C,null,q(g(Ie),(e,a)=>(h(),f(ai,{command:e.type,key:a,disabled:Ne.value==e.type},{default:c(()=>[D(" 根据"+R(e.name),1)]),_:2},1032,["command","disabled"]))),128))]),_:1})]),default:c(()=>[o("span",kl,[a[75]||(a[75]=D(" 灵宠排序 ",-1)),v(Qn,null,{default:c(()=>[v(ei)]),_:1})])]),_:1})):r("",!0),o("div",xl,[(h(!0),s(C,null,q(_.value.pets,(e,a)=>(h(),f(_e,{key:a,class:"inventory-item",type:ga(e.level),closable:"",onClose:a=>na(e),onClick:a=>(e=>{M.value=!0,$.value=e})(e)},{default:c(()=>[e.lock?(h(),f(Qn,{key:0},{default:c(()=>[v(ni)]),_:1})):(h(),f(Qn,{key:1},{default:c(()=>[v(ii)]),_:1})),D(" "+R(e.name)+"("+R(g(Te)(e.level))+") ",1)]),_:2},1032,["type","onClose","onClick"]))),128))])]),_:1}),v(oi,{label:"道侣",name:"wife"},{default:c(()=>[o("div",wl,[(h(!0),s(C,null,q(_.value.wifes,(e,a)=>(h(),f(_e,{key:a,class:"inventory-item",onClick:a=>(e=>{V.confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n      <p>境界: ${Te(e.level)}</p>\n      <p>气血: ${Re(e.health)}</p>\n      <p>攻击: ${Re(e.attack)}</p>\n      <p>防御: ${Re(e.defense)}</p>\n      </div>\n    </div>`,confirmButtonText:"跟随",dangerouslyUseHTMLString:!0}).then(()=>{(e=>{if("{}"!=JSON.stringify(_.value.wife)){const e=_.value.wife;ya(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),_.value.wifes.push(_.value.wife)}_.value.wife=e,ya(e.dodge,e.attack,e.health,e.critical,e.defense),_.value.wifes=_.value.wifes.filter(a=>a.name!==e.name)})(e)}).catch(()=>{})})(e)},{default:c(()=>[D(R(e.name),1)]),_:2},1032,["onClick"]))),128))])]),_:1}),v(oi,{label:"鸿蒙商店",name:"shop"},{default:c(()=>[o("div",_l,[o("span",{class:"el-dropdown-link el-dropdown-selfdefine",onClick:Ze},[a[76]||(a[76]=D(" 刷新商店 ",-1)),v(Qn,null,{default:c(()=>[v(si)]),_:1})])]),v(ui,{modelValue:ne.value,"onUpdate:modelValue":a[23]||(a[23]=e=>ne.value=e),stretch:!0},{default:c(()=>[(h(!0),s(C,null,q(_.value.shopData,(e,a)=>(h(),f(oi,{label:e.name,name:e.type,key:a},{default:c(()=>[o("div",Ml,[(h(!0),s(C,null,q(e.data,(a,l)=>(h(),s(C,null,[a.type==e.type?(h(),f(_e,{class:"inventory-item",type:a.quality,key:l,onClick:e=>ca(a)},{default:c(()=>[D(R(a.name),1)]),_:2},1032,["type","onClick"])):r("",!0)],64))),256))])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])]),o("div",$l,[(h(!0),s(C,null,q(x.value,(e,a)=>(h(),s("div",{class:"action",key:a},[v(vi,{class:"item",type:e.type?e.type:"",onClick:e.handler},{default:c(()=>[D(R(e.text),1)]),_:2},1032,["type","onClick"])]))),128)),o("div",Cl,[v(vi,{class:"item",onClick:a[25]||(a[25]=e=>b.value=!0)},{default:c(()=>[...a[77]||(a[77]=[D("游戏设置",-1)])]),_:1})])])]),v(ci,{title:"修仙境界表",modelValue:w.value,"onUpdate:modelValue":a[26]||(a[26]=e=>w.value=e),direction:"ltr",class:"levels"},{default:c(()=>[(h(!0),s(C,null,q(g(Ce),(e,a)=>(h(),f(_e,{class:"inventory-item",type:_.value.level==a?"primary":a>_.value.level?"danger":"success",key:a},{default:c(()=>[D(R(g(Te)(e)),1)]),_:2},1032,["type"]))),128))]),_:1},8,["modelValue"]),v(ci,{title:null==(Ha=_.value.wife)?void 0:Ha.name,modelValue:pe.value,"onUpdate:modelValue":a[29]||(a[29]=e=>pe.value=e),direction:"rtl",class:"strengthen"},{default:c(()=>[o("div",ql,[o("div",Tl,[o("div",Sl,[o("div",Il,"境界: "+R(g(Te)(_.value.wife.level)),1),o("div",Vl,"气血: "+R(g(Re)(_.value.wife.health)),1),o("div",Bl,"攻击: "+R(g(Re)(_.value.wife.attack)),1),o("div",Dl,"防御: "+R(g(Re)(_.value.wife.defense)),1),o("div",{class:"tag attribute",onClick:a[27]||(a[27]=e=>g(qe)({title:"获得方式",message:"可以通过赠送礼物给NPC获得",position:"top-left"}))}," 拥有情缘点: "+R(g(Re)(_.value.props.qingyuan)),1),o("div",Rl,"升级消耗: "+R(10*_.value.wife.level),1)])]),o("div",Fl,[v(vi,{type:"primary",onClick:a[28]||(a[28]=e=>(e=>{const a=10*e.level;a>_.value.props.qingyuan?qe({title:"道侣升级提示",message:"情缘点不足, 进行无法培养",position:"top-left"}):V.confirm("你确定要升级该道侣吗?","道侣升级提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then(()=>{const l=Math.floor(.1*e.attack),t=Math.floor(.1*e.health),n=Math.floor(.1*e.defense);_.value.wife.level++,qe({title:"道侣升级提示",message:"道侣升级提示成功",position:"top-left"}),_.value.wife.attack+=l,_.value.wife.health+=t,_.value.wife.defense+=n,ya(0,l,t,0,n),_.value.props.qingyuan-=a}).catch(()=>{})})(_.value.wife)),disabled:_.value.wife.level>=g(Ce)},{default:c(()=>[D(R(_.value.wife.level>=g(Ce)?"道侣等级已满":"道侣升级"),1)]),_:1},8,["disabled"])])])]),_:1},8,["title","modelValue"]),v(ci,{title:null==(Wn=_.value.pet)?void 0:Wn.name,modelValue:se.value,"onUpdate:modelValue":a[35]||(a[35]=e=>se.value=e),direction:"rtl",class:"strengthen"},{default:c(()=>[o("div",Al,[o("div",El,[o("div",Hl,[o("div",Nl," 境界: "+R(g(Te)(_.value.pet.level))+" ("+R(_.value.pet.reincarnation||0)+"转) ",1),o("div",Ul,"悟性: "+R(_.value.pet.rootBone),1),o("div",Pl,"气血: "+R(g(Re)(_.value.pet.health)),1),o("div",Ll,"攻击: "+R(g(Re)(_.value.pet.attack)),1),o("div",Ol,"防御: "+R(g(Re)(_.value.pet.defense)),1),o("div",zl,"灵宠评分: "+R(g(Re)(_.value.pet.score)),1),o("div",{class:"tag attribute",onClick:a[30]||(a[30]=e=>g(qe)({title:"获得方式",message:"可以通过探索秘境获得",position:"top-left"}))}," 拥有培养丹: "+R(g(Re)(_.value.props.cultivateDan)),1),o("div",{class:"tag attribute",onClick:a[31]||(a[31]=e=>g(qe)({title:"获得方式",message:"可以通过击败世界BOSS获得",position:"top-left"}))}," 拥有悟性丹: "+R(g(Re)(_.value.props.rootBone)),1),o("div",Gl,"培养消耗: "+R(sa(_.value.pet.level)),1),o("div",jl,"提升悟性消耗: "+R(ce.value?_.value.pet.rootBone:0),1)])]),o("div",Wl,[v(ri,{modelValue:Fe.value,"onUpdate:modelValue":a[32]||(a[32]=e=>Fe.value=e),label:"灵宠转生"},null,8,["modelValue"]),v(ri,{modelValue:ce.value,"onUpdate:modelValue":a[33]||(a[33]=e=>ce.value=e),label:"提升悟性"},null,8,["modelValue"]),v(vi,{type:"primary",onClick:a[34]||(a[34]=e=>(e=>{const a=sa(e.level);ce.value&&_.value.props.rootBone<e.rootBone?qe({title:"灵宠培养提示",message:"悟性丹不足, 无法提升灵宠悟性",position:"top-left"}):Fe.value&&_.value.reincarnation<_.value.pet.reincarnation?qe({title:"灵宠培养提示",message:"灵宠转生不能高于人物转生",position:"top-left"}):Fe.value&&Ce>e.level?qe({title:"灵宠培养提示",message:"灵宠境界未满无法转生",position:"top-left"}):!Fe.value&&e.level>=Ce?qe({title:"灵宠培养提示",message:"灵宠境界已满请转生",position:"top-left"}):a>_.value.props.cultivateDan?qe({title:"灵宠培养提示",message:"培养丹不足, 进行无法培养",position:"top-left"}):V.confirm("你确定要培养该灵宠吗?","灵宠培养提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then(()=>{let l,t,n=0;if(ce.value&&_.value.props.rootBone>=e.rootBone){let a=e.initial.rootBone-e.rootBone;a=a||1,l=Math.floor(e.initial.attack*a),t=Math.floor(e.initial.health*a),n=Math.floor(e.initial.defense*a),e.rootBone++,_.value.props.rootBone-=e.rootBone}else l=Math.floor(.05*e.initial.attack),t=Math.floor(.05*e.initial.health),n=Math.floor(.05*e.initial.defense);Fe.value&&e.level>=Ce?(_.value.pet.level=1,Fe.value=!1,_.value.pet.reincarnation++,qe({title:"灵宠培养提示",message:"灵宠转生成功, 已重置灵宠境界",position:"top-left"})):(_.value.pet.level++,qe({title:"灵宠培养提示",message:"灵宠培养成功",position:"top-left"})),_.value.pet.attack+=l,_.value.pet.health+=t,_.value.pet.defense+=n,ya(0,l,t,0,n),_.value.pet.score=Ma.calculateEquipmentScore(_.value.pet.dodge,_.value.pet.attack,_.value.pet.health,_.value.pet.critical,_.value.pet.defense),_.value.props.cultivateDan-=a}).catch(()=>{})})(_.value.pet))},{default:c(()=>[...a[78]||(a[78]=[D("点击培养",-1)])]),_:1})])])]),_:1},8,["title","modelValue"]),v(ci,{title:"炼器",modelValue:be.value,"onUpdate:modelValue":a[39]||(a[39]=e=>be.value=e),direction:"rtl",class:"strengthen"},{default:c(()=>[be.value?(h(),s("div",Kl,[v(Na,{"calculate-cost":oa(ke.value),"calculate-enhance-success-rate":ua(ke.value),player:_.value,"strengthen-info":ke.value},null,8,["calculate-cost","calculate-enhance-success-rate","player","strengthen-info"]),o("div",Jl,[v(ri,{modelValue:B.value,"onUpdate:modelValue":a[36]||(a[36]=e=>B.value=e),label:"炼器保护"},null,8,["modelValue"]),v(ri,{modelValue:F.value,"onUpdate:modelValue":a[37]||(a[37]=e=>F.value=e),label:"炼器增幅"},null,8,["modelValue"]),v(Zn,{trigger:"hover",width:350,content:"炼器等级大于等于15级时没有炼器保护，强化失败装备会被销毁",placement:"bottom"},{reference:c(()=>[v(vi,{type:"primary",onClick:a[38]||(a[38]=e=>(e=>{const a=ua(e);oa(e)>_.value.props.strengtheningStone?qe({title:"炼器提示",message:"炼器石不足, 进行无法炼器操作",position:"top-left"}):30!=e.strengthen?V.confirm(e.strengthen>=15&&!B.value?`当前装备炼器等级已达到+${e.strengthen}, 如果炼器失败该装备会销毁, 请问还需要炼器吗?`:"你确定要炼器吗?","炼器提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then(()=>{if(Math.random()<=a){const a=Math.floor(.2*e.initial.attack),l=Math.floor(.2*e.initial.health),t=Math.floor(.2*e.initial.defense);switch(e.type){case"weapon":e.attack+=a,ya(0,a,0,0,0);break;case"armor":e.health+=l,e.defense+=t,ya(0,0,l,0,t);break;case"accessory":case"sutra":e.attack+=a,e.health+=l,e.defense+=t,ya(0,a,l,0,t)}e.strengthen++,e.score=Ma.calculateEquipmentScore(e.dodge,e.attack,e.health,e.critical,e.defense),qe({title:"炼器提示",message:"炼器成功",position:"top-left"})}else e.strengthen>=15&&!B.value&&(_.value.equipment[e.type]={},ya(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),e.strengthen=0,be.value=!1),qe({title:"炼器提示",message:e.strengthen>=15&&!B.value?"炼器失败, 装备已自动销毁":"炼器失败",position:"top-left",type:"error"});_.value.props.strengtheningStone-=calculate}).catch(()=>{}):qe({title:"炼器提示",message:"当前装备炼器等级已满",position:"top-left"})})(ke.value))},{default:c(()=>[...a[79]||(a[79]=[D("点击炼器",-1)])]),_:1})]),_:1})])])):r("",!0)]),_:1},8,["modelValue"]),v(mi,{title:$.value.name,"lock-scroll":!1,modelValue:M.value,"onUpdate:modelValue":a[44]||(a[44]=e=>M.value=e),center:"",width:"420px"},{default:c(()=>{var e,l,t,n,i,u,s,r,d,p,h,f,y,b,k,q,x,w,C,T,S,V,I,B,F,A,E,N,H,U,P,L,O,z,G,j,W,K,J,Q,X,Y,Z,ee,ae;return[o("div",Ql,[o("div",Xl,[o("p",null,[o("span",Yl,"境界: "+R(g(Te)(null==(e=$.value)?void 0:e.level)),1),o("span",Zl,[o("i",{class:m(ia(null==(l=$.value)?void 0:l.level,null==(t=_.value.pet)?void 0:t.level).icon)},null,2)]),o("span",et,R($.value.level>parseInt((null==(n=_.value.pet)?void 0:n.level)||0)?g(Te)($.value.level):g(Te)(null==(i=_.value.pet)?void 0:i.level)),1)]),o("p",null,[o("span",at,"转生: "+R((null==(u=$.value)?void 0:u.reincarnation)||0),1),o("span",lt,[o("i",{class:m(ia(null==(s=$.value)?void 0:s.reincarnation,null==(r=_.value.pet)?void 0:r.reincarnation).icon)},null,2)]),o("span",tt,R(ia(null==(d=$.value)?void 0:d.reincarnation,null==(p=_.value.pet)?void 0:p.reincarnation).num),1)]),o("p",null,[o("span",nt,"气血: "+R(null==(h=$.value)?void 0:h.health),1),o("span",it,[o("i",{class:m(ia(null==(f=$.value)?void 0:f.health,null==(y=_.value.pet)?void 0:y.health).icon)},null,2)]),o("span",ut,R(ia(null==(b=$.value)?void 0:b.health,null==(k=_.value.pet)?void 0:k.health).num),1)]),o("p",null,[o("span",st,"攻击: "+R(null==(q=$.value)?void 0:q.attack),1),o("span",ot,[o("i",{class:m(ia(null==(x=$.value)?void 0:x.attack,null==(w=_.value.pet)?void 0:w.attack).icon)},null,2)]),o("span",rt,R(ia(null==(C=$.value)?void 0:C.attack,null==(T=_.value.pet)?void 0:T.attack).num),1)]),o("p",null,[o("span",vt,"防御: "+R(null==(S=$.value)?void 0:S.defense),1),o("span",ct,[o("i",{class:m(ia(null==(V=$.value)?void 0:V.defense,null==(I=_.value.pet)?void 0:I.defense).icon)},null,2)]),o("span",dt,R(ia(null==(B=$.value)?void 0:B.defense,null==(F=_.value.pet)?void 0:F.defense).num),1)]),o("p",null,[o("span",pt," 闪避率: "+R((null==(A=$.value)?void 0:A.dodge)>0?100*(null==(E=$.value)?void 0:E.dodge)>100?100:(100*(null==(N=$.value)?void 0:N.dodge)).toFixed(2):0)+"% ",1),o("span",mt,[o("i",{class:m(ia(null==(H=$.value)?void 0:H.dodge,null==(U=_.value.pet)?void 0:U.dodge).icon)},null,2)]),o("span",ht,R(ia(null==(P=$.value)?void 0:P.dodge,null==(O=null==(L=_.value)?void 0:L.pet)?void 0:O.dodge).num),1)]),o("p",null,[o("span",ft," 暴击率: "+R((null==(z=$.value)?void 0:z.critical)>0?100*(null==(G=$.value)?void 0:G.critical)>100?100:(100*(null==(j=$.value)?void 0:j.critical)).toFixed(2):0)+"% ",1),o("span",gt,[o("i",{class:m(ia(null==(W=$.value)?void 0:W.critical,null==(K=_.value.pet)?void 0:K.critical).icon)},null,2)]),o("span",yt,R(ia(null==(J=$.value)?void 0:J.critical,null==(Q=_.value.pet)?void 0:Q.critical).num),1)]),o("p",null,[o("span",bt,"灵宠评分: "+R(null==(X=$.value)?void 0:X.score),1),o("span",kt,[o("i",{class:m(ia(null==(Y=$.value)?void 0:Y.score,null==(Z=_.value.pet)?void 0:Z.score).icon)},null,2)]),o("span",xt,R(ia(null==(ee=$.value)?void 0:ee.score,null==(ae=_.value.pet)?void 0:ae.score).num),1)])])]),v(pi,{modelValue:re.value,"onUpdate:modelValue":a[40]||(a[40]=e=>re.value=e),class:"collapse"},{default:c(()=>[v(di,{name:"1"},{title:c(()=>[...a[80]||(a[80]=[o("div",{class:"custom-title"},"基础属性对比",-1)])]),default:c(()=>{var e,a,l,t,n,i,u,s,v,c,r,d,p,h,f,g,y,b,k,q,x,w,C,M,T,D,S,V,I,B,F,A,E,N,H,U,P,L,O,z,G,j,W,K,J,Q,X,Y,Z,ee,ae,le,te,ne,ie,oe,ue,se;return[o("div",wt,[o("p",null,[o("span",_t,"气血: "+R(null==(a=null==(e=$.value)?void 0:e.initial)?void 0:a.health),1),o("span",Mt,[o("i",{class:m(ia(null==(t=null==(l=$.value)?void 0:l.initial)?void 0:t.health,null==(i=null==(n=_.value.pet)?void 0:n.initial)?void 0:i.health).icon)},null,2)]),o("span",$t,R(ia(null==(s=null==(u=$.value)?void 0:u.initial)?void 0:s.health,null==(c=null==(v=_.value.pet)?void 0:v.initial)?void 0:c.health).num),1)]),o("p",null,[o("span",Ct,"攻击: "+R(null==(d=null==(r=$.value)?void 0:r.initial)?void 0:d.attack),1),o("span",qt,[o("i",{class:m(ia(null==(h=null==(p=$.value)?void 0:p.initial)?void 0:h.attack,null==(g=null==(f=_.value.pet)?void 0:f.initial)?void 0:g.attack).icon)},null,2)]),o("span",Tt,R(ia(null==(b=null==(y=$.value)?void 0:y.initial)?void 0:b.attack,null==(q=null==(k=_.value.pet)?void 0:k.initial)?void 0:q.attack).num),1)]),o("p",null,[o("span",St,"防御: "+R(null==(w=null==(x=$.value)?void 0:x.initial)?void 0:w.defense),1),o("span",It,[o("i",{class:m(ia(null==(M=null==(C=$.value)?void 0:C.initial)?void 0:M.defense,null==(D=null==(T=_.value.pet)?void 0:T.initial)?void 0:D.defense).icon)},null,2)]),o("span",Vt,R(ia(null==(V=null==(S=$.value)?void 0:S.initial)?void 0:V.defense,null==(B=null==(I=_.value.pet)?void 0:I.initial)?void 0:B.defense).num),1)]),o("p",null,[o("span",Bt," 闪避率: "+R((null==(A=null==(F=$.value)?void 0:F.initial)?void 0:A.dodge)>0?100*(null==(N=null==(E=$.value)?void 0:E.initial)?void 0:N.dodge)>100?100:(100*(null==(U=null==(H=$.value)?void 0:H.initial)?void 0:U.dodge)).toFixed(2):0)+"% ",1),o("span",Dt,[o("i",{class:m(ia(null==(L=null==(P=$.value)?void 0:P.initial)?void 0:L.dodge,null==(z=null==(O=_.value.pet)?void 0:O.initial)?void 0:z.dodge).icon)},null,2)]),o("span",Rt,R(ia(null==(j=null==(G=$.value)?void 0:G.initial)?void 0:j.dodge,null==(K=null==(W=_.value.pet)?void 0:W.initial)?void 0:K.dodge).num),1)]),o("p",null,[o("span",Ft," 暴击率: "+R((null==(Q=null==(J=$.value)?void 0:J.initial)?void 0:Q.critical)>0?100*(null==(Y=null==(X=$.value)?void 0:X.initial)?void 0:Y.critical)>100?100:(100*(null==(ee=null==(Z=$.value)?void 0:Z.initial)?void 0:ee.critical)).toFixed(2):0)+"% ",1),o("span",At,[o("i",{class:m(ia(null==(le=null==(ae=$.value)?void 0:ae.initial)?void 0:le.critical,null==(ne=null==(te=_.value.pet)?void 0:te.initial)?void 0:ne.critical).icon)},null,2)]),o("span",Et,R(ia(null==(oe=null==(ie=$.value)?void 0:ie.initial)?void 0:oe.critical,null==(se=null==(ue=_.value.pet)?void 0:ue.initial)?void 0:se.critical).num),1)])])]}),_:1})]),_:1},8,["modelValue"]),o("div",Ht,[v(vi,{plain:"",class:"dialog-footer-button",onClick:a[41]||(a[41]=e=>{return(a=$.value).lock=!a.lock,void qe({title:a.lock?"灵宠锁定提示":"灵宠解锁提示",message:a.lock?"灵宠锁定成功":"灵宠解锁成功"});var a})},{default:c(()=>[D(" 灵宠"+R($.value.lock?"解锁":"锁定"),1)]),_:1}),v(vi,{plain:"",class:"dialog-footer-button",onClick:a[42]||(a[42]=e=>na($.value))},{default:c(()=>[...a[81]||(a[81]=[D("灵宠放生",-1)])]),_:1}),v(vi,{type:"primary",class:"dialog-footer-button",onClick:a[43]||(a[43]=e=>(e=>{const a=ha(e.id,_.value.pets);if("{}"!=JSON.stringify(_.value.pet)){const e=_.value.pet;ya(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),_.value.pets.push(_.value.pet)}M.value=!1,_.value.pet=a,ya(a.dodge,a.attack,a.health,a.critical,a.defense),_.value.pets=_.value.pets.filter(a=>a.id!==e.id)})($.value))},{default:c(()=>[...a[82]||(a[82]=[D("灵宠出战",-1)])]),_:1})])]}),_:1},8,["title","modelValue"]),v(mi,{title:me.value.name,"lock-scroll":!1,modelValue:ye.value,"onUpdate:modelValue":a[49]||(a[49]=e=>ye.value=e),center:"",width:"420px"},{default:c(()=>{var e,l,t,n,i,u,s,r,d,p,h,f,y,b,k,q,x,w,C,M,$,T,S,V,I,B,F,E,N,H,U,P,L,O,z,G,j,W,K,J,Q,X;return[o("div",Nt,[o("div",Ut,[o("p",null,[o("span",Pt,"类型: "+R(g(Ve)[me.value.type]),1),a[83]||(a[83]=o("span",{class:"icon"},null,-1)),a[84]||(a[84]=o("span",{class:"value"},null,-1))]),o("p",null,[o("span",Lt,"炼器: "+R(me.value.strengthen||0),1),o("span",Ot,[o("i",{class:m(ia(me.value.strengthen,null==(e=_.value.equipment[me.value.type])?void 0:e.strengthen).icon)},null,2)]),o("span",zt,R(ia(me.value.strengthen,null==(l=_.value.equipment[me.value.type])?void 0:l.strengthen).num),1)]),o("p",null,[o("span",Gt,"境界: "+R(g(Te)(me.value.level)),1),o("span",jt,[o("i",{class:m(ia(me.value.level,null==(t=_.value.equipment[me.value.type])?void 0:t.level).icon)},null,2)]),o("span",Wt,R(me.value.level>parseInt((null==(n=_.value.equipment[me.value.type])?void 0:n.level)||1)?g(Te)(me.value.level):g(Te)(null==(i=_.value.equipment[me.value.type])?void 0:i.level)),1)]),o("p",null,[o("span",Kt,"品质: "+R(g(Be)[me.value.quality]),1),o("span",Jt,[o("i",{class:m(ia(A.value[me.value.quality],A.value[null==(u=_.value.equipment[me.value.type])?void 0:u.quality]).icon)},null,2)]),o("span",Qt,R(ia(A.value[me.value.quality],A.value[null==(s=_.value.equipment[me.value.type])?void 0:s.quality]).num<0?g(Be)[null==(r=_.value.equipment[me.value.type])?void 0:r.quality]:g(Be)[me.value.quality]),1)]),o("p",null,[o("span",Xt,"气血: "+R(null==(d=me.value)?void 0:d.health),1),o("span",Yt,[o("i",{class:m(ia(null==(p=me.value)?void 0:p.health,null==(h=_.value.equipment[me.value.type])?void 0:h.health).icon)},null,2)]),o("span",Zt,R(ia(null==(f=me.value)?void 0:f.health,null==(y=_.value.equipment[me.value.type])?void 0:y.health).num),1)]),o("p",null,[o("span",en,"攻击: "+R(null==(b=me.value)?void 0:b.attack),1),o("span",an,[o("i",{class:m(ia(null==(k=me.value)?void 0:k.attack,null==(q=_.value.equipment[me.value.type])?void 0:q.attack).icon)},null,2)]),o("span",ln,R(ia(null==(x=me.value)?void 0:x.attack,null==(w=_.value.equipment[me.value.type])?void 0:w.attack).num),1)]),o("p",null,[o("span",tn,"防御: "+R(null==(C=me.value)?void 0:C.defense),1),o("span",nn,[o("i",{class:m(ia(null==(M=me.value)?void 0:M.defense,null==($=_.value.equipment[me.value.type])?void 0:$.defense).icon)},null,2)]),o("span",un,R(ia(null==(T=me.value)?void 0:T.defense,null==(S=_.value.equipment[me.value.type])?void 0:S.defense).num),1)]),o("p",null,[o("span",sn," 闪避率: "+R((null==(V=me.value)?void 0:V.dodge)>0?100*(null==(I=me.value)?void 0:I.dodge)>100?100:(100*(null==(B=me.value)?void 0:B.dodge)).toFixed(2):0)+"% ",1),o("span",on,[o("i",{class:m(ia(null==(F=me.value)?void 0:F.dodge,null==(E=_.value.equipment[me.value.type])?void 0:E.dodge).icon)},null,2)]),o("span",rn,R(ia(null==(N=me.value)?void 0:N.dodge,null==(H=_.value.equipment[me.value.type])?void 0:H.dodge).num),1)]),o("p",null,[o("span",vn," 暴击率: "+R((null==(U=me.value)?void 0:U.critical)>0?100*(null==(P=me.value)?void 0:P.critical)>100?100:(100*(null==(L=me.value)?void 0:L.critical)).toFixed(2):0)+"% ",1),o("span",cn,[o("i",{class:m(ia(null==(O=me.value)?void 0:O.critical,null==(z=_.value.equipment[me.value.type])?void 0:z.critical).icon)},null,2)]),o("span",dn,R(ia(null==(G=me.value)?void 0:G.critical,null==(j=_.value.equipment[me.value.type])?void 0:j.critical).num),1)]),o("p",null,[o("span",pn,"装备评分: "+R(null==(W=me.value)?void 0:W.score),1),o("span",mn,[o("i",{class:m(ia(null==(K=me.value)?void 0:K.score,null==(J=_.value.equipment[me.value.type])?void 0:J.score).icon)},null,2)]),o("span",hn,R(ia(null==(Q=me.value)?void 0:Q.score,null==(X=_.value.equipment[me.value.type])?void 0:X.score).num),1)])])]),v(pi,{modelValue:Ee.value,"onUpdate:modelValue":a[45]||(a[45]=e=>Ee.value=e),class:"collapse"},{default:c(()=>[v(di,{name:"1"},{title:c(()=>[...a[85]||(a[85]=[o("div",{class:"custom-title"},"基础属性对比",-1)])]),default:c(()=>{var e,a,l,t,n,i,u,s,v,c,r,d,p,h,f,g,y,b,k,q,x,w,C,M,$,T,D,S,V,I,B,F,A,E,N,H,U,P,L,O,z,G,j,W,K,J,Q,X,Y,Z,ee,ae,le,te,ne,ie,oe,ue;return[o("div",fn,[o("p",null,[o("span",gn,"气血: "+R(null==(a=null==(e=me.value)?void 0:e.initial)?void 0:a.health),1),o("span",yn,[o("i",{class:m(ia(null==(t=null==(l=me.value)?void 0:l.initial)?void 0:t.health,null==(i=null==(n=_.value.equipment[me.value.type])?void 0:n.initial)?void 0:i.health).icon)},null,2)]),o("span",bn,R(ia(null==(s=null==(u=me.value)?void 0:u.initial)?void 0:s.health,null==(c=null==(v=_.value.equipment[me.value.type])?void 0:v.initial)?void 0:c.health).num),1)]),o("p",null,[o("span",kn,"攻击: "+R(null==(d=null==(r=me.value)?void 0:r.initial)?void 0:d.attack),1),o("span",xn,[o("i",{class:m(ia(null==(h=null==(p=me.value)?void 0:p.initial)?void 0:h.attack,null==(g=null==(f=_.value.equipment[me.value.type])?void 0:f.initial)?void 0:g.attack).icon)},null,2)]),o("span",wn,R(ia(null==(b=null==(y=me.value)?void 0:y.initial)?void 0:b.attack,null==(q=null==(k=_.value.equipment[me.value.type])?void 0:k.initial)?void 0:q.attack).num),1)]),o("p",null,[o("span",_n,"防御: "+R(null==(w=null==(x=me.value)?void 0:x.initial)?void 0:w.defense),1),o("span",Mn,[o("i",{class:m(ia(null==(M=null==(C=me.value)?void 0:C.initial)?void 0:M.defense,null==(T=null==($=_.value.equipment[me.value.type])?void 0:$.initial)?void 0:T.defense).icon)},null,2)]),o("span",$n,R(ia(null==(S=null==(D=me.value)?void 0:D.initial)?void 0:S.defense,null==(I=null==(V=_.value.equipment[me.value.type])?void 0:V.initial)?void 0:I.defense).num),1)]),o("p",null,[o("span",Cn," 闪避率: "+R((null==(F=null==(B=me.value)?void 0:B.initial)?void 0:F.dodge)>0?100*(null==(E=null==(A=me.value)?void 0:A.initial)?void 0:E.dodge)>100?100:(100*(null==(H=null==(N=me.value)?void 0:N.initial)?void 0:H.dodge)).toFixed(2):0)+"% ",1),o("span",qn,[o("i",{class:m(ia(null==(P=null==(U=me.value)?void 0:U.initial)?void 0:P.dodge,null==(O=null==(L=_.value.equipment[me.value.type])?void 0:L.initial)?void 0:O.dodge).icon)},null,2)]),o("span",Tn,R(ia(null==(G=null==(z=me.value)?void 0:z.initial)?void 0:G.dodge,null==(W=null==(j=_.value.equipment[me.value.type])?void 0:j.initial)?void 0:W.dodge).num),1)]),o("p",null,[o("span",Sn," 暴击率: "+R((null==(J=null==(K=me.value)?void 0:K.initial)?void 0:J.critical)>0?100*(null==(X=null==(Q=me.value)?void 0:Q.initial)?void 0:X.critical)>100?100:(100*(null==(Z=null==(Y=me.value)?void 0:Y.initial)?void 0:Z.critical)).toFixed(2):0)+"% ",1),o("span",In,[o("i",{class:m(ia(null==(ae=null==(ee=me.value)?void 0:ee.initial)?void 0:ae.critical,null==(te=null==(le=_.value.equipment[me.value.type])?void 0:le.initial)?void 0:te.critical).icon)},null,2)]),o("span",Vn,R(ia(null==(ie=null==(ne=me.value)?void 0:ne.initial)?void 0:ie.critical,null==(ue=null==(oe=_.value.equipment[me.value.type])?void 0:oe.initial)?void 0:ue.critical).num),1)])])]}),_:1})]),_:1},8,["modelValue"]),o("div",Bn,[v(vi,{plain:"",class:"inventory-button",onClick:a[46]||(a[46]=e=>ma(me.value))},{default:c(()=>[...a[86]||(a[86]=[D("装备分解",-1)])]),_:1}),v(vi,{plain:"",class:"inventory-button",onClick:a[47]||(a[47]=e=>(e=>{let a=ha(e,_.value.inventory);a.lock=!a.lock,qe({title:a.lock?"装备锁定提示":"装备解锁提示",message:a.lock?"装备锁定成功":"装备解锁成功"})})(me.value.id))},{default:c(()=>[D(R(me.value.lock?"装备解锁":"装备锁定"),1)]),_:1}),v(vi,{type:"primary",class:"inventory-button",onClick:a[48]||(a[48]=e=>((e,a)=>{const l=ha(e,_.value.inventory);if(!_.value.reincarnation&&l.level>_.value.level)qe({title:"当前境界不足",message:"无法穿戴该装备"});else{if("{}"!=JSON.stringify(_.value.equipment[a])){const e=_.value.equipment[a];ya(-(null==e?void 0:e.dodge),-(null==e?void 0:e.attack),-(null==e?void 0:e.health),-(null==e?void 0:e.critical),-(null==e?void 0:e.defense)),_.value.inventory.push(e)}_.value.equipment[a]=l,ya(l.dodge,l.attack,l.health,l.critical,l.defense),_.value.inventory=_.value.inventory.filter(a=>a.id&&a.id!==e),a="",ye.value=!1}})(me.value.id,me.value.type))},{default:c(()=>[...a[87]||(a[87]=[D(" 立即装备 ",-1)])]),_:1})])]}),_:1},8,["title","modelValue"]),v(mi,{title:"批量处理","lock-scroll":!1,modelValue:Ue.value,"onUpdate:modelValue":a[51]||(a[51]=e=>Ue.value=e),width:"600px"},{default:c(()=>[v(hi,null,{default:c(()=>[...a[88]||(a[88]=[D("装备",-1)])]),_:1}),v(fi,{modelValue:_.value.sellingEquipmentData,"onUpdate:modelValue":a[50]||(a[50]=e=>_.value.sellingEquipmentData=e),onChange:Ye},{default:c(()=>[(h(!0),s(C,null,q($e.value,(e,a)=>(h(),f(ri,{value:e,key:a,label:g(Be)[e]},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),o("div",Dn,[v(vi,{class:"dialog-footer-button",onClick:Xe},{default:c(()=>[...a[89]||(a[89]=[D("分解装备",-1)])]),_:1})]),v(hi,null,{default:c(()=>[...a[90]||(a[90]=[D("灵宠",-1)])]),_:1}),o("div",Rn,[v(vi,{class:"dialog-footer-button",onClick:Qe},{default:c(()=>[...a[91]||(a[91]=[D("放生灵宠",-1)])]),_:1})])]),_:1},8,["modelValue"]),v(mi,{modelValue:b.value,"onUpdate:modelValue":a[54]||(a[54]=e=>b.value=e),"lock-scroll":!1,title:"游戏设置",width:"350px"},{default:c(()=>[o("div",Fn,[v(hi,null,{default:c(()=>[...a[92]||(a[92]=[D("存档相关",-1)])]),_:1}),v(vi,{type:"info",class:"dialog-footer-button",onClick:la},{default:c(()=>[...a[93]||(a[93]=[D("导出存档",-1)])]),_:1}),v(gi,{action:"#",class:"dialog-upload","http-request":aa,"show-file-list":!1,accept:"application/json"},{default:c(()=>[v(vi,{type:"warning",class:"dialog-footer-button"},{default:c(()=>[...a[94]||(a[94]=[D("导入存档",-1)])]),_:1})]),_:1}),v(vi,{type:"danger",class:"dialog-footer-button",onClick:ea},{default:c(()=>[...a[95]||(a[95]=[D("删除存档",-1)])]),_:1}),v(hi,null,{default:c(()=>[...a[96]||(a[96]=[D("脚本相关",-1)])]),_:1}),v(gi,{action:"#",class:"dialog-upload","before-upload":je,"show-file-list":!1,accept:".txt,.js"},{default:c(()=>[v(vi,{type:"danger",class:"dialog-footer-button"},{default:c(()=>[...a[97]||(a[97]=[D("导入脚本",-1)])]),_:1})]),_:1}),v(vi,{type:"warning",class:"dialog-footer-button",onClick:Ge},{default:c(()=>[...a[98]||(a[98]=[D("删除脚本",-1)])]),_:1}),v(hi,null,{default:c(()=>[...a[99]||(a[99]=[D("其他相关",-1)])]),_:1}),v(vi,{class:"dialog-footer-button",onClick:ta},{default:c(()=>[...a[100]||(a[100]=[D("批量处理",-1)])]),_:1}),v(vi,{type:"primary",class:"dialog-footer-button",onClick:a[52]||(a[52]=e=>Da("qq"))},{default:c(()=>[...a[101]||(a[101]=[D("官方群聊",-1)])]),_:1}),v(vi,{type:"success",class:"dialog-footer-button",onClick:a[53]||(a[53]=e=>Da("url"))},{default:c(()=>[...a[102]||(a[102]=[D("开源地址",-1)])]),_:1}),v(hi,null,{default:c(()=>[D("当前版本为: "+R(p.value),1)]),_:1})])]),_:1},8,["modelValue"]),v(ci,{title:"图鉴与成就",modelValue:de.value,"onUpdate:modelValue":a[59]||(a[59]=e=>de.value=e),direction:"rtl",class:"equipAll"},{default:c(()=>[v(ui,{modelValue:ie.value,"onUpdate:modelValue":a[57]||(a[57]=e=>ie.value=e),type:"border-card"},{default:c(()=>[v(oi,{label:"装备图鉴",name:"illustrations"},{default:c(()=>[o("div",An,[v(ui,{modelValue:Pe.value,"onUpdate:modelValue":a[55]||(a[55]=e=>Pe.value=e),stretch:!0},{default:c(()=>[(h(!0),s(C,null,q(He.value,(e,a)=>(h(),f(oi,{label:e.name,name:e.type,key:a},{default:c(()=>[o("div",En,[(h(!0),s(C,null,q(e.data,(l,t)=>(h(),s(C,null,[l.type==e.type?(h(),s("div",{class:"equipAll-item",key:t,onClick:e=>((e,a)=>{const l=He.value[e].data[a];V.confirm("",l.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n        <p>类型: ${Ve[l.type]}</p>\n        <p>境界: ${Te(l.level)}</p>\n        <p>品质: ${Be[l.quality]}</p>\n        <p>气血: ${Re(l.health)}</p>\n        <p>攻击: ${Re(l.attack)}</p>\n        <p>防御: ${Re(l.defense)}</p>\n        <p>闪避率: ${l.dodge>0?100*l.dodge>100?100:(100*l.dodge).toFixed(2):0}%</p>\n        <p>暴击率: ${l.critical>0?100*l.critical>100?100:(100*l.critical).toFixed(2):0}%</p>\n        <p>装备评分: ${Re(l.score)}</p>\n        <p>获得率: ${l.prize}%</p>\n      </div>\n    </div>`,cancelButtonText:"关闭",showCancelButton:!1,confirmButtonText:"知道了",dangerouslyUseHTMLString:!0}).catch(()=>{})})(a,t)},[v(_e,{type:l.quality},{default:c(()=>[D(R(l.name),1)]),_:2},1032,["type"])],8,Hn)):r("",!0)],64))),256))])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])]),_:1}),v(oi,{label:"我的成就",name:"achievement"},{default:c(()=>[v(ui,{modelValue:Ae.value,"onUpdate:modelValue":a[56]||(a[56]=e=>Ae.value=e),stretch:!0},{default:c(()=>[(h(!0),s(C,null,q(xe.value,(e,a)=>(h(),f(oi,{label:e.name,name:e.type,key:a},{default:c(()=>[e.data.length>0?(h(),s("div",Nn,[(h(!0),s(C,null,q(e.data,(a,l)=>(h(),s("div",{class:"achievement-item",key:l,onClick:l=>((e,a)=>{let l="";a.condition.health||a.condition.attack||a.condition.defense||a.condition.dodge||a.condition.critical?l=`\n    <p>气血: ${a.condition.health||"无要求"}</p>\n    <p>攻击: ${a.condition.attack||"无要求"}</p>\n    <p>防御: ${a.condition.defense||"无要求"}</p>\n    <p>闪避率: ${a.condition.dodge?(100*a.condition.dodge).toFixed(2)+"%":"无要求"}</p>\n    <p>暴击率: ${a.condition.critical?(100*a.condition.critical).toFixed(2)+"%":"无要求"}</p>`:a.condition.level?l=`<p>达到等级: ${a.condition.level}</p>`:a.condition.monstersDefeated?l=`<p>击败怪物数量: ${a.condition.monstersDefeated}</p>`:a.condition.money&&(l=`<p>累积灵石: ${Re(a.condition.money)}</p>`),a.desc&&(l+=`<p>描述: ${a.desc}</p>`),l+=`<p>完成奖励: ${a.award}培养丹</p>`,l+=`<p>称号加成: ${Va(a.titleBonus)}</p>`;const t=Sa(e,a.id),n=_.value.currentTitle===a.name;V.confirm("",`${a.name}`,{center:!0,message:`<div class="monsterinfo"><div class="monsterinfo-box">${l}</div></div>`,cancelButtonText:"关闭",showCancelButton:t,confirmButtonText:t?n?"取消佩戴":"佩戴称号":"知道了",dangerouslyUseHTMLString:!0}).then(()=>{t&&Ia(a)}).catch(()=>{})})(e.type,a)},[v(_e,{type:Sa(e.type,a.id)?"success":"info"},{default:c(()=>[D(R(a.name)+" ("+R(Sa(e.type,a.id)?"已完成":"未完成")+") ",1)]),_:2},1032,["type"])],8,Un))),128))])):(h(),s("div",Pn,"此类成就暂未发布"))]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),o("div",{class:"backtop",onClick:a[58]||(a[58]=e=>de.value=!1)},[v(Qn,null,{default:c(()=>[v(yi)]),_:1})])]),_:1},8,["modelValue"]),v(ci,{title:"新手礼包",modelValue:ee.value,"onUpdate:modelValue":a[60]||(a[60]=e=>ee.value=e),"before-close":pa,class:"newBieBox",direction:"rtl"},{default:c(()=>[o("div",Ln,[(h(!0),s(C,null,q(te.value,(e,a)=>(h(),f(_e,{class:"inventory-item",type:e.quality,key:a,onClick:a=>(e=>{oe.value=e,he.value=!0})(e)},{default:c(()=>[D(R(e.name)+"("+R(g(Ve)[e.type])+") ",1),v(Qn,null,{default:c(()=>[v(bi)]),_:1})]),_:2},1032,["type","onClick"]))),128))]),v(vi,{type:"primary",loading:ge.value,onClick:da},{default:c(()=>[D(R(ge.value?"刷新中...":"刷新装备"),1)]),_:1},8,["loading"]),v(vi,{type:"primary",onClick:pa},{default:c(()=>[...a[103]||(a[103]=[D("领取装备",-1)])]),_:1})]),_:1},8,["modelValue"]),v(mi,{modelValue:he.value,"onUpdate:modelValue":a[62]||(a[62]=e=>he.value=e),"lock-scroll":!1,title:oe.value.name,width:"420px"},{default:c(()=>{var e,l,t,n,i,u,s,r,d,p;return[o("div",On,[o("div",zn,[o("p",null,"类型: "+R(g(Ve)[oe.value.type]),1),o("p",null,"境界: "+R(g(Te)(oe.value.level)),1),o("p",null,"品质: "+R(g(Be)[oe.value.quality]),1),o("p",null,"气血: "+R(null==(e=oe.value)?void 0:e.health),1),o("p",null,"攻击: "+R(null==(l=oe.value)?void 0:l.attack),1),o("p",null,"防御: "+R(null==(t=oe.value)?void 0:t.defense),1),o("p",null," 闪避率: "+R((null==(n=oe.value)?void 0:n.dodge)>0?100*(null==(i=oe.value)?void 0:i.dodge)>100?100:(100*(null==(u=oe.value)?void 0:u.dodge)).toFixed(2):0)+"% ",1),o("p",null," 暴击率: "+R((null==(s=oe.value)?void 0:s.critical)>0?100*(null==(r=oe.value)?void 0:r.critical)>100?100:(100*(null==(d=oe.value)?void 0:d.critical)).toFixed(2):0)+"% ",1),o("p",null,"装备评分: "+R(null==(p=oe.value)?void 0:p.score),1)])]),o("div",Gn,[v(vi,{type:"primary",class:"inventory-button",onClick:a[61]||(a[61]=e=>he.value=!1)},{default:c(()=>[...a[104]||(a[104]=[D("确定",-1)])]),_:1})])]}),_:1},8,["modelValue","title"]),v(mi,{modelValue:k.value,"onUpdate:modelValue":a[65]||(a[65]=e=>k.value=e),"lock-scroll":!1,title:"错误信息",width:"420px"},{default:c(()=>[v(ki,{modelValue:y.value,"onUpdate:modelValue":a[63]||(a[63]=e=>y.value=e),rows:10,type:"textarea"},null,8,["modelValue"]),o("div",jn,[v(vi,{type:"primary",class:"inventory-button",onClick:a[64]||(a[64]=e=>k.value=!1)},{default:c(()=>[...a[105]||(a[105]=[D("确定",-1)])]),_:1})])]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-f8c10886"]]),Kn={class:"index"},Jn={class:"index2"},Qn={class:"custom-html md-stream-desktop"},Xn={class:"dialog-footer"},Yn=ge({__name:"indexPage",setup(e){const a=I(),t=fe(),n=l({}),i=l(""),r=l(!0),d=e=>{e?a.push("/home"):w({title:"提示",message:"未同意隐私政策无法进入游戏"}),n.value.zc=e,r.value=!1},p=()=>{n.value.zc?a.push("/home"):w({title:"提示",message:"未同意隐私政策无法进入游戏"})};return u(()=>{t&&(n.value=t.player,n.value.zc=!!n.value.zc&&n.value.zc,r.value=!n.value.zc),("appassets.androidplatform.net"!=location.host||n.value.zc)&&a.push("/home")}),(e,a)=>{const l=T,t=J,n=Q,u=K,m=N;return h(),s("div",Kn,[o("div",Jn,[v(l,{class:"button",onClick:p},{default:c(()=>[...a[5]||(a[5]=[D("开始游戏",-1)])]),_:1}),v(l,{class:"button",onClick:a[0]||(a[0]=e=>r.value=!0)},{default:c(()=>[...a[6]||(a[6]=[D("隐私政策",-1)])]),_:1})]),v(m,{modelValue:r.value,"onUpdate:modelValue":a[4]||(a[4]=e=>r.value=e),"lock-scroll":!1,title:"隐私政策",width:"420px"},{footer:c(()=>[o("span",Xn,[v(l,{onClick:a[2]||(a[2]=e=>d(!1))},{default:c(()=>[...a[20]||(a[20]=[D("拒 绝",-1)])]),_:1}),v(l,{type:"primary",onClick:a[3]||(a[3]=e=>d(!0))},{default:c(()=>[...a[21]||(a[21]=[D("同 意",-1)])]),_:1})])]),default:c(()=>[o("div",Qn,[a[19]||(a[19]=o("p",null," 我们非常重视您的隐私，并致力于保护您的个人信息。鉴于我的文字修仙全靠刷是一款完全离线的单机游戏，我们特此明确声明： ",-1)),v(u,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),accordion:""},{default:c(()=>[v(t,{name:"1"},{title:c(()=>[...a[7]||(a[7]=[o("div",{class:"custom-title"},"无数据收集",-1)])]),default:c(()=>[a[8]||(a[8]=o("p",null," 游戏设计为无需网络连接即可运行的单机游戏。因此，我们不会通过任何方式收集、存储、传输或使用您的个人信息，包括但不限于您的姓名、联系方式、地理位置、设备信息或游戏内行为数据。 ",-1))]),_:1}),v(t,{name:"2"},{title:c(()=>[...a[9]||(a[9]=[o("div",{class:"custom-title"},"无第三方数据共享",-1)])]),default:c(()=>[a[10]||(a[10]=o("p",null," 由于游戏不收集任何个人信息，我们自然也不会将任何数据分享给第三方机构或个人。我们承诺尊重并保护您的隐私权益，确保您的游戏体验不受任何不必要的干扰。 ",-1))]),_:1}),v(t,{name:"3"},{title:c(()=>[...a[11]||(a[11]=[o("div",{class:"custom-title"},"本地存储",-1)])]),default:c(()=>[a[12]||(a[12]=o("p",null," 虽然游戏可能需要在您的设备上存储一些必要的游戏文件（如存档、设置等），但这些数据仅用于游戏的正常运行，且完全存储在您的本地设备上。我们不会将这些数据上传至服务器或用于除游戏运行以外的任何目的。 ",-1))]),_:1}),v(t,{name:"4"},{title:c(()=>[...a[13]||(a[13]=[o("div",{class:"custom-title"},"隐私权保护",-1)])]),default:c(()=>[a[14]||(a[14]=o("p",null," 我们理解隐私权对于每位玩家都至关重要。因此，我们承诺将持续关注并遵守所有适用的隐私保护法律法规，不断改进和优化我们的隐私保护措施。 ",-1))]),_:1}),v(t,{name:"5"},{title:c(()=>[...a[15]||(a[15]=[o("div",{class:"custom-title"},"政策更新",-1)])]),default:c(()=>[a[16]||(a[16]=o("p",null," 虽然游戏的离线特性意味着我们的隐私政策不太可能发生重大变化，但我们仍保留根据法律法规变化或游戏技术更新对隐私政策进行修订的权利。任何政策更新都将在此页面上公布，并注明生效日期。 ",-1))]),_:1}),v(n,null,{default:c(()=>[...a[17]||(a[17]=[D("结语",-1)])]),_:1}),a[18]||(a[18]=o("p",null,"感谢您游玩本游戏！我们承诺将继续努力，为您带来安全、愉快的游戏体验。",-1))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-71dde419"]]),Zn={class:"explore"},ei={key:0,class:"cultivate"},ai=["textContent"],li={class:"storyText"},ti={class:"storyText-box"},ni=["textContent"],ii=["innerHTML"],ui={class:"actions"},si={class:"action"},oi={class:"action"},ri={class:"action"},vi={class:"action"},ci={class:"action"},di={key:1,class:"cultivate error"},pi=ge({__name:"explorePage",setup(e){const a=fe(),t=I(),n=l([]),i=l(!1),d=l(a.player),p=l(a.mapData),m=l(a.mapScroll),y=l(a.monster),b=l(!0),k=l(!1),_=l([]),x=l(!1),w=l(10),$=l(!1),S=l(!1),B=l({}),F=l(null),E=e=>{switch(e="string"==typeof e?e:e.key){case"q":case"startFight":i.value||U();break;case"e":case"harvestPet":i.value||S.value||G(y.value);break;case"r":case"runAway":i.value||$.value||O();break;case"g":case"goHome":i.value&&N();break;case"f":case"explore":return void(i.value&&t.push("/map"));default:return}},N=()=>{p.value={y:0,x:0,map:[]},t.push("/home"),m.value=0},H=()=>{const e=j(),a=.5*(100-e);V.alert("",y.value.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n        <p>境界: ${0==d.value.level?Te(d.value.level+1):Te(d.value.level)}</p>\n        <p>悟性: ${Math.floor(a)}</p>\n        <p>气血: ${Re(y.value.health)}</p>\n        <p>攻击: ${Re(y.value.attack)}</p>\n        <p>防御: ${Re(y.value.defense)}</p>\n        <p>闪避率: ${y.value.dodge>0?100*y.value.dodge>100?100:(100*y.value.dodge).toFixed(2):0}%</p>\n        <p>暴击率: ${y.value.critical>0?100*y.value.critical>100?100:(100*y.value.critical).toFixed(2):0}%</p>\n        <p>收服率: ${e}%</p>\n      </div>\n    </div>`,confirmButtonText:"知道了",dangerouslyUseHTMLString:!0}).catch(()=>{})},U=()=>{if(i.value)return;i.value=!0,k.value=!1;const e=10*d.value.reincarnation,a=setInterval(()=>{var e;L();const a=null==(e=F.value)?void 0:e.wrapRef;new MutationObserver(()=>{Fe(a)}).observe(a,{childList:!0,subtree:!0})},e>=200?100:300-e);_.value.push(a)},P=()=>{_.value.forEach(e=>{clearInterval(e)}),i.value=!0,_.value=[],$.value=!0,S.value=!0},L=()=>{if(x.value=!0,y.value.health<=0)return;const e=y.value.attack,a=d.value.defense;let l=Math.max(0,Math.floor(e-a));l=l<=1?1:l;const t=d.value.attack,i=y.value.defense;let o=Math.max(0,Math.floor(t-i));o=o<=1?1:o;let u=!1,s=!1;const v=Math.random()>d.value.dodge,c=Math.random()>y.value.dodge;if(Math.random()<y.value.critical&&(l*=2,u=!0),Math.random()<d.value.critical&&(o*=1.5,s=!0),v&&(d.value.health-=l),c&&(y.value.health-=o),d.value.health=Math.max(0,d.value.health),y.value.health=Math.max(0,y.value.health),w.value>1)if(w.value--,y.value.health<=0){d.value.taskNum++;const e=d.value.reincarnation?1+1*d.value.reincarnation:1;d.value.props.cultivateDan+=e,n.value.push(`击败${y.value.name}后你获得了${e}颗培养丹`),z(y.value.name),P()}else d.value.health<=0?(n.value.push("你因为太弱被击败了。"),P()):(n.value.push(c?`你攻击了${y.value.name}，${s?"触发暴击":""}造成了${o}点伤害，剩余${y.value.health}气血。`:`你攻击了${y.value.name}，对方闪避了你的攻击，你未造成伤害，剩余${y.value.health}气血。`),n.value.push(v?`${y.value.name}攻击了你，${u?"触发暴击":""}造成了${l}点伤害`:`${y.value.name}攻击了你，你闪避了对方的攻击，对方未造成伤害。`));else w.value=10,n.value.push(`回合结束, 你未战胜${y.value.name}你输了。`),P()},O=()=>{w.value--,Ma.getRandomInt(0,1)?($.value=!0,n.value.push("撤退失败，继续战斗。")):(w.value=10,t.push("/map"),qe({title:"提示",message:"你选择了撤退。"}))},z=()=>{let e={},a=Math.floor(d.value.maxCultivation/100);a=a||1,k.value=!0;const l=Ma.getRandomInt(1,4);if(1==l?e=Ma.equip_Weapons(d.value.level):2==l?e=Ma.equip_Armors(d.value.level):3==l?e=Ma.equip_Accessorys(d.value.level):4==l&&(e=Ma.equip_Sutras(d.value.level)),n.value.push(`你击败${y.value.name}后，发现了一个宝箱，打开后获得了<span class="el-tag el-tag--${e.quality}">${Be[e.quality]}${e.name}(${Ve[e.type]})</span>`),B.value=e,d.value.inventory.length>=d.value.backpackCapacity?n.value.push("当前装备背包容量已满, 该装备自动丢弃, 转生可增加背包容量"):d.value.inventory.push(e),d.value.level<Ce)if(d.value.level<Ce)if(d.value.cultivation>=d.value.maxCultivation){if(d.value.level>10&&d.value.level>d.value.taskNum)return void n.value.push(`当前境界修为已满, 你需要通过击败<span class="textColor">(${d.value.taskNum} / ${d.value.level})</span>个敌人证道突破`);d.value.taskNum=0,d.value.level++,d.value.points+=3,d.value.health=d.value.maxHealth,d.value.maxCultivation=Math.floor(100*Math.pow(2,d.value.level)),n.value.push(`恭喜你突破了！当前境界：${Te(d.value.level)}`)}else d.value.cultivation+=a;else isStop.value=!1,isStart.value=!1,d.value.level=Ce,d.value.maxCultivation=Math.floor(100*Math.pow(2,Ce)),n.value.push("你当前的境界已修炼圆满, 需要转生后才能继续修炼")},G=e=>{S.value=!0;const a=j();if(a>=W(1,100)){if(d.value.backpackCapacity>d.value.pets.length){const l=Math.floor(.5*(100-a)),t=Math.floor(W(50,150)*l),i=Math.floor(W(1,15)*l),o=Math.floor(W(100,500)*l),u=parseFloat(K(.001,.01)*l),s=parseFloat(K(.001,.01)*l);d.value.pets.push({id:Date.now(),lock:!1,name:e.name,level:1,score:Ma.calculateEquipmentScore(u,t,o,s,i),dodge:u,health:o,attack:t,defense:i,critical:s,initial:{dodge:u,health:o,attack:t,defense:i,critical:s,rootBone:l},rootBone:l,favorability:0,reincarnation:0});const v=d.value.achievement.pet,c=e=>{const a=e.condition;return(0===a.health||a.health<=o)&&(0===a.attack||a.attack<=t)&&(0===a.defense||a.defense<=i)&&(0===a.dodge||a.dodge<=u.toFixed(2))&&(0===a.critical||a.critical<=s.toFixed(2))};Ca.pet().forEach(e=>{c(e)&&!v.find(a=>a.id===e.id)&&(d.value.achievement.pet.push({id:e.id}),d.value.props.cultivateDan+=e.award,qe({title:"获得成就提示",message:`恭喜你完成了${e.name}成就`}))}),n.value.push(`收服${e.name}成功`)}else n.value.push(`灵宠背包容量已满, 收服${e.name}失败, 转生可增加灵宠背包容量`);w.value=10,P()}else S.value=!0,n.value.push(`收服${e.name}失败`)},j=()=>{let e=100*Math.pow(.98,d.value.level);return e=Math.floor(Math.max(0,Math.min(100,e))),e},W=(e,a)=>(e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e),K=(e,a)=>Math.random()*(a-e)+e;return M(()=>{P(),window.removeEventListener("keydown",E)}),u(()=>{y.value.name&&(b.value=!1),window.addEventListener("keydown",E)}),(e,a)=>{const l=A,u=T,p=ee;return h(),s("div",Zn,[y.value.name?(h(),s("div",ei,[a[12]||(a[12]=D(" 你遇到了 ",-1)),o("span",{class:"el-tag el-tag--danger",onClick:H,textContent:R(y.value.name)},null,8,ai),o("div",li,[o("div",ti,[v(l,{ref_key:"scrollbar",ref:F,always:""},{default:c(()=>[x.value?(h(),s("p",{key:0,class:"fighting",textContent:R(`${w.value}回合 / 10回合`)},null,8,ni)):r("",!0),(h(!0),s(C,null,q(n.value,(e,l)=>(h(),s("p",{key:l,innerHTML:e,onClick:a[0]||(a[0]=e=>(e=>{k.value&&V.confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n        <p>类型: ${Ve[e.type]??"未知"}</p>\n        <p>境界: ${Te(e.level)}</p>\n        <p>品质: ${Be[e.quality]??"未知"}</p>\n        <p>气血: ${Re(e.health)}</p>\n        <p>攻击: ${Re(e.attack)}</p>\n        <p>防御: ${Re(e.defense)}</p>\n        <p>闪避率: ${(100*e.dodge).toFixed(2)??0}%</p>\n        <p>暴击率: ${(100*e.critical).toFixed(2)??0}%</p>\n      </div>\n    </div>`,showCancelButton:!1,confirmButtonText:"确定",dangerouslyUseHTMLString:!0}).catch(()=>{})})(B.value))},null,8,ii))),128))]),_:1},512)])]),o("div",ui,[o("div",si,[v(u,{class:"item",onClick:a[1]||(a[1]=e=>E("startFight")),disabled:i.value},{default:c(()=>[...a[7]||(a[7]=[D(" 发起战斗 ",-1),o("span",{class:"shortcutKeys"},"(Q)",-1)])]),_:1},8,["disabled"])]),o("div",oi,[v(u,{class:"item",onClick:a[2]||(a[2]=e=>E("harvestPet")),disabled:S.value},{default:c(()=>[...a[8]||(a[8]=[D(" 收服对方 ",-1),o("span",{class:"shortcutKeys"},"(E)",-1)])]),_:1},8,["disabled"])]),o("div",ri,[v(u,{class:"item",onClick:a[3]||(a[3]=e=>E("runAway")),disabled:$.value},{default:c(()=>[...a[9]||(a[9]=[D(" 立马撤退 ",-1),o("span",{class:"shortcutKeys"},"(R)",-1)])]),_:1},8,["disabled"])]),o("div",vi,[i.value?(h(),f(u,{key:0,class:"item",onClick:a[4]||(a[4]=e=>E("explore")),disabled:d.value.health<=0},{default:c(()=>[...a[10]||(a[10]=[D(" 继续探索 ",-1),o("span",{class:"shortcutKeys"},"(F)",-1)])]),_:1},8,["disabled"])):r("",!0)]),o("div",ci,[i.value?(h(),f(u,{key:0,class:"item",onClick:a[5]||(a[5]=e=>E("goHome"))},{default:c(()=>[...a[11]||(a[11]=[D(" 回家疗伤 ",-1),o("span",{class:"shortcutKeys"},"(G)",-1)])]),_:1})):r("",!0)])])])):(h(),s("div",di,[v(p,{icon:"error",title:"缺少对战信息","sub-title":"请返回地图重新探索"},{extra:c(()=>[v(u,{type:d.value.dark?"":"primary",onClick:a[6]||(a[6]=e=>g(t).push("/map"))},{default:c(()=>[...a[13]||(a[13]=[D("返回地图",-1)])]),_:1},8,["type"])]),_:1})]))])}}},[["__scopeId","data-v-e94566fd"]]),mi={class:"cultivate"},hi={class:"cultivation-info"},fi={class:"realm-display"},gi=["textContent"],yi={class:"storyText"},bi={class:"storyText-box"},ki=["innerHTML"],xi={class:"actions"},wi=ge({__name:"cultivatePage",setup(e){const a=fe(),n=I(),i=l([]),r=l(a.player),d=l(!1),p=l(!1),m=l([]),f=l(null),y=l(null),b=t(()=>[{text:"开始修炼",click:()=>_(),disabled:!p.value},{text:"停止修炼",click:()=>w(),disabled:!d.value},{text:"转生突破",click:()=>S()},{text:"返回家里",click:()=>n.push("/home")}]),k=t(()=>{const{cultivation:e,maxCultivation:a}=r.value;return Math.min(100,e/a*100)}),_=()=>{p.value=!1;const e=10*r.value.reincarnation,a=setInterval(()=>{if(r.value.cultivation<=r.value.maxCultivation){d.value=!0,p.value=!1;const e=r.value.level<=10?Math.floor(r.value.maxCultivation/Ma.getRandomInt(10,30)):Math.floor(r.value.maxCultivation/100);i.value.push(r.value.level<Ce?"你开始冥想，吸收周围的灵气。修为提升了！":"你当前的境界已修炼圆满, 需要转生后才能继续修炼"),$(e),Math.random()<.1&&x()}else $(100)},e>=200?100:300-e);m.value.push(a)},x=()=>{const e=[{type:"resource",name:"灵石",amount:100,description:"你发现了一堆灵石！"},{type:"cultivation",name:"顿悟",amount:500,description:"你突然顿悟，修为大涨！"},{type:"item",name:"丹药",effect:"增加100点修为",description:"你获得了一颗珍贵的丹药！"},{type:"skill",name:"剑法",effect:"增加10%攻击力",description:"你领悟了一门高深剑法！"},{type:"lucky",name:"雷劫",effect:"修为降低10%",description:"你遭遇了雷劫！"}],a=e[Math.floor(Math.random()*e.length)];switch(i.value.push(`<span style="color: #E6A23C">${a.description}</span>`),a.type){case"resource":r.value.props.money+=a.amount;break;case"cultivation":r.value.cultivation+=a.amount;break;case"item":r.value.cultivation+=.05*r.value.cultivation;break;case"lucky":r.value.cultivation-=.1*r.value.cultivation;break;case"skill":r.value.attack*=1.1}},w=()=>{m.value.forEach(e=>{clearInterval(e)}),m.value=[],p.value=!0,d.value=!1},$=e=>{const a=r.value.reincarnation?r.value.reincarnation+1:1;if(r.value.level<Ce)if(r.value.cultivation>=r.value.maxCultivation){if(r.value.level>10&&r.value.level>r.value.taskNum)return w(),d.value=!1,p.value=!1,void i.value.push(`当前境界修为已满, 你需要通过击败<span class="textColor">(${r.value.taskNum} / ${r.value.level})</span>个敌人证道突破`);r.value.taskNum=0,r.value.level++,r.value.points+=3,r.value.health=r.value.maxHealth,r.value.maxCultivation=Math.floor(100*Math.pow(2,r.value.level*a)),i.value.push(`恭喜你突破了！当前境界：${Te(r.value.level)}`)}else r.value.cultivation+=e;else d.value=!1,p.value=!1,r.value.level=Ce,r.value.maxCultivation=Math.floor(100*Math.pow(2,Ce*a)),w()},S=()=>{let e=r.value.reincarnation;if(e=0==e?100:100*e,r.value.level==Ce){if(r.value.points)return void qe({title:"未满足转生条件",message:`当前还有${r.value.points}境界点未使用, 无法转生`});if(r.value.taskNum>=e){const e=0==r.value.reincarnation?"转生之后的敌人属性是转生前的百倍<br>转生前请务必确认自己的实力是否足够战胜转生后的对手, 避免卡档后删档重练":"转生操作不可逆, 是否确定要转生?";V.confirm(e,"转生提醒",{center:!0,cancelButtonText:"取消转生",confirmButtonText:"立即转生",dangerouslyUseHTMLString:!0}).then(()=>{r.value.level=0,r.value.taskNum=0,r.value.cultivation=0,r.value.maxCultivation=100,r.value.reincarnation++,r.value.backpackCapacity+=50,qe({title:"转生提示",message:`转生成功, 当前为${r.value.reincarnation}转, 背包总容量增加50`,dangerouslyUseHTMLString:!0})}).catch(()=>{})}else qe({title:"未满足转生条件",message:`需要通过击败<span class="textColor">(${r.value.taskNum} / ${e})</span>个敌人证道转生`,dangerouslyUseHTMLString:!0})}else qe({title:"未满足转生条件",message:`境界需要达到<span class="textColor">${Te(Ce)}</span>才能满足转生条件`,dangerouslyUseHTMLString:!0})};return u(()=>{_(),(()=>{var e;const a=null==(e=y.value)?void 0:e.wrapRef;a&&(f.value=new MutationObserver(()=>Fe(a)),f.value.observe(a,{subtree:!0,childList:!0}))})()}),M(()=>{w(),f.value&&(f.value.disconnect(),f.value=null)}),(e,a)=>{const l=ae,t=A,n=T;return h(),s("div",mi,[o("div",hi,[o("div",fi,[a[0]||(a[0]=D(" 当前境界： ",-1)),o("span",{class:"realm-text",textContent:R(`${g(Te)(r.value.level)}(${r.value.reincarnation||0}转)`)},null,8,gi)]),v(l,{percentage:k.value,format:e=>`${e.toFixed(2)}%`,"text-inside":"","stroke-width":20,status:"success",class:"custom-progress"},null,8,["percentage","format"])]),o("div",yi,[o("div",bi,[v(t,{ref_key:"scrollbar",ref:y,always:""},{default:c(()=>[(h(!0),s(C,null,q(i.value,(e,a)=>(h(),s("p",{key:a,innerHTML:e},null,8,ki))),128))]),_:1},512)])]),o("div",xi,[(h(!0),s(C,null,q(b.value,(e,a)=>(h(),s("div",{class:"action",key:a},[v(n,{class:"item",onClick:e.click,disabled:e.disabled},{default:c(()=>[D(R(e.text),1)]),_:2},1032,["onClick","disabled"])]))),128))])])}}},[["__scopeId","data-v-83b2f43d"]]),_i={calculateDamage(e,a){let l=Math.max(0,Math.floor(e.attack-a.defense));if(l=l<=1?1:l,!(Math.random()>a.dodge))return{damage:0,isCritical:!1,isHit:!1};let t=!1;return Math.random()<e.critical&&(l*=1.5,t=!0),{damage:l,isCritical:t,isHit:!0}},executeCombatRound(e,a){const l=this.calculateDamage(e,a);return l.isHit&&(a.health=Math.max(0,a.health-l.damage)),{damage:l.damage,isCritical:l.isCritical,isHit:l.isHit,remainingHealth:a.health}}},Mi=(e,a,l)=>{Ca.pet().forEach(t=>{!e.achievement.pet.find(e=>e.id===t.id)&&qi(t.condition,a)&&(l.push(t),e.achievement.pet.push({id:t.id}),e.props.cultivateDan+=t.award)})},$i=e=>{Ca.monster().forEach(a=>{!e.achievement.monster.find(e=>e.id===a.id)&&qi(a.condition,e)&&(e.achievement.monster.push({id:a.id}),e.props.cultivateDan+=a.award)})},Ci=(e,a,l)=>{Ca.equipment().forEach(t=>{!e.achievement.equipment.find(e=>e.id===t.id)&&qi(t.condition,a)&&(l.push(t),e.achievement.equipment.push({id:t.id}),e.props.cultivateDan+=t.award)})},qi=(e,a)=>{for(const[l,t]of Object.entries(e))if(void 0===a[l]||a[l]<t)return!1;return!0},Ti={class:"endless-tower"},Si={class:"battle-info"},Ii={class:"player-info"},Vi={key:0,class:"monster-info"},Bi={class:"actions"},Di={class:"sweep-info"},Ri={class:"el-statistic"},Fi=["textContent"],Ai={class:"el-statistic__content"},Ei=["textContent"],Hi=["innerHTML"],Ni=ge({__name:"endlessPage",setup(e){const a=I(),n=fe(),d=l(n.player),p=l(null),m=l(null),g=l(0),y=l([]),b=l(1),k=l(!1),_=l({expGain:0,moneyGain:0,equipmentGained:0}),x=l("success"),w=l("success"),$=l(null),S=l(!1),B=l(null),F=l(null),E=l(null),N=t(()=>[{name:"扫荡时间",suffix:ve(g.value)},{name:"获得修为",suffix:`${Re(_.value.expGain)}点`},{name:"获得灵石",suffix:`${Re(_.value.moneyGain)}块`},{name:"获得装备",suffix:`${Re(_.value.equipmentGained)}件`}]),H=t(()=>[{text:S.value?"停止对战":"自动对战",click:()=>X(),disabled:k.value||d.value.health<=0},{text:"进行对战",click:()=>W(),disabled:k.value||S.value||!p.value||d.value.health<=0},{text:k.value?"停止扫荡":"开始扫荡",click:()=>ne(),disabled:S.value||d.value.health<=0},{text:"撤退回家",click:()=>Z(),disabled:!1}]),U=t(()=>d.value.health/d.value.maxHealth*100),P=t(()=>p.value.health/p.value.maxHealth*100);i(()=>y.value,()=>se(),{deep:!0}),i(()=>d.value.health,()=>{const{health:e,maxHealth:a}=d.value;x.value=z(e,a)}),i(()=>{var e;return null==(e=p.value)?void 0:e.health},()=>{if(p.value){const{health:e,maxHealth:a}=p.value;w.value=z(e,a)}});const L=()=>{const{health:e,maxHealth:a}=d.value;return`${Math.max(0,e)} / ${Math.max(0,a)}`},O=()=>{const{health:e,maxHealth:a}=p.value;return`${Math.max(0,e)} / ${Math.max(0,a)}`},z=(e,a)=>{const l=e/a*100;return l>=70?"success":l>=30?"warning":"exception"},G=()=>{const e=2*b.value,a=$e.monster_Health(e);p.value={name:$e.monster_Names(e),level:e,dodge:$e.monster_Criticalhitrate(e),attack:$e.monster_Attack(e),health:a,defense:$e.monster_Defense(e),maxHealth:a,critical:$e.monster_Criticalhitrate(e)},y.value.push(`你遇到了本层的守护者: ${p.value.name}`)},j=e=>{const a="player"==e,l=a?d.value:p.value;V.confirm("",a?d.value.name:l.name,{center:!0,message:`<div class="monsterinfo">\n      <div class="monsterinfo-box">\n      <p>气血: ${Re(l.health)}</p>\n      <p>攻击: ${Re(l.attack)}</p>\n      <p>防御: ${Re(l.defense)}</p>\n      <p>闪避率: ${l.dodge>0?100*l.dodge>100?100:(100*l.dodge).toFixed(2):0}%</p>\n      <p>暴击率: ${l.critical>0?100*l.critical>100?100:(100*l.critical).toFixed(2):0}%</p>\n      </div>\n    </div>`,showCancelButton:!1,confirmButtonText:"知道了",dangerouslyUseHTMLString:!0}).catch(()=>{})},W=()=>{if(d.value.health<=0)return void Q();if(!p.value||p.value.health<=0)return void G();const e=_i.executeCombatRound(d.value,p.value);if(K(d.value.name,p.value.name,e),p.value.health<=0)return void J();const a=_i.executeCombatRound(p.value,d.value);K(p.value.name,d.value.name,a),d.value.health<=0&&Q()},K=(e,a,l)=>{if(l.isHit){let t=`${e}对${a}造成了${l.damage}点伤害`;l.isCritical&&(t+="（暴击！）"),t+=`，${a}剩余${l.remainingHealth}气血。`,y.value.push(t)}else y.value.push(`${e}的攻击被${a}闪避了。`)},J=()=>{const e=Math.floor(100*p.value.level),a=Math.floor(2*p.value.level);d.value.cultivation+=e,d.value.props.money+=a,y.value.push(`你击败了 ${p.value.name}！`),y.value.push(`获得了 ${e}点修为和 ${a}灵石`),ee(),b.value++,b.value%5!=0||d.value.rewardedTowerFloors.includes(b.value)||(d.value.props.cultivateDan+=500,d.value.rewardedTowerFloors.push(b.value),y.value.push(`恭喜你通过第 ${b.value} 层，获得额外奖励：500培养丹！`)),b.value>d.value.highestTowerFloor&&(d.value.highestTowerFloor=b.value),y.value.push(`成功通过第 ${b.value-1} 层，自动前往第 ${b.value} 层`),G()},Q=()=>{y.value.push("你被击败了！挑战结束。"),y.value.push(`${p.value.name}: ${da.drawPrize(p.value.level).text}`),S.value=!1,k.value=!1,Y(),ie()},X=()=>{S.value=!S.value,S.value?B.value=setInterval(W,1e3):Y()},Y=()=>{clearInterval(B.value),B.value=null},Z=()=>{S.value=!1,k.value=!1,Y(),ie(),a.push("/home")},ee=()=>{let e={};Math.floor(d.value.maxCultivation/100);const a=Ma.getRandomInt(1,4);1==a?e=Ma.equip_Weapons(d.value.level):2==a?e=Ma.equip_Armors(d.value.level):3==a?e=Ma.equip_Accessorys(d.value.level):4==a&&(e=Ma.equip_Sutras(d.value.level)),y.value.push(`你发现了一个宝箱，打开后获得${Be[e.quality]}${e.name}(${Ve[e.type]})`),d.value.inventory.length>=d.value.backpackCapacity?y.value.push("当前装备背包容量已满, 该装备自动丢弃, 转生可增加背包容量"):d.value.inventory.push(e)},ne=()=>{k.value=!k.value,k.value?(g.value=0,_.value={expGain:0,moneyGain:0,equipmentGained:0},$.value=setInterval(oe.value,1e3),F.value=setInterval(ue.value,3e4)):ie()},ie=()=>{clearInterval($.value),clearInterval(F.value),$.value=null,F.value=null},oe=()=>{g.value++,g.value%60==0&&y.value.push(`扫荡结果：目前已扫荡${ve(g.value)}，恭喜你获得了${_.value.expGain}点修为，${_.value.moneyGain}灵石和${_.value.equipmentGained}件装备。`)},ue=()=>{const e=Math.floor(10*b.value),a=Math.floor(10*b.value);d.value.cultivation+=e,d.value.props.money+=a,d.value.jishaNum++,_.value.expGain+=e,_.value.moneyGain+=a;const l=Math.random()<.1;l&&(ee(),_.value.equipmentGained++),y.value.push(`扫荡结果：恭喜你获得了${e}点修为，${a}块灵石${l?"和1件装备":"。"}`)},se=()=>{var e;const a=null==(e=E.value)?void 0:e.wrapRef;a&&(m.value=new MutationObserver(()=>Fe(a)),m.value.observe(a,{subtree:!0,childList:!0}))},ve=e=>{if(e<60)return`${e}秒`;if(e<3600)return`${Math.floor(e/60)}分钟${e%60}秒`;{const a=Math.floor(e/3600);return e%=3600,`${a}小时${Math.floor(e/60)}分钟${e%60}秒`}};return u(()=>{const e=(e=>{const a=[];return $i(e),a})(d.value);e.forEach(e=>{qe({title:"获得成就提示",message:`恭喜你完成了${e.name}成就`})}),b.value=d.value.highestTowerFloor>1?d.value.highestTowerFloor-1:1,y.value.push(`欢迎来到无尽塔, 这里是无尽塔的第${b.value}层, 你的爬塔最高记录为${d.value.highestTowerFloor}层`),G()}),M(()=>{Y(),ie(),m.value&&(m.value.disconnect(),m.value=null)}),(e,a)=>{const l=ae,t=T,n=te,i=le,u=A;return h(),s("div",Ti,[o("div",Si,[o("div",Ii,[v(_e,{class:"name",type:"primary",onClick:a[0]||(a[0]=e=>j("player"))},{default:c(()=>[D(R(d.value.name),1)]),_:1}),v(l,{percentage:U.value,status:x.value,format:L,"stroke-width":20,"text-inside":""},null,8,["percentage","status"])]),a[2]||(a[2]=o("div",{class:"vs"},"VS",-1)),p.value?(h(),s("div",Vi,[v(_e,{class:"name",type:"danger",onClick:a[1]||(a[1]=e=>j("monster"))},{default:c(()=>[D(R(p.value.name),1)]),_:1}),v(l,{percentage:P.value,status:w.value,format:O,"stroke-width":20,"text-inside":""},null,8,["percentage","status"])])):r("",!0)]),o("div",Bi,[(h(!0),s(C,null,q(H.value,(e,a)=>(h(),f(t,{key:a,onClick:e.click,disabled:e.disabled},{default:c(()=>[D(R(e.text),1)]),_:2},1032,["onClick","disabled"]))),128))]),o("div",Di,[v(i,null,{default:c(()=>[(h(!0),s(C,null,q(N.value,(e,a)=>(h(),f(n,{span:6,key:a},{default:c(()=>[o("div",Ri,[o("div",{class:"el-statistic__head",textContent:R(e.name)},null,8,Fi),o("div",Ai,[o("span",{class:"el-statistic__number",textContent:R(e.suffix)},null,8,Ei)])])]),_:2},1024))),128))]),_:1})]),v(u,{class:"battle-log",height:"300px",ref_key:"scrollbar",ref:E,always:""},{default:c(()=>[(h(!0),s(C,null,q(y.value,(e,a)=>(h(),s("p",{key:a,innerHTML:e},null,8,Hi))),128))]),_:1},512)])}}},[["__scopeId","data-v-335c81b0"]]),Ui={class:"tic-tac-toe"},Pi={class:"game-board"},Li=["textContent"],Oi=ge({__name:"toe",emits:["game-result","update-next-game-time"],setup(e,{emit:a}){const n=[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]],i=fe(),v=a,d=l([[" "," "," "],[" "," "," "],[" "," "," "]]),p=l(!1),m=l("X"),g=l(!1),y=l(""),b=l(i.player),k=t(()=>n.some(e=>e.every(([e,a])=>d.value[e][a]===m.value))),_=t(()=>d.value.flat().every(e=>" "!==e)),x=t(()=>{var e;return(null==(e=b.value.nextGameTimes)?void 0:e.ticTacToe)||0}),w=t(()=>b.value.props.money>=1e3),M=()=>{p.value=!0,g.value=!1},$=(e,a,l)=>{d.value[e][a]=l},S=()=>{m.value="X"===m.value?"O":"X",y.value=`${"X"===m.value?b.value.name:"天道"}的轮次`},V=()=>{d.value=[[" "," "," "],[" "," "," "],[" "," "," "]],m.value="X",g.value=!1,y.value=`${b.value.name}的轮次`},I=(e,a)=>{y.value=e,g.value=!0,v("game-result",{success:a,reward:a?1e3:-1e3});const l=Date.now()+6e5;b.value.nextGameTimes.ticTacToe=l,v("update-next-game-time",{game:"ticTacToe",time:l})};return u(()=>{p.value=Date.now()>=x.value&&w.value,y.value=`${b.value.name}的轮次`}),(e,a)=>{const l=T,t=ne;return h(),s("div",Ui,[o("div",Pi,[(h(!0),s(C,null,q(d.value,(e,a)=>(h(),s("div",{key:a,class:"row"},[(h(!0),s(C,null,q(e,(e,t)=>(h(),f(l,{key:t,onClick:e=>((e,a)=>{" "===d.value[e][a]&&!g.value&&p.value&&($(e,a,m.value),k.value?I(`恭喜${b.value.name}胜利！`,!0):_.value?I("平局！",!1):(S(),g.value||setTimeout(()=>{let e,a;const l=[];d.value.forEach((e,a)=>e.forEach((e,t)=>" "===e&&l.push([a,t]))),l.length&&([e,a]=l[Math.floor(Math.random()*l.length)],$(e,a,m.value),k.value?I("恭喜天道胜利！",!1):_.value?I("平局！",!1):S())},500)))})(a,t),disabled:" "!==e||!p.value,class:"cell"},{default:c(()=>[D(R(e),1)]),_:2},1032,["onClick","disabled"]))),128))]))),128))]),p.value?(h(),s("p",{key:0,class:"game-status",textContent:R(y.value)},null,8,Li)):r("",!0),p.value&&!g.value?(h(),f(l,{key:1,onClick:V},{default:c(()=>[...a[0]||(a[0]=[D("重新开始",-1)])]),_:1})):(h(),f(t,{key:2,title:w.value?"冷却中":"灵石不足",value:x.value,onFinish:M},null,8,["title","value"]))])}}},[["__scopeId","data-v-9682aa45"]]),zi={class:"check-in"},Gi={class:"check-in-calendar"},ji={class:"day-number"},Wi={class:"reward"},Ki={class:"streak-info"},Ji={class:"next-bonus"},Qi=ge({__name:"checkin",emits:["game-result"],setup(e,{emit:a}){const n=fe(),i=l(n.player),u=l([100,200,300,400,500,1e3,2e3]),r=l([100,2e3,5e3]),d=a,p=t(()=>{const e=new Date,a=new Date(i.value.lastCheckinDate);return!i.value.lastCheckinDate||e.toDateString()!==a.toDateString()}),f=t(()=>7-i.value.checkinStreak%7),g=e=>e<=i.value.checkinStreak%7,y=e=>e===i.value.checkinStreak%7+1,b=e=>u.value[e-1]+(7===e?r.value[Math.floor(i.value.checkinStreak/7)]:0),k=()=>{if(!p.value)return;const e=i.value.checkinStreak%7+1;let a=u.value[e-1];if(7===e){const e=Math.floor(i.value.checkinStreak/7);a+=r.value[Math.min(e,2)]}i.value.checkinStreak++,i.value.checkinDays++,i.value.lastCheckinDate=(new Date).toISOString(),i.value.props.cultivateDan+=a,i.value.props.money+=1e3*e,d("game-result",{success:!0,reward:a}),qe({title:"签到成功",message:`获得 ${a} 培养丹！`})};return(e,a)=>{const l=T;return h(),s("div",zi,[o("div",Gi,[(h(),s(C,null,q(7,e=>o("div",{key:e,class:m(["day-box",{checked:g(e),current:y(e)}])},[o("span",ji,R(e),1),o("span",Wi,R(b(e)),1)],2)),64))]),v(l,{onClick:k,disabled:!p.value,class:"check-in-button"},{default:c(()=>[D(R(p.value?"签到":"今日已签到"),1)]),_:1},8,["disabled"]),o("p",Ki,"当前连续签到: "+R(i.value.checkinStreak)+"天",1),o("p",Ji,"距离下次额外奖励: "+R(f.value)+"天",1)])}}},[["__scopeId","data-v-0e860898"]]),Xi={class:"dice-game"},Yi={class:"options"},Zi=ge({__name:"Dicegame",emits:["game-result","update-next-game-time"],setup(e,{emit:a}){const n=fe(),r=l(n.player),d=l(!1),p=l("big"),g=l(100),y=l(!1),b=l(1),k=a,_=t(()=>r.value.props.money>=g.value),q=t(()=>{var e;return(null==(e=r.value.nextGameTimes)?void 0:e.dice)||0}),x=()=>{d.value=Date.now()>=q.value&&_.value},R=()=>{if(!d.value||!_.value)return void qe({title:"无法下注",message:"灵石不足或正在冷却中"});y.value=!0;let e=0;const a=setInterval(()=>{b.value=Math.floor(6*Math.random())+1,e++,e>=20&&(clearInterval(a),w())},100)},w=()=>{const e=b.value;let a=!1;switch(p.value){case"big":a=e>3;break;case"small":a=e<=3;break;case"odd":a=e%2!=0;break;case"even":a=e%2==0}const l=a?2*g.value:0;d.value=!1,a?r.value.props.money+=l-g.value:r.value.props.money-=g.value,qe({title:`骰子点数: ${e}`,message:a?`恭喜您赢得了${l}灵石！`:"很遗憾，您输了。"}),k("game-result",{success:a,reward:l});const t=Date.now()+6e5;r.value.nextGameTimes.dice=t,k("update-next-game-time",{game:"dice",time:t}),y.value=!1,x()};return i(g,()=>x()),u(()=>{x()}),(e,a)=>{const l=ie,t=ue,n=se,i=T,u=ne;return h(),s("div",Xi,[o("div",Yi,[v(t,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e)},{default:c(()=>[v(l,{value:"big",disabled:!d.value,label:"大"},null,8,["disabled"]),v(l,{value:"small",disabled:!d.value,label:"小"},null,8,["disabled"]),v(l,{value:"odd",disabled:!d.value,label:"单"},null,8,["disabled"]),v(l,{value:"even",disabled:!d.value,label:"双"},null,8,["disabled"])]),_:1},8,["modelValue"])]),v(n,{class:"bet-amount",modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),min:100,step:100,max:1e6,disabled:!d.value},null,8,["modelValue","disabled"]),d.value?(h(),f(i,{key:0,onClick:R,disabled:!d.value},{default:c(()=>[...a[2]||(a[2]=[D("下注灵石",-1)])]),_:1},8,["disabled"])):(h(),f(u,{key:1,title:_.value?"冷却中":"灵石不足",value:q.value,onFinish:x},null,8,["title","value"])),o("div",{class:m(["dice","dice-"+b.value,{rolling:y.value}])},null,2)])}}},[["__scopeId","data-v-9b02d769"]]),eu={class:"secret-realm"},au={class:"game-info"},lu={class:"info-item"},tu={class:"info-value"},nu={class:"info-item"},iu={class:"info-value"},uu={class:"game-board"},su=["onClick"],ou={class:"new-game-button"},ru=ge({__name:"SecretRealm",setup(e){const a=fe(),n=l(a.player),i=l([]),v=l(!1),r=l(8),d=l(20),p=l(0),g=l({TRAP:"trap",EMPTY:"empty",EVENT:"event",REWARD:"reward",MONSTER:"monster"}),y=t(()=>Date.now()>=b.value),b=t(()=>n.value.nextGameTimes.secretrealm),k=(e,a)=>{for(let l=0;l<a;l++){let a,l;do{a=Math.floor(Math.random()*r.value),l=Math.floor(Math.random()*r.value)}while(i.value[a][l].type!==g.value.EMPTY);i.value[a][l].type=e}},_=()=>{v.value=!1,d.value=20,p.value=0,i.value=Array(r.value).fill().map(()=>Array(r.value).fill().map(()=>({type:g.value.EMPTY,revealed:!1}))),k(g.value.REWARD,10),k(g.value.MONSTER,5),k(g.value.TRAP,3),k(g.value.EVENT,5)};return u(()=>{_()}),(e,a)=>{const l=T,t=ne;return h(),s("div",eu,[o("div",au,[o("div",lu,[a[0]||(a[0]=o("span",{class:"info-label"},"探索次数",-1)),o("span",tu,R(d.value),1)]),o("div",nu,[a[1]||(a[1]=o("span",{class:"info-label"},"获得灵石",-1)),o("span",iu,R(p.value),1)])]),o("div",uu,[(h(!0),s(C,null,q(i.value,(e,a)=>(h(),s(C,{key:a},[(h(!0),s(C,null,q(e,(e,l)=>(h(),s("div",{key:l,class:m(["board-cell",{revealed:e.revealed,[e.type]:e.revealed}]),onClick:e=>((e,a)=>{if(v.value||i.value[e][a].revealed||!y.value||d.value<=0)return;const l=i.value[e][a];switch(l.revealed=!0,d.value--,l.type){case g.value.REWARD:const e=Math.floor(500*Math.random())+50;qe({title:"找到灵石啦",message:`获得${e}灵石`}),p.value+=e,n.value.props.money+=e;break;case g.value.MONSTER:qe({title:"你真倒霉",message:"遇到了一只怪物"}),(()=>{if(Math.random()>.5){const e=Math.floor(200*Math.random())+100;p.value+=e,n.value.props.money+=e}else{const e=Math.floor(30*Math.random())+20;n.value.health=Math.max(0,n.value.health-e)}})();break;case g.value.TRAP:const a=Math.floor(200*Math.random())+50;n.value.health=Math.max(0,n.value.health-a),qe({title:"真晦气",message:`生命值减少${a}`});break;case g.value.EVENT:(()=>{const e=[{name:"幸运符",effect:()=>{p.value*=2}},{name:"遭雷劈",effect:()=>{n.value.health=Math.max(0,n.value.health-50)}},{name:"灵感顿悟",effect:()=>{n.value.cultivation+=100}},{name:"迷失方向",effect:()=>{d.value=Math.max(1,d.value-5)}},{name:"宝藏地图",effect:()=>{d.value+=5}}],a=e[Math.floor(Math.random()*e.length)];qe({title:"随机事件",message:a.name}),a.effect()})()}d.value<=0&&(v.value=!0,n.value.nextGameTimes.secretrealm=Date.now()+72e5)})(a,l)},R(e.revealed?(e=>{const{TRAP:a,EVENT:l,REWARD:t,MONSTER:n}=g.value;return{[a]:"💥",[l]:"❓",[t]:"💰",[n]:"👹"}[e.type]||""})(e):""),11,su))),128))],64))),128))]),o("div",ou,[!v.value&&y.value?(h(),f(l,{key:0,onClick:_,disabled:!v.value},{default:c(()=>[...a[2]||(a[2]=[D("探索中",-1)])]),_:1},8,["disabled"])):(h(),f(t,{key:1,title:"下次探索时间",value:b.value,onFinish:_},null,8,["value"]))])])}}},[["__scopeId","data-v-2620e430"]]),vu={class:"fortune-telling"},cu={key:0,class:"result"},du=["textContent"],pu=ge({__name:"fortunetelling",emits:["game-result"],setup(e,{emit:a}){const n=fe(),i=l(null),u=l(n.player),d=a,p=t(()=>{const e=new Date,a=new Date(u.value.fortuneTellingDate);return!u.value.fortuneTellingDate||e.toDateString()!==a.toDateString()}),m=()=>{if(!p.value)return;const e=["大吉","中吉","小吉","吉","末吉","凶","大凶"],a=e[Math.floor(Math.random()*e.length)],l="大吉"===a?50:"中吉"===a?30:"小吉"===a?20:0;i.value={message:`您的运势是: ${a}${l>0?`，获得${l}灵石！`:""}`},u.value.fortuneTellingDate=(new Date).toISOString(),u.value.props.money+=l,d("game-result",{reward:l,success:l>0})};return(e,a)=>{const l=T;return h(),s("div",vu,[v(l,{onClick:m,disabled:!p.value,class:"fortune-button"},{default:c(()=>[D(R(p.value?"开始算卦":"今日已算卦"),1)]),_:1},8,["disabled"]),i.value?(h(),s("div",cu,[o("p",{textContent:R(i.value.message)},null,8,du)])):r("",!0)])}}},[["__scopeId","data-v-6d6a73f7"]]),mu={class:"rps-game"},hu={class:"bet-amount"},fu={class:"options"},gu={key:0,class:"game-result"},yu={class:"player-choice"},bu={class:"computer-choice"},ku={key:1,class:"result"},xu={class:"message"},wu={key:0},_u={key:1},Mu=ge({__name:"rock",emits:["game-result","update-next-game-time"],setup(e,{emit:a}){const n=fe(),d={布:"cloth",剪刀:"scissors",石头:"fist"},p=l(null),g=l(["石头","剪刀","布"]),y=l(100),b=l(!1),k=l(n.player),_=a,x=t(()=>{var e;return(null==(e=k.value.nextGameTimes)?void 0:e.rps)||0}),w=t(()=>k.value.props.money>=y.value),M=()=>{b.value=Date.now()>=x.value&&w.value};return i(y,()=>M()),u(()=>{M()}),(e,a)=>{const l=se,t=T,n=ne;return h(),s("div",mu,[o("div",hu,[v(l,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),min:100,step:100,max:1e5,disabled:!b.value},null,8,["modelValue","disabled"])]),o("div",fu,[(h(!0),s(C,null,q(g.value,e=>(h(),f(t,{key:e,onClick:a=>(e=>{if(!b.value)return;const a=g.value[Math.floor(3*Math.random())],l="石头"===e&&"剪刀"===a||"剪刀"===e&&"布"===a||"布"===e&&"石头"===a,t=e===a,n=l?2*y.value:t?0:y.value;p.value={message:l?`恭喜您赢得了${n}灵石！`:t?"很遗憾，五五开!":"很遗憾，您输了。",playerChoice:e,computerChoice:a},l?k.value.props.money+=n-y.value:k.value.props.money-=n,_("game-result",{success:l,reward:n});const i=Date.now()+6e5;k.value.nextGameTimes.rps=i,_("update-next-game-time",{game:"rps",time:i}),b.value=!1})(e),disabled:!b.value},{default:c(()=>[D(R(e),1)]),_:2},1032,["onClick","disabled"]))),128))]),p.value?(h(),s("div",gu,[o("div",yu,[o("div",{class:m(["choice-image",d[p.value.playerChoice]])},null,2),a[1]||(a[1]=o("p",null,"你的选择",-1))]),a[3]||(a[3]=o("div",{class:"vs"},"VS",-1)),o("div",bu,[o("div",{class:m(["choice-image",d[p.value.computerChoice]])},null,2),a[2]||(a[2]=o("p",null,"天道的选择",-1))])])):r("",!0),p.value?(h(),s("div",ku,[o("p",null,R(p.value.message),1)])):r("",!0),o("div",xu,[b.value?(h(),s("p",wu,"请选择")):w.value?(h(),f(n,{key:2,title:"冷却中",value:x.value,onFinish:M},null,8,["value"])):(h(),s("p",_u,"灵石不足"))])])}}},[["__scopeId","data-v-f3692ea5"]]),$u={class:"games"},Cu={class:"stats"},qu={class:"attribute-box"},Tu={class:"el-statistic"},Su={class:"el-statistic__head"},Iu={class:"el-statistic__content"},Vu={class:"el-statistic__number"},Bu=[{path:"/",name:"index",meta:{keepAlive:!1},component:Yn},{path:"/home",name:"home",meta:{keepAlive:!1},component:Wn},{path:"/cultivate",name:"cultivate",meta:{keepAlive:!1},component:wi},{path:"/map",name:"map",meta:{keepAlive:!1},component:ca},{path:"/explore",name:"explore",meta:{keepAlive:!1},component:pi},{path:"/boss",name:"boss",meta:{keepAlive:!1},component:wa},{path:"/endlesstower",name:"endlesstower",meta:{keepAlive:!1},component:Ni},{path:"/game",name:"game",meta:{keepAlive:!1},component:ge({__name:"game",setup(e){const a=fe(),n=I(),r=l("checkin"),d=l(a.player),p=l(null),m=t(()=>[{name:"签到天数",unit:"天",value:d.value.checkinDays},{name:"拥有灵石",unit:"枚",value:d.value.props.money},{name:"胜利次数",unit:"次",value:d.value.gameWins},{name:"失败次数",unit:"次",value:d.value.gameLosses}]),y=e=>{e.success?b(e):k(e)},b=e=>{d.value.gameWins++;const a=e.reward;a&&("object"==typeof a?Object.entries(a).forEach(([e,a])=>{d.value.props[e]+=a}):d.value.props.money+=a)},k=e=>{d.value.props.money-=e.reward,d.value.gameLosses++};return i(r,e=>{p.value=e}),u(()=>{(()=>{const e=new Date,a=new Date(d.value.lastCheckinDate);e.toDateString()!==a.toDateString()&&(d.value.checkedInToday=!1)})()}),(e,a)=>{const l=O,t=H,i=te,u=le,d=T;return h(),s("div",$u,[v(t,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},{default:c(()=>[v(l,{name:"checkin",label:"签到"},{default:c(()=>[v(Qi,{onGameResult:y})]),_:1}),v(l,{name:"dice",label:"骰子"},{default:c(()=>[v(Zi,{onGameResult:y})]),_:1}),v(l,{name:"rps",label:"猜拳"},{default:c(()=>[v(Mu,{onGameResult:y})]),_:1}),v(l,{name:"fortune",label:"算卦"},{default:c(()=>[v(pu,{onGameResult:y})]),_:1}),v(l,{name:"toe",label:"井棋"},{default:c(()=>[v(Oi,{onGameResult:y})]),_:1}),v(l,{name:"secret-realm",label:"秘境"},{default:c(()=>[v(ru,{onGameResult:y})]),_:1})]),_:1},8,["modelValue"]),o("div",Cu,[o("div",qu,[v(u,null,{default:c(()=>[(h(!0),s(C,null,q(m.value,(e,a)=>(h(),f(i,{span:12,class:"attribute-col",key:a},{default:c(()=>[o("div",Tu,[o("div",Su,R(e.name),1),o("div",Iu,[o("span",Vu,R(g(Re)(e.value))+R(e.unit),1)])])]),_:2},1024))),128))]),_:1})]),v(d,{class:"attribute-label",onClick:a[1]||(a[1]=e=>g(n).push("/home"))},{default:c(()=>[...a[2]||(a[2]=[D("返回家中",-1)])]),_:1})])])}}},[["__scopeId","data-v-48698ddf"]])}],Du=oe({history:re(),routes:Bu}),Ru=ve(we),Fu=ce();Fu.use(de),Ru.use(Fu);for(const[e,a]of Object.entries(pe))Ru.component(e,a);Ru.use(Du),Ru.use(me),Ru.mount("#app");