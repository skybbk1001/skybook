<html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="专注于分享自制书源与阅读资源的网站，涵盖小说、文学、科技等多种类型，并保持持续更新；除书源外，还提供订阅源、听书引擎等配套内容，方便用户一站式获取最新最全的开源阅读资源"><title>阅读排行 - 明月书阁 - 明月照大江发布页</title><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/helpers.css"></head><body><div class="page"><div class="head" data-show="data-show"><header class="head-header"><div class="head-author"><a class="head-author-link" href="/">明月书阁</a></div><div class="head-right"><button class="bar-wrap" id="bar-wrap-toggle" title="菜单按钮"><span class="bar"></span><span class="bar"></span><span class="bar"></span></button><div class="head-item"><a class="search-button head-item-link"><span>搜索</span> <i class="icon icon-search"></i></a></div><div class="head-item"><a class="head-item-link" href="/activities/">动态</a><a class="head-item-link" href="/rank/">排行</a><a class="head-item-link" href="/about/">关于</a></div></div></header><div class="menubar-head" id="menubar"><ul class="menubar-ul"><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%85%AC%E5%91%8A/">公告</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E4%B9%A6%E6%BA%90/">书源</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E8%AE%A2%E9%98%85%E6%BA%90/">订阅源</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E4%B9%A6%E6%BA%90%E5%90%88%E9%9B%86/">书源合集</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E6%9C%97%E8%AF%BB%E5%BC%95%E6%93%8E/">朗读引擎</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/">定时任务</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90/">好书推荐</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/">其他资源</a></li><li class="menubar-item"><i class="icon icon-tags"></i> <a class="menubar-link" href="/tags">Tags</a></li><li class="menubar-item" data-border="data-border"></li><li class="menubar-item"><a class="menubar-link" href="/activities/"><span>动态</span></a></li><li class="menubar-item"><a class="menubar-link" href="/rank/"><span>排行</span></a></li><li class="menubar-item"><a class="menubar-link" href="/about/"><span>关于</span></a></li></ul><div class="menu-search-box search-button"><div>搜索</div><i class="icon icon-search"></i></div></div></div><div class="main"><div class="about"><div id="site-rank"><h2>阅读排行</h2><div id="rank-summary" class="rank-summary"><div class="rank-card" data-range="total"><div class="rank-card-body"><div class="label">总阅读量</div><div class="value" data-key="total">-</div></div></div><div class="rank-card" data-range="month"><div class="rank-card-body"><div class="label">本月阅读</div><div class="value" data-key="month">-</div></div></div><div class="rank-card" data-range="week"><div class="rank-card-body"><div class="label">本周阅读</div><div class="value" data-key="week">-</div></div></div><div class="rank-card" data-range="day"><div class="rank-card-body"><div class="label">今日阅读</div><div class="value" data-key="day">-</div></div></div></div><div id="rank-container"><p>加载中...</p></div></div><script>const RANGES=["total","month","week","day"],RANK_API="https://skybook.pages.dev/api/rank";function renderSummary(t,e){if(!t)return;const a=e||{};t.querySelectorAll("[data-key]").forEach(t=>{const e=t.getAttribute("data-key");e&&(Object.prototype.hasOwnProperty.call(a,e)?t.textContent=formatNumber(a[e]):t.textContent="-")})}async function fetchJson(t){const e=await fetch(t,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!e.ok)throw new Error(`请求失败: ${e.status}`);return e.json()}function extractPosts(t){return Array.isArray(t)?t:Array.isArray(t.posts)?t.posts:[]}function normalizePagesByRange(t){const e=Object.fromEntries(RANGES.map(t=>[t,[]]));return Array.isArray(t)?(e.total=t,e):t&&"object"==typeof t?(RANGES.forEach(a=>{e[a]=Array.isArray(t[a])?t[a]:[]}),e):e}function buildPostPagesByRange(t,e){const a=Object.fromEntries(RANGES.map(t=>[t,[]]));return RANGES.forEach(n=>{const r=t&&t[n]||[];a[n]=(r||[]).map(t=>{const a=normalizePath(t.path||"");if(!a||"/"===a)return null;const n=e.get(a);return n?{path:a,pv:Number(t.pv)||0,post:n}:null}).filter(Boolean)}),a}function buildPostSummary(t){const e=t=>(t||[]).reduce((t,e)=>t+(Number(e.pv)||0),0);return{total:e(t.total),month:e(t.month),week:e(t.week),day:e(t.day)}}function buildRanked(t){return(t||[]).map(t=>{const e=t.post;return e?{path:t.path,pv:Number(t.pv)||0,title:e.title||"无标题",author:e.author||"明月",date:e.date||""}:null}).filter(Boolean).slice(0,20)}function updateActiveRange(t,e){(t||[]).forEach(t=>{t.classList.toggle("is-active",t.getAttribute("data-range")===e)})}function normalizePath(t){let e=(t||"").trim();if(!e)return"/";try{e=encodeURI(decodeURI(e))}catch(t){e=encodeURI(e)}e.startsWith("/")||(e=`/${e}`),e=e.replace(/\/{2,}/g,"/");const a=/\.[a-zA-Z0-9]+$/.test(e);return"/"===e||a||e.endsWith("/")||(e+="/"),e}function formatNumber(t){return(Number(t)||0).toLocaleString("zh-CN")}function formatDate(t){if(!t)return"";const e=new Date(t);if(Number.isNaN(e.getTime()))return"";return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function escapeHtml(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}document.addEventListener("DOMContentLoaded",async function(){const t=document.getElementById("rank-summary"),e=document.getElementById("rank-container");try{const[a,n]=await Promise.all([fetchJson(RANK_API),fetchJson("/content.json")]),r=extractPosts(n),o=new Map;r.forEach(t=>{const e=normalizePath(t.path||"");e&&o.set(e,t)});const s=buildPostPagesByRange(normalizePagesByRange(a&&a.pages),o);renderSummary(t,buildPostSummary(s));const c=t?Array.from(t.querySelectorAll(".rank-card[data-range]")):[],i={range:"total"},l=()=>{updateActiveRange(c,i.range);const t=buildRanked(s[i.range]||[]);t.length?(e.innerHTML="",t.forEach((t,a)=>{const n=escapeHtml(t.title),r=escapeHtml(t.author),o=formatDate(t.date),s=formatNumber(t.pv),c=a+1,i=t.path;e.insertAdjacentHTML("beforeend",`\n          <div class="rank-item" style="animation-delay: ${.04*a}s">\n            <div class="rank-body">\n              <div class="rank-header">\n                <span class="rank-num">${c}</span>\n                <a href="${i}" class="rank-title">${n}</a>\n                <span class="rank-count">${s} 次阅读</span>\n              </div>\n              <div class="rank-meta">\n                <span class="rank-author">${r}</span>\n                <span class="rank-date">${o}</span>\n              </div>\n            </div>\n          </div>\n        `)})):e.innerHTML='<p class="empty-message">暂无排行数据</p>'};c.forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-range");e&&e!==i.range&&(i.range=e,l())})}),l()}catch(t){console.error("加载排行失败:",t),e.innerHTML='<p class="error-message">加载排行失败，请稍后重试</p>'}})</script><style>#site-rank{max-width:850px;margin:2em auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif}#site-rank h2{font-size:1.8em;margin-bottom:1.2em;text-align:center;position:relative;padding-bottom:.5em}#site-rank h2::after{content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:60px;height:3px;background:var(--color-accent-1,#58a6ff);border-radius:2px}.rank-summary{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px;margin-bottom:2em}.rank-card{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;border:1px solid var(--color-border,rgba(128,128,128,.2));border-radius:12px;padding:1em .8em;cursor:pointer;transition:all .3s cubic-bezier(.4, 0, .2, 1)}.rank-card:hover{transform:translateY(-2px);border-color:var(--color-accent-1,#58a6ff);box-shadow:0 4px 12px rgba(0,0,0,.1)}.rank-card.is-active{border-color:var(--color-accent-1,#58a6ff);border-width:2px;background:var(--color-bg-alt,rgba(88,166,255,.05))}.rank-card-icon{display:none}.rank-card-body{min-width:0}.rank-card .label{opacity:.7;font-size:.85em;margin-bottom:6px}.rank-card .value{font-size:1.4em;font-weight:700;color:var(--color-accent-1,#58a6ff)}.rank-item{border:1px solid var(--color-border,rgba(128,128,128,.2));border-radius:12px;padding:1.1em 1.4em;margin-bottom:.9em;transition:all .3s cubic-bezier(.4, 0, .2, 1);animation:fadeInUp .5s ease forwards;opacity:0}@keyframes fadeInUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.rank-item:hover{transform:translateY(-2px);border-color:var(--color-accent-1,#58a6ff);box-shadow:0 4px 12px rgba(0,0,0,.1)}.rank-body{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:8px}.rank-header{display:flex;align-items:center;gap:10px;flex:1;min-width:0}.rank-num{font-weight:700;font-size:.9em;min-width:24px;opacity:.5}.rank-title{font-weight:500;font-size:1em;text-decoration:none;transition:color .2s ease;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rank-title:hover{color:var(--color-accent-1,#58a6ff)}.rank-count{color:var(--color-accent-2,#f0883e);font-size:.85em;font-weight:500;white-space:nowrap}.rank-meta{display:flex;align-items:center;gap:12px;font-size:.8em;opacity:.6;width:100%}.empty-message,.error-message{text-align:center;opacity:.6;padding:2em}@media (max-width:768px){.rank-summary{grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.rank-card{padding:.9em .7em}.rank-card .value{font-size:1.2em}.rank-body{flex-direction:column;align-items:flex-start;gap:6px}.rank-header{width:100%}.rank-meta{gap:10px}}@media (max-width:480px){#site-rank{margin:.5em 0}.rank-item{padding:.9em 1em}}</style></div></div><footer class="footer-nav"><div class="footer"><div class="back-top" id="back-top" title="Back to top"><i class="icon icon-chevron-bar-up"></i></div><div class="footer-content"><div class="footer-links"><div class="footer-links-column"><p><a title="源仓库" target="_blank" rel="noopener" href="https://www.yckceo.com/">源仓库</a></p><p><a title="Pixiv 书源" target="_blank" rel="noopener" href="https://pixivsource.pages.dev/">Pixiv 书源</a></p><p><a title="洛娅橙发布页" target="_blank" rel="noopener" href="https://洛娅橙.duckdns.org/">洛娅橙发布页</a></p></div><div class="footer-links-column"><p><a title="喵公子订阅" target="_blank" rel="noopener" href="https://yuedu.miaogongzi.net/">喵公子订阅</a></p><p><a title="遇知发布页" target="_blank" rel="noopener" href="https://yuzhi.ip-ddns.com/">遇知发布页</a></p><p><a title="小寒发布页" target="_blank" rel="noopener" href="https://qyyuapi.com/">小寒发布页</a></p></div><div class="footer-links-column"><p><a title="天天的小站" target="_blank" rel="noopener" href="https://blog.ttxz.eu.org/">天天的小站</a></p><p><a title="活力宝小窝" target="_blank" rel="noopener" href="https://hlb.leleosd.top/">活力宝小窝</a></p><p><a title="荼丛の小破站" target="_blank" rel="noopener" href="https://tucong.vip/">荼丛の小破站</a></p></div><div class="footer-links-column"><p><a title="浅殇番茄" target="_blank" rel="noopener" href="https://fqphp.gxom.cn/">浅殇番茄</a></p><p><a title="寻道云海" target="_blank" rel="noopener" href="https://ys.66ds.de/">寻道云海</a></p></div></div><div><span id="site_pv">?</span> PV <span id="site_uv">?</span> UV</div>Copyright &copy; <span class="time-divide">-</span>2026 明月照大江. Power by <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a> and <a href="https://github.com/Cerallin/hexo-theme-yuzu" target="_blank" rel="external nofollow" title="v3.2.7">Theme Yuzu</a>.</div></div></footer><script>window.config={url_root:"/",meta_path:"meta.json"}</script><script src="/js/bootstrap.js"></script><script defer="defer" src="/js/clipboard/clipboard.min.js"></script><script>Theme.counter={register:function(){request("https://skybook.pages.dev/api/visit/?page="+encodeURIComponent(window.location.pathname),{method:"GET"}).then(e=>{for(const t in e){const n=document.getElementById(t);n&&(n.innerText=e[t])}}).catch(e=>{console.error("Fetching visit count failed.",e)})}}</script><script src="/js/theme/back-to-top.js"></script><script src="/js/theme/clipboard.js"></script><script src="/js/theme/navbar.js"></script><script src="/js/theme/search.js"></script><script src="/js/theme/toc.js"></script><script>window.onload=function(){for(const e in Theme){Theme[e].register()}}</script></div><div class="search-modal" id="search-modal"><div class="card"><div class="card-head"><div class="search-box"><input class="search-input" id="search-input" placeholder="搜索"><div class="search-button" id="search-button"><div class="icon icon-search"></div></div></div><div class="close-button"><div class="icon icon-x"></div></div></div><div class="card-body"><div class="search-count">共<span id="search-count-num">0</span>条搜索结果。</div><div class="search-result" id="search-result"></div></div></div></div></body></html>