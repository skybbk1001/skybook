<html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="专注于分享自制书源与阅读资源的网站，涵盖小说、文学、科技等多种类型，并保持持续更新；除书源外，还提供订阅源、听书引擎等配套内容，方便用户一站式获取最新最全的开源阅读资源"><title>写源小工具 - 明月书阁 - 明月照大江发布页</title><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/helpers.css"><link rel="alternate" href="/atom.xml" title="明月书阁" type="application/atom+xml"></head><body><div class="page"><div class="head" data-show="data-show"><header class="head-header"><div class="head-author"><a class="head-author-link" href="/">明月书阁</a></div><div class="head-right"><button class="bar-wrap" id="bar-wrap-toggle" title="菜单按钮"><span class="bar"></span><span class="bar"></span><span class="bar"></span></button><div class="head-item"><a class="search-button head-item-link"><span>搜索</span> <i class="icon icon-search"></i></a></div><div class="head-item"><a class="head-item-link" href="/activities/">动态</a><a class="head-item-link" href="/rank/">排行</a><a class="head-item-link" href="/about/">关于</a></div></div></header><div class="menubar-head" id="menubar"><ul class="menubar-ul"><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%85%AC%E5%91%8A/">公告</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E4%B9%A6%E6%BA%90/">书源</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E8%AE%A2%E9%98%85%E6%BA%90/">订阅源</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E4%B9%A6%E6%BA%90%E5%90%88%E9%9B%86/">书源合集</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E6%9C%97%E8%AF%BB%E5%BC%95%E6%93%8E/">朗读引擎</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/">定时任务</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90/">好书推荐</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i> <a class="menubar-link" href="/categories/%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/">其他资源</a></li><li class="menubar-item"><i class="icon icon-tags"></i> <a class="menubar-link" href="/tags">Tags</a></li><li class="menubar-item" data-border="data-border"></li><li class="menubar-item"><a class="menubar-link" href="/activities/"><span>动态</span></a></li><li class="menubar-item"><a class="menubar-link" href="/rank/"><span>排行</span></a></li><li class="menubar-item"><a class="menubar-link" href="/about/"><span>关于</span></a></li></ul><div class="menu-search-box search-button"><div>搜索</div><i class="icon icon-search"></i></div></div></div><div class="main"><div class="about"><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>写源小工具</title><style>:root{color-scheme:light;--text:#1f2430;--muted:#606a79;--border:#dde3ee;--accent:#0b6e4f;--accent-2:#1b3d8a;--danger:#b53939;--shadow:0 10px 30px rgba(31, 36, 48, 0.08)}*{box-sizing:border-box}body{margin:0;min-height:100vh}.page{max-width:1280px;margin:0 auto}.header{display:flex;flex-direction:column;gap:10px;margin-bottom:22px}.header h1{margin:0;font-size:26px;font-weight:700}.header p{margin:0;color:var(--muted);font-size:13px}.tabs{display:flex;gap:10px;flex-wrap:wrap}.tab-btn{border:1px solid var(--border);color:var(--text);border-radius:999px;padding:8px 16px;font-size:16px;cursor:pointer;transition:all .2s ease}.tab-btn.active{background:var(--accent-2);border-color:var(--accent-2);color:#fff;box-shadow:0 6px 16px rgba(27,61,138,.25)}.tab-panel{display:none;animation:fadeIn .25s ease}.tab-panel.active{display:block}@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow);margin-bottom:18px}.card h2{margin:0 0 12px;font-size:18px}.helper-links{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}.helper-links a{color:var(--accent-2);text-decoration:none;font-size:13px}button,input[type=button],input[type=text],select,textarea{font-family:Consolas,"Courier New",monospace}input[type=text],select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fdfdfd;color:var(--text);font-size:12px}textarea{min-height:160px;resize:vertical}.btn,button,input[type=button]{border:1px solid var(--border);background:#fff;color:var(--text);border-radius:10px;padding:8px 12px;font-size:16px;cursor:pointer;transition:all .15s ease}.btn:hover,button:hover,input[type=button]:hover{border-color:var(--accent-2);color:var(--accent-2)}.btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}.btn.primary:hover{background:#0a5c43;border-color:#0a5c43}.btn.danger{background:var(--danger);border-color:var(--danger);color:#fff}.btn.secondary{background:#f1f4fb}.btn-group{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}.btn-group select{width:auto;min-width:180px}.btn-group.inline{flex-wrap:wrap}.grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin-top:12px}.note{font-size:14px;color:var(--muted);margin-top:8px}.toast{position:fixed;top:16px;left:50%;transform:translateX(-50%);background:#fff;border:1px solid var(--border);padding:6px 12px;border-radius:8px;box-shadow:var(--shadow);display:none;font-size:12px}.section-title{font-size:18px;font-weight:600;margin:12px 0 6px}.status{font-size:12px;color:var(--accent);margin-top:8px}.status.error{color:var(--danger)}.tag{display:inline-block;padding:2px 8px;border-radius:999px;background:#eef3ff;color:var(--accent-2);font-size:11px}.divider{height:1px;background:var(--border);margin:14px 0}@media (max-width:720px){.header h1{font-size:22px}.tabs{flex-direction:column;align-items:stretch}.tab-btn{width:100%;text-align:center}.grid{grid-template-columns:1fr}.btn-group{flex-direction:column;align-items:stretch}.btn-group select{width:100%;min-width:0}.btn-group.inline{flex-direction:row;align-items:center}.btn,button,input[type=button]{width:100%}.btn-group.inline .btn,.btn-group.inline button,.btn-group.inline input[type=button]{width:auto}.helper-links{flex-direction:row;align-items:center}textarea{min-height:140px}.toast{width:80%;text-align:center}}</style></head><body><div class="page"><header class="header"><h1>写源小工具</h1><p>一些实用的写源小工具</p><div class="tabs"><button class="tab-btn active" data-tab="curl-to-analyze">curl → AnalyzeUrl</button> <button class="tab-btn" data-tab="analyze-to-curl">AnalyzeUrl → curl</button> <button class="tab-btn" data-tab="discover">发现规则转换</button> <button class="tab-btn" data-tab="format">代码格式化</button></div></header><section class="tab-panel active" id="tab-curl-to-analyze"><div class="card"><h2>curl → AnalyzeUrl</h2><p class="note">支持 method/headers/body/proxy 的互转。webView/webJs/js/retry/type/data URL 不做映射。</p><div class="grid"><div><div class="section-title">curl 输入</div><textarea id="curlInputMain" placeholder="curl https://example.com -H 'UA: x'"></textarea><div class="btn-group"><button class="btn primary" id="toAnalyzeBtnMain">转换为 AnalyzeUrl</button> <button class="btn" id="clearCurlBtnMain">清空</button></div></div><div><div class="section-title">AnalyzeUrl 输出</div><textarea id="analyzeOutputMain" readonly="readonly" placeholder="AnalyzeUrl 输出"></textarea><div class="btn-group"><button class="btn" id="copyAnalyzeBtnMain">一键复制 AnalyzeUrl</button></div></div></div><div id="statusCurlToAnalyze" class="status"></div></div></section><section class="tab-panel" id="tab-analyze-to-curl"><div class="card"><h2>AnalyzeUrl → curl</h2><p class="note">支持 method/headers/body/proxy 的互转。webView/webJs/js/retry/type/data URL 不做映射。</p><div class="grid"><div><div class="section-title">AnalyzeUrl 输入</div><textarea id="analyzeInputMain" placeholder="https://example.com/api,{...}"></textarea><div class="btn-group"><button class="btn primary" id="toCurlBtnMain">转换为 curl</button> <button class="btn" id="clearAnalyzeBtnMain">清空</button></div></div><div><div class="section-title">curl 输出</div><textarea id="curlOutputMain" readonly="readonly" placeholder="curl 输出"></textarea><div class="btn-group"><button class="btn" id="copyCurlBtnMain">一键复制 curl</button></div></div></div><div id="statusAnalyzeToCurl" class="status"></div></div></section><section class="tab-panel" id="tab-discover"><div class="card"><h2>发现规则转换</h2><div class="helper-links"><a href="https://www.sojson.com/rehtml" target="_blank" rel="noopener external nofollow noreferrer">html转义</a> <a href="http://www.jsons.cn/urlencode/" target="_blank" rel="noopener external nofollow noreferrer">URL解码</a></div><textarea rows="16" id="input" onfocus="di()" placeholder="输入带html标签的发现内容"></textarea><div class="btn-group"><button id="discoverRunBtn" class="btn primary" onclick="runDiscoverFormat()">执行转换</button> <select id="discoverMode"><option value="auto">自动识别</option><option value="html-old">HTML → 旧发现</option><option value="html-new">HTML → 新发现</option><option value="toggle">旧/新 互转</option></select></div><div class="btn-group inline"><span class="note">每行数量：</span> <button class="btn" onclick="getInput4(2,1)">1</button> <button class="btn" onclick="getInput4(2,2)">2</button> <button class="btn" onclick="getInput4(2,3)">3</button> <button class="btn" onclick="getInput4(2,4)">4</button> <button class="btn secondary" onclick="clearLayout()">清除</button></div><div class="btn-group"><button class="btn primary" onclick="copyText()" id="bt2">一键复制</button> <button class="btn" onclick="formatJson()" id="bt3">格式化Json</button></div><div class="grid"><div><div class="section-title">分类链接模板</div><div class="note">输入分类里的链接，如：/sort/xuanhuan/ 写成 /sort/分类/</div><input id="pageclass"></div><div><div class="section-title">翻页链接模板</div><div class="note">如：/sort/xuanhuan/2.html 写成 /sort/分类/页码.html</div><input id="pageclass2"></div><div><div class="section-title">翻页差异部分</div><div class="note">第一页跟第二页不一样？输入第二页多出的部分，例如：index_页码.html</div><input id="pageclass3"></div></div><div class="btn-group"><button class="btn" onclick="okpage()">确认加入翻页（仅旧发现）</button></div></div><div class="card"><h2>正则匹配与替换</h2><div class="section-title">待验证文本</div><textarea id="textSour" name="textSour" rows="8" placeholder="请输入要验证的文本"></textarea><div class="grid"><div><div class="section-title">正则表达式</div><div><span class="tag" id="basic-addon1">正则表达式</span> <input id="textPattern" name="textPattern" placeholder="例如：\\d{6}"></div></div><div><div class="section-title">选项</div><div class="btn-group"><label class="btn"><input type="checkbox" value="global" checked="checked" id="optionGlobal"> 全局搜索</label> <label class="btn"><input type="checkbox" value="ignoreCase" id="optionIgnoreCase"> 忽略大小写</label></div></div></div><div class="btn-group"><input type="button" onclick="return onMatch()" value="验证匹配内容" class="btn primary"> <input type="button" onclick="Empty()" value="清空输入框" class="btn danger"> <button class="btn" onclick="copyText3()">一键复制</button></div><div class="section-title">匹配结果</div><div id="textResult" class="note"></div><textarea id="textMatchResult" rows="6" placeholder="得到验证后内容" readonly="readonly"></textarea><div class="divider"></div><div class="section-title">替换文本</div><div class="grid"><div><span class="tag" id="replaceSpan1">替换文本</span> <input id="textReplace" name="textReplace" placeholder="请输入替换内容"><div class="btn-group inline"><button class="btn" value="{\\{page}}" onclick="pp(this.value)">page</button> <button class="btn" value="$" onclick="pp(this.value)">$</button> <button class="btn" value="'" onclick="pp(this.value)">'</button> <button class="btn" value="/" onclick="pp(this.value)">/</button> <button class="btn" value="_" onclick="pp(this.value)">_</button> <button class="btn" value="-" onclick="pp(this.value)">-</button></div></div><div><div class="section-title">操作</div><div class="btn-group"><button onclick="return onReplace()" class="btn primary">替换匹配内容</button> <button class="btn" onclick="copyText2()">一键复制</button></div></div></div><textarea id="textReplaceResult" rows="6" placeholder="此处为替换后内容" readonly="readonly"></textarea></div><div id="success" class="toast">复制成功！</div></section><section class="tab-panel" id="tab-format"><div class="card"><h2>代码格式化</h2><p class="note">格式支持：JSON/HTML/JS/CSS</p><div class="grid"><div><div class="section-title">输入</div><textarea id="formatInput" placeholder="粘贴待格式化内容"></textarea><div class="btn-group"><button class="btn primary" id="formatRunBtn">格式化</button> <button class="btn" id="formatClearBtn">清空</button></div></div><div><div class="section-title">输出</div><textarea id="formatOutput" readonly="readonly" placeholder="格式化结果"></textarea><div class="btn-group"><button class="btn" id="formatCopyBtn">一键复制</button></div></div></div><div class="grid"><div><div class="section-title">格式类型</div><select id="formatMode"><option value="auto">自动识别</option><option value="json">JSON</option><option value="html">HTML</option><option value="js">JS</option><option value="css">CSS</option></select></div><div><div class="section-title">缩进</div><select id="formatIndent"><option value="2">2 空格</option><option value="4">4 空格</option></select></div></div><div id="formatStatus" class="status"></div></div></section></div><script>function $(t){return document.querySelector(t)}function $$(t){return document.querySelectorAll(t)}function showToast(t){var e=document.getElementById("success");e.textContent=t||"复制成功！",e.style.display="block",setTimeout(function(){e.style.display="none"},500)}function LocalCopy(t,e){var n=!1;if(e&&e.focus&&e.select){try{e.focus(),e.select(),e.setSelectionRange&&e.setSelectionRange(0,t.length),n=document.execCommand("copy")}catch(t){n=!1}if(e.blur&&e.blur(),n)return!0}var a=document.createElement("textarea");a.value=t,a.setAttribute("readonly","readonly"),a.style.position="fixed",a.style.top="-9999px",a.style.opacity="0",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange&&a.setSelectionRange(0,a.value.length);try{n=document.execCommand("copy")}catch(t){n=!1}return document.body.removeChild(a),n}function copyById(t){var e=document.getElementById(t);if(e){var n=null!=e.value?e.value:e.textContent||"";n?LocalCopy(n,e)?showToast():navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(n).then(function(){showToast()},function(){setDiscoverStatus("复制失败，请手动复制。",!0)}):setDiscoverStatus("复制失败，请手动复制。",!0):setDiscoverStatus("没有可复制的内容。",!0)}}var copyText=function(){copyById("input")},copyText2=function(){copyById("textReplaceResult")},copyText3=function(){copyById("textMatchResult")};function pp(t){var e=t.replace(/\\/,"");$("#textReplace").value+=e,$("#textReplace").focus()}function setDiscoverStatus(t,e){t&&showToast(t)}function dis(){var t=document.getElementById("discoverRunBtn");t&&(t.disabled=!0);var e=document.getElementById("discoverMode");e&&(e.disabled=!0)}function di(){var t=document.getElementById("discoverRunBtn");t&&(t.disabled=!1);var e=document.getElementById("discoverMode");e&&(e.disabled=!1),setDiscoverStatus("")}function parseToDOM(t){var e=document.createElement("div");return"string"==typeof t&&(e.innerHTML=t),e.querySelectorAll("a")}function cleanText(t){return String(t||"").replace(/\s+/g," ").trim()}function getLinkTitle(t){if(!t)return"";var e=t.querySelector("h1, h2, h3, h4, h5, h6"),n=cleanText(e?e.textContent:t.textContent);return n||cleanText(t.getAttribute("title"))}function okpage(){if(pageclass=$("#pageclass").value.replace(/(\+|\?)/g,"\\$1"),pageclass=pageclass.replace(/分类$/g,"(.*)").replace(/分类(?!$)/g,"(.*?)"),reg=new RegExp(pageclass),pageclass2=$("#pageclass2").value,html=$("#input").value,pageclass2=pageclass2.replace(/页码/g,"{{page}}"),pageclass3=$("#pageclass3").value.replace(/(\+|\?)/g,"\\$1").replace(/页码/,"{{page}}"),h="",html.match(/::/)&&""!=pageclass&&""!=pageclass2&&!/{\{page}}/.test(html)){for(i in list=html.split(/\n|&&/),list)list[i].match(/::/)&&(text=list[i].match(/(.*?)::/)[1],href=list[i].match(/::(.*)/)[1],href.match(reg)&&(href=pageclass2.replace(/分类/g,href.match(reg)[1])),h+=text+"::"+href+"\n");$("#input").value=h}html=$("#input").value,""==pageclass3||/<,.*?>/.test(html)||(reg=new RegExp("("+pageclass3+")","g"),$("#input").value=html.replace(reg,"<,$1>"))}function getInput(){var t=parseToDOM($("#input").value);if(0==t.length)return setDiscoverStatus("未检测到 <a> 标签，无法生成旧发现。建议：输入包含 href 的 HTML。",!0),!1;var e="";for(let n=0;n<t.length;n++){e+=getLinkTitle(t[n])+"::"+t[n].getAttribute("href")+"\n"}var n=e.match(/.*?::(.*?)\n/);return n&&n[1]&&($("#pageclass").value=n[1]),$("#input").value=e,setDiscoverStatus("已从 HTML 生成旧发现格式。",!1),!0}function getInput2(){var t=parseToDOM($("#input").value);if(0==t.length)return setDiscoverStatus("未检测到 <a> 标签，无法生成新发现。建议：输入包含 href 的 HTML。",!0),!1;var e=[];for(let n=0;n<t.length;n++){let a=getLinkTitle(t[n]),l=t[n].getAttribute("href");e.push({title:a,url:l,style:{layout_flexGrow:1}})}return $("#input").value=JSON.stringify(e),setDiscoverStatus("已从 HTML 生成新发现 JSON。",!1),!0}function getInput3(){var text=$("#input").value.trim();if(!text)return setDiscoverStatus("请输入内容后再转换。",!0),!1;if(text.match(/\&\&|::/g)){text=text.replace(/\&\&/g,"\n");for(var list=text.match(/.*::.*/g)||[],html=[],i=0;i<list.length;i++){var l=list[i].match(/(.*)::(.*)/);if(l){var title=l[1],url=l[2];html.push({title:title,url:url})}}return html.length?($("#input").value=JSON.stringify(html),setDiscoverStatus("已从旧发现转换为新发现 JSON。",!1),!0):(setDiscoverStatus("未识别到“文本::链接”格式。建议：确认旧发现每行都有 ::。",!0),!1)}var json=null;try{json=JSON.parse(text)}catch(e){try{json=eval(text)}catch(t){return setDiscoverStatus("解析 JSON 失败。建议：确认输入为数组 JSON，包含 title/url。",!0),!1}}if(!Array.isArray(json))return setDiscoverStatus('仅支持数组格式的 JSON。建议：用 [ {"title":"","url":""} ]。',!0),!1;for(var out="",j=0;j<json.length;j++)json[j]&&(out+=(json[j].title||"")+"::"+(json[j].url||"")+"\n");return out.trim()?($("#input").value=out,setDiscoverStatus("已从新发现转换为旧发现。",!1),!0):(setDiscoverStatus("JSON 中未找到 title/url。建议：检查字段名。",!0),!1)}function hasHtmlLinks(t){return/<a\b[^>]*href\s*=/i.test(t)}function looksLikeJsonList(t){var e=t.trim();return!!e&&(("["===e[0]||"{"===e[0])&&(/['"]title['"]\s*:/.test(e)&&/['"]url['"]\s*:/.test(e)))}function autoDiscoverFormat(){var t=$("#input").value.trim();return t?hasHtmlLinks(t)?$("#pageclass").value||$("#pageclass2").value?getInput():getInput2():t.match(/\&\&|::/g)||looksLikeJsonList(t)?getInput3():(setDiscoverStatus("无法识别输入类型。建议：粘贴包含 <a href=...> 的 HTML，或旧发现“文本::链接”，或新发现 JSON 数组。",!0),!1):(setDiscoverStatus("请输入内容后再转换。",!0),!1)}function runDiscoverFormat(){var t=$("#discoverMode").value;setDiscoverStatus("");("html-old"===t?getInput():"html-new"===t?getInput2():"toggle"===t?getInput3():autoDiscoverFormat())&&dis()}function getInput4(t,e){if(text=$("#input").value,1==t)for(i in json=JSON.parse(text),json)json[i].style={},json[i].style.layout_flexGrow=1;else if(2==t)for(i in data={1:1,2:.4,3:.25,4:.2},json=JSON.parse(text),json)json[i].style||(json[i].style={}),json[i].style.layout_flexBasisPercent=data[e];$("#input").value=JSON.stringify(json)}function clearLayout(){$("#input").value="",setDiscoverStatus("已清空文本。",!1)}function isValidFields(){var t=document.getElementById("textSour");if(null==t.value||t.value.length<1)return t.focus(),!1;var e=document.getElementById("textPattern");return!(null==e.value||e.value.length<1)||(e.focus(),!1)}function buildRegex(){var t="";return document.getElementById("optionGlobal").checked&&(t="g"),document.getElementById("optionIgnoreCase").checked&&(t+="i"),new RegExp(document.getElementById("textPattern").value,t)}function onMatch(){if(!isValidFields())return!1;document.getElementById("textMatchResult").value="";var t=buildRegex(),e=document.getElementById("textSour").value.match(t);if(null==e||0==e.length)return document.getElementById("textMatchResult").value="（没有匹配）",!1;if(document.getElementById("optionGlobal").checked){var n="",a="共找到 "+e.length+" 处匹配：\r\n";document.getElementById("textResult").innerText=a;for(var l=0;l<e.length;++l)n+=e[l]+"\r\n";document.getElementById("textMatchResult").value=n}else document.getElementById("textMatchResult").value="匹配位置："+t.lastIndex+"\r\n匹配结果："+e[0];return!0}function onReplace(){var t=document.getElementById("textSour").value,e=buildRegex();document.getElementById("textReplaceResult").value=t.replace(e,document.getElementById("textReplace").value)}function Empty(){$("#textSour").value="",$("#textMatchResult").value="",$("#textReplace").value="",$("#textReplaceResult").value="",$("#textSour").select()}function transitionJsonToString(t,e){var n=null;if("[object String]"!==Object.prototype.toString.call(t))try{n=JSON.stringify(t)}catch(t){alert("您传递的json数据格式有误，请核对..."),alert(t),e(t)}else try{t=t.replace(/(\')/g,'"'),n=JSON.stringify(JSON.parse(t))}catch(t){alert("您传递的json数据格式有误，请核对..."),alert(t),e(t)}return n}function formatJson(t){var e=$("#input").value,n="",a=0,l=transitionJsonToString(e,t);if(!l)return l;var r=[],u=null,s=null,c=[];l=(l=(l=(l=(l=l.replace(/([\{\}])/g,"\r\n$1\r\n")).replace(/([\[\]])/g,"\r\n$1\r\n")).replace(/(\,)/g,"$1\r\n")).replace(/(\r\n\r\n)/g,"\r\n")).replace(/\r\n\,/g,","),(c=l.split("\r\n")).forEach(function(t,e){var n=t.match(/\"/g)?t.match(/\"/g).length:0;n%2&&!u&&(u=e),n%2&&u&&u!=e&&(s=e),u&&s&&(r.push({start:u,end:s}),u=null,s=null)}),r.reverse().forEach(function(t,e){var n=c.slice(t.start,t.end+1);c.splice(t.start,t.end+1-t.start,n.join(""))}),l=(l=(l=c.join("\r\n")).replace(/\:\r\n\{/g,":{")).replace(/\:\r\n\[/g,":["),(c=l.split("\r\n")).forEach(function(t,e){var l=0,r=0,u="";for(t.match(/\{$/)||t.match(/\[$/)?r+=1:t.match(/\}$/)||t.match(/\]$/)||t.match(/\},$/)||t.match(/\],$/)?0!==a&&(a-=1):r=0,l=0;l<a;l++)u+="  ";n+=u+t+"\r\n",a+=r}),$("#input").value=n.trim()}!function(){var t=document.querySelectorAll(".tab-btn");t.forEach(function(e){e.addEventListener("click",function(){t.forEach(function(t){t.classList.remove("active")}),e.classList.add("active");var n=e.getAttribute("data-tab");document.querySelectorAll(".tab-panel").forEach(function(t){t.classList.remove("active")}),document.getElementById("tab-"+n).classList.add("active")})})}()</script><script>!function(){function e(e){return"'"+String(e).replace(/'/g,"'\"'\"'")+"'"}function t(e){var t=function(e){e=function(e){return e?e.replace(/\\\r?\n\s*/g," ").trim():""}(e);for(var t=[],n="",r=null,a=!1,u=!1,l=0;l<e.length;l++){var i=e[l];if(u)n+=i,u=!1;else if(r){if("\\"===i&&('"'===r||a)){var o=e[l+1]||"";if(l++,a)if("n"===o)n+="\n";else if("r"===o)n+="\r";else if("t"===o)n+="\t";else if("x"===o){var s=e.substr(l+1,2);/^[0-9a-fA-F]{2}$/.test(s)?(n+=String.fromCharCode(parseInt(s,16)),l+=2):n+=o}else if("u"===o){var c=e.substr(l+1,4);/^[0-9a-fA-F]{4}$/.test(c)?(n+=String.fromCharCode(parseInt(c,16)),l+=4):n+=o}else n+=o;else n+=o;continue}i===r?(r=null,a=!1):n+=i}else{if("$"===i){var d=e[l+1];if("'"===d||'"'===d){r=d,a=!0,l++;continue}}'"'!==i&&"'"!==i?/\s/.test(i)?n&&(t.push(n),n=""):"\\"!==i?n+=i:u=!0:(r=i,a=!1)}}return n&&t.push(n),t}(e),n="",r={},a=[],u="",l="";function i(e){return e+1<t.length?t[e+1]:""}for(var o=0;o<t.length;o++){var s=t[o];if("curl"!==s)if("-X"!==s&&"--request"!==s)if("-H"!==s&&"--header"!==s)if(0===s.indexOf("-H")&&s.length>2){var c=s.slice(2),d=c.indexOf(":");d>0&&(r[c.slice(0,d).trim()]=c.slice(d+1).trim())}else"-d"!==s&&"--data"!==s&&"--data-raw"!==s&&"--data-binary"!==s&&"--data-urlencode"!==s?0!==s.indexOf("--data=")&&0!==s.indexOf("--data-raw=")?"--proxy"!==s?0!==s.indexOf("--proxy=")?0!==s.indexOf("http://")&&0!==s.indexOf("https://")&&("-"===s[0]||u)||(u=s):l=s.split("=",2)[1]||"":(l=i(o),o++):(a.push(s.split("=",2)[1]||""),n||(n="POST")):(a.push(i(o)),n||(n="POST"),o++);else{var y=i(o);o++;var f=y.indexOf(":");f>0&&(r[y.slice(0,f).trim()]=y.slice(f+1).trim())}else n=i(o).toUpperCase(),o++}return{url:u,method:n,headers:r,body:a.join("&"),proxy:l}}function n(e,t,n){var r=document.getElementById(e);r&&(r.textContent=t||"",r.className=n?"status error":"status")}function r(e,t,r){e&&(window.LocalCopy&&LocalCopy(e,r)?n(t,"已复制。",!1):navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(function(){n(t,"已复制。",!1)},function(){n(t,"复制失败。",!0)}):n(t,"复制失败。",!0))}document.getElementById("toCurlBtnMain").addEventListener("click",function(){n("statusAnalyzeToCurl","");try{var t=function(e){var t=e.trim();if(!t)return{url:"",opts:{}};var n=function(e){var t=e.match(/,(?=\s*\{)/);return t?t.index:-1}(t);if(-1===n)return{url:t,opts:{}};var r=t.slice(0,n).trim(),a=t.slice(n+1).trim();return{url:r,opts:JSON.parse(a)||{}}}(document.getElementById("analyzeInputMain").value),r=function(t,n){if(!t)return"";var r=["curl",e(t)],a=((n=n||{}).method||"").toString().toUpperCase(),u=n.headers||{},l=n.body,i=n.proxy||u.proxy||u.Proxy;return a&&"GET"!==a?r.push("-X",a):a||null==l||r.push("-X","POST"),Object.keys(u).forEach(function(t){"proxy"!==t.toLowerCase()&&r.push("-H",e(t+": "+u[t]))}),i&&r.push("--proxy",e(i)),null!=l&&""!==l&&r.push("--data",e(String(l))),r.join(" ")}(t.url,t.opts);document.getElementById("curlOutputMain").value=r}catch(e){n("statusAnalyzeToCurl","AnalyzeUrl 解析错误: "+e.message,!0)}}),document.getElementById("toAnalyzeBtnMain").addEventListener("click",function(){n("statusCurlToAnalyze","");try{var e=function(e){if(!e.url)return"";var t={},n=e.headers||{},r=Object.keys(n).length>0;e.method&&"GET"!==e.method&&(t.method=e.method),e.body&&(t.body=e.body),e.proxy&&(n=Object.assign({},n,{proxy:e.proxy}),r=!0),r&&(t.headers=n);var a=Object.keys(t).length>0;return e.url+(a?","+JSON.stringify(t):"")}(t(document.getElementById("curlInputMain").value));document.getElementById("analyzeOutputMain").value=e}catch(e){n("statusCurlToAnalyze","curl 解析错误: "+e.message,!0)}}),document.getElementById("copyCurlBtnMain").addEventListener("click",function(){var e=document.getElementById("curlOutputMain");r(e.value,"statusAnalyzeToCurl",e)}),document.getElementById("copyAnalyzeBtnMain").addEventListener("click",function(){var e=document.getElementById("analyzeOutputMain");r(e.value,"statusCurlToAnalyze",e)}),document.getElementById("clearAnalyzeBtnMain").addEventListener("click",function(){document.getElementById("analyzeInputMain").value="",document.getElementById("curlOutputMain").value="",n("statusAnalyzeToCurl","")}),document.getElementById("clearCurlBtnMain").addEventListener("click",function(){document.getElementById("curlInputMain").value="",document.getElementById("analyzeOutputMain").value="",n("statusCurlToAnalyze","")})}()</script><script>!function(){var t=document.getElementById("formatInput"),e=document.getElementById("formatOutput"),n=document.getElementById("formatMode"),a=document.getElementById("formatIndent"),r=document.getElementById("formatStatus");function o(t,e){r.textContent=t||"",r.className=e?"status error":"status"}function c(t,e){return JSON.stringify(JSON.parse(t),null,e)}function i(t,e){var n=t.replace(/\r\n/g,"\n").replace(/>\s+</g,">\n<").replace(/\n{2,}/g,"\n").split("\n"),a=[],r=0,o={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};return n.forEach(function(t){var n=t.trim();if(n){var c=/^<\/.+>$/.test(n),i=/^<[^/!][^>]*>$/.test(n),u=n.match(/^<\s*([a-zA-Z0-9-]+)/);if(c&&(r=Math.max(r-1,0)),a.push(e.repeat(r)+n),i&&u){var l=u[1].toLowerCase();o[l]||/\/>$/.test(n)||(r+=1)}}}),a.join("\n")}function u(t,e){var n=t.replace(/\r\n/g,"\n").replace(/;/g,";\n").replace(/{/g,"{\n").replace(/}/g,"\n}\n").replace(/\n{2,}/g,"\n").split("\n"),a=[],r=0;return n.forEach(function(t){var n=t.trim();if(n){"}"!==n[0]&&"]"!==n[0]||(r=Math.max(r-1,0)),a.push(e.repeat(r)+n);var o=(n.match(/{/g)||[]).length,c=(n.match(/}/g)||[]).length;(r+=o-c)<0&&(r=0)}}),a.join("\n")}document.getElementById("formatRunBtn").addEventListener("click",function(){var r,l=t.value||"",m=(r=parseInt(a.value,10),(isNaN(r)||r<1)&&(r=2),new Array(r+1).join(" "));if(!l.trim())return e.value="",void o("请输入内容后再格式化。",!0);try{var d=n.value,f="";f="json"===d?c(l,m):"html"===d?i(l,m):"js"===d||"css"===d?u(l,m):function(t,e){var n=t.trim();if(!n)return"";if("{"===n[0]||"["===n[0])try{return c(n,e)}catch(t){}return-1!==n.indexOf("<")&&-1!==n.indexOf(">")?i(n,e):u(n,e)}(l,m),e.value=f,o("格式化完成。",!1)}catch(t){o("格式化失败: "+t.message,!0)}}),document.getElementById("formatCopyBtn").addEventListener("click",function(){var t=e.value;t&&(window.LocalCopy&&LocalCopy(t,e)?o("已复制。",!1):navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(function(){o("已复制。",!1)},function(){o("复制失败。",!0)}):o("复制失败。",!0))}),document.getElementById("formatClearBtn").addEventListener("click",function(){t.value="",e.value="",o("")})}()</script><script src="https://giscus.app/client.js" data-repo="skybbk1001/skybook" data-repo-id="R_kgDOMXpUGg" data-category="Announcements" data-category-id="DIC_kwDOMXpUGs4Cn41F" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="zh-CN" crossorigin="anonymous" async="async"></script></body></html></div></div><footer class="footer-nav"><div class="footer"><div class="back-top" id="back-top" title="Back to top"><i class="icon icon-chevron-bar-up"></i></div><div class="footer-content"><div class="footer-links"><div class="footer-links-column"><p><a title="源仓库" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.yckceo.com/">源仓库</a></p><p><a title="Pixiv 书源" target="_blank" rel="noopener external nofollow noreferrer" href="https://pixivsource.pages.dev/">Pixiv 书源</a></p><p><a title="洛娅橙发布页" target="_blank" rel="noopener external nofollow noreferrer" href="https://洛娅橙.duckdns.org/">洛娅橙发布页</a></p></div><div class="footer-links-column"><p><a title="喵公子订阅" target="_blank" rel="noopener external nofollow noreferrer" href="https://yuedu.miaogongzi.net/">喵公子订阅</a></p><p><a title="遇知发布页" target="_blank" rel="noopener external nofollow noreferrer" href="https://yuzhi.ip-ddns.com/">遇知发布页</a></p><p><a title="小寒发布页" target="_blank" rel="noopener external nofollow noreferrer" href="https://qyyuapi.com/">小寒发布页</a></p></div><div class="footer-links-column"><p><a title="天天的小站" target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.ttxz.eu.org/">天天的小站</a></p><p><a title="活力宝小窝" target="_blank" rel="noopener external nofollow noreferrer" href="https://hlb.leleosd.top/">活力宝小窝</a></p><p><a title="荼丛の小破站" target="_blank" rel="noopener external nofollow noreferrer" href="https://tucong.vip/">荼丛の小破站</a></p></div><div class="footer-links-column"><p><a title="浅殇番茄" target="_blank" rel="noopener external nofollow noreferrer" href="https://fqphp.gxom.cn/">浅殇番茄</a></p><p><a title="寻道云海" target="_blank" rel="noopener external nofollow noreferrer" href="https://ys.66ds.de/">寻道云海</a></p></div></div><div><span id="site_pv">?</span> PV <span id="site_uv">?</span> UV</div>Copyright &copy; 2018<span class="time-divide">-</span>2026 明月照大江. Power by <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a> and <a href="https://github.com/Cerallin/hexo-theme-yuzu" target="_blank" rel="external nofollow" title="v3.2.7">Theme Yuzu</a>.</div></div></footer><script>window.config={url_root:"/",meta_path:"meta.json"}</script><script src="/js/bootstrap.js"></script><script defer="defer" src="/js/clipboard/clipboard.min.js"></script><script>Theme.counter={register:function(){request("https://skybook.pages.dev/api/visit/?page="+encodeURIComponent(window.location.pathname),{method:"GET"}).then(e=>{for(const t in e){const n=document.getElementById(t);n&&(n.innerText=e[t])}}).catch(e=>{console.error("Fetching visit count failed.",e)})}}</script><script src="/js/theme/back-to-top.js"></script><script src="/js/theme/clipboard.js"></script><script src="/js/theme/navbar.js"></script><script src="/js/theme/search.js"></script><script src="/js/theme/toc.js"></script><script>window.onload=function(){for(const e in Theme){Theme[e].register()}}</script></div><div class="search-modal" id="search-modal"><div class="card"><div class="card-head"><div class="search-box"><input class="search-input" id="search-input" placeholder="搜索"><div class="search-button" id="search-button"><div class="icon icon-search"></div></div></div><div class="close-button"><div class="icon icon-x"></div></div></div><div class="card-body"><div class="search-count">共<span id="search-count-num">0</span>条搜索结果。</div><div class="search-result" id="search-result"></div></div></div></div></body></html>