<html lang="zh"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="ä¸“æ³¨äºåˆ†äº«è‡ªåˆ¶ä¹¦æºä¸é˜…è¯»èµ„æºçš„ç½‘ç«™ï¼Œæ¶µç›–å°è¯´ã€æ–‡å­¦ã€ç§‘æŠ€ç­‰å¤šç§ç±»å‹ï¼Œå¹¶ä¿æŒæŒç»­æ›´æ–°ï¼›é™¤ä¹¦æºå¤–ï¼Œè¿˜æä¾›è®¢é˜…æºã€å¬ä¹¦å¼•æ“ç­‰é…å¥—å†…å®¹ï¼Œæ–¹ä¾¿ç”¨æˆ·ä¸€ç«™å¼è·å–æœ€æ–°æœ€å…¨çš„å¼€æºé˜…è¯»èµ„æº"/><title>å†™æºå°å·¥å…· - æ˜æœˆä¹¦é˜ - æ˜æœˆç…§å¤§æ±Ÿå‘å¸ƒé¡µ</title><link rel="icon" href="/img/favicon.ico"/>
<link rel="stylesheet" href="/css/style.css">

<link rel="stylesheet" href="/css/helpers.css">

<script src="/js/clipboard/clipboard.min.js"></script>


<script src="/js/bootstrap.js"></script>

<script>Theme.counter = {
  register: function() {
    request("https://skybook.pages.dev/api/visit" + '/?page=' + encodeURIComponent(window.location.pathname), {
      method: "GET"
    })
      .then(counter => {
        for (const key in counter) {
          const dom = document.getElementById(key);
          if (dom) {
            dom.innerText = counter[key];
          }
        }
      })
      .catch(err => {
        console.error("Fetching visit count failed.", err);
      });
  }
};
</script></head><body><div class="loading-wrapper" data-loading="data-loading"><div class="loading"><span></span><span></span><span></span></div></div><div class="page" data-filter="data-filter"><div class="head" data-show="data-show"><header class="head-header"><div class="head-author"><a class="head-author-link" href="/">æ˜æœˆä¹¦é˜</a></div><div class="head-right"><button class="bar-wrap" id="bar-wrap-toggle" title="èœå•æŒ‰é’®"><span class="bar"></span><span class="bar"></span><span class="bar"></span></button><div class="head-item"><a class="search-button head-item-link"><span>æœç´¢</span>
<i class="icon icon-search"></i></a></div><div class="head-item"><a class="head-item-link" href="/activities/">åŠ¨æ€</a><a class="head-item-link" href="/rank/">æ’è¡Œ</a><a class="head-item-link" href="/download/">ä¸‹è½½</a><a class="head-item-link" href="/about/">å…³äº</a></div></div></header>
<div class="menubar-head" id="menubar"><ul class="menubar-ul"><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E5%85%AC%E5%91%8A/">å…¬å‘Š</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E4%B9%A6%E6%BA%90/">ä¹¦æº</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E8%AE%A2%E9%98%85%E6%BA%90/">è®¢é˜…æº</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E4%B9%A6%E6%BA%90%E5%90%88%E9%9B%86/">ä¹¦æºåˆé›†</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E6%9C%97%E8%AF%BB%E5%BC%95%E6%93%8E/">æœ—è¯»å¼•æ“</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90/">å¥½ä¹¦æ¨è</a></li><li class="menubar-item"><i class="icon icon-chevron-right"></i>
<a class="menubar-link" href="/categories/%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/">å…¶ä»–èµ„æº</a></li><li class="menubar-item"><i class="icon icon-tags"></i>
<a class="menubar-link" href="/tags">Tags</a></li><li class="menubar-item" data-border="data-border"></li><li class="menubar-item"><a class="menubar-link" href="/activities/"><span>åŠ¨æ€</span></a></li><li class="menubar-item"><a class="menubar-link" href="/rank/"><span>æ’è¡Œ</span></a></li><li class="menubar-item"><a class="menubar-link" href="/download/"><span>ä¸‹è½½</span></a></li><li class="menubar-item"><a class="menubar-link" href="/about/"><span>å…³äº</span></a></li></ul><div class="menu-search-box search-button"><div>æœç´¢</div>
<i class="icon icon-search"></i></div></div></div><div class="main"><article class="post" id="post"><header class="post-head"><h1 class="post-title"><a class="title" href="/tools/index.html">å†™æºå°å·¥å…·</a></h1></header><div class="post-meta"><div class="post-date"><time class="post-time" itemprop="datePublished" title="2026-01-21 00:00:00" datetime="2026-01-20T16:00:00.000Z">2026-01-21</time></div>|
<div class="post-tag"></div>
<div class="post-visit"><span id="page_pv">?</span>è®¿é—®</div></div><!-- ğŸ‘‰ æ·»åŠ ä½œè€…ä¿¡æ¯--><div class="post-info"><div class="post-word-count">æœ¬æ–‡å…±3,895å­—ã€‚é˜…è¯»å®Œéœ€è¦çº¦22åˆ†é’Ÿã€‚</div>
<div class="post-cc">ç‰ˆæƒå£°æ˜ï¼šæœ¬ç«™æ‰€æœ‰èµ„æºå‡æ¥è‡ªç½‘ç»œï¼Œä»…ä¾›ä¹¦å‹å…è´¹æ£€ç´¢ã€‚æœ¬ç«™æ”¯æŒæ­£ç‰ˆï¼Œå»ºè®®ç”¨æˆ·æ£€ç´¢åæ”¯æŒæ­£ç‰ˆä¹¦ç±åŠä½œè€…ã€‚

|
<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/2.5/cn/">CC BY-NC-SA 2.5 CN</a></div></div><div class="article-entry" itemprop="articleBody">
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å†™æºå°å·¥å…·</title>
    <style>
      :root {
        color-scheme: light;
        --text: #1f2430;
        --muted: #606a79;
        --border: #dde3ee;
        --accent: #0b6e4f;
        --accent-2: #1b3d8a;
        --danger: #b53939;
        --shadow: 0 10px 30px rgba(31, 36, 48, 0.08);
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        min-height: 100vh;
      }
      .page {
        max-width: 1280px;
        margin: 0 auto;
      }
      .header {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 22px;
      }
      .header h1 {
        margin: 0;
        font-size: 26px;
        font-weight: 700;
      }
      .header p {
        margin: 0;
        color: var(--muted);
        font-size: 13px;
      }
      .tabs {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .tab-btn {
        border: 1px solid var(--border);
        color: var(--text);
        border-radius: 999px;
        padding: 8px 16px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .tab-btn.active {
        background: var(--accent-2);
        border-color: var(--accent-2);
        color: #fff;
        box-shadow: 0 6px 16px rgba(27, 61, 138, 0.25);
      }
      .tab-panel {
        display: none;
        animation: fadeIn 0.25s ease;
      }
      .tab-panel.active {
        display: block;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(6px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 16px;
        box-shadow: var(--shadow);
        margin-bottom: 18px;
      }
      .card h2 {
        margin: 0 0 12px;
        font-size: 18px;
      }
      .helper-links {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-bottom: 12px;
      }
      .helper-links a {
        color: var(--accent-2);
        text-decoration: none;
        font-size: 13px;
      }
      textarea,
      input[type="text"],
      input[type="button"],
      button,
      select {
        font-family: Consolas, "Courier New", monospace;
      }
      textarea,
      input[type="text"],
      select {
        width: 100%;
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid var(--border);
        background: #fdfdfd;
        color: var(--text);
        font-size: 12px;
      }
      textarea {
        min-height: 160px;
        resize: vertical;
      }
      .btn,
      button,
      input[type="button"] {
        border: 1px solid var(--border);
        background: #ffffff;
        color: var(--text);
        border-radius: 10px;
        padding: 8px 12px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.15s ease;
      }
      .btn:hover,
      button:hover,
      input[type="button"]:hover {
        border-color: var(--accent-2);
        color: var(--accent-2);
      }
      .btn.primary {
        background: var(--accent);
        border-color: var(--accent);
        color: #fff;
      }
      .btn.primary:hover {
        background: #0a5c43;
        border-color: #0a5c43;
      }
      .btn.danger {
        background: var(--danger);
        border-color: var(--danger);
        color: #fff;
      }
      .btn.secondary {
        background: #f1f4fb;
      }
      .btn-group {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
      }
      .btn-group select {
        width: auto;
        min-width: 180px;
      }
      .btn-group.inline {
        flex-wrap: wrap;
      }
      .grid {
        display: grid;
        gap: 14px;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        margin-top: 12px;
      }
      .note {
        font-size: 12px;
        color: var(--muted);
        margin-top: 8px;
      }
      .toast {
        position: fixed;
        top: 16px;
        left: 50%;
        transform: translateX(-50%);
        background: #ffffff;
        border: 1px solid var(--border);
        padding: 6px 12px;
        border-radius: 8px;
        box-shadow: var(--shadow);
        display: none;
        font-size: 12px;
      }
      .section-title {
        font-size: 18px;
        font-weight: 600;
        margin: 12px 0 6px;
      }
      .status {
        font-size: 12px;
        color: var(--accent);
        margin-top: 8px;
      }
      .status.error {
        color: var(--danger);
      }
      .tag {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 999px;
        background: #eef3ff;
        color: var(--accent-2);
        font-size: 11px;
      }
      .divider {
        height: 1px;
        background: var(--border);
        margin: 14px 0;
      }
      @media (max-width: 720px) {
        .header h1 {
          font-size: 22px;
        }
        .tabs {
          flex-direction: column;
          align-items: stretch;
        }
        .tab-btn {
          width: 100%;
          text-align: center;
        }
        .grid {
          grid-template-columns: 1fr;
        }
        .btn-group {
          flex-direction: column;
          align-items: stretch;
        }
        .btn-group select {
          width: 100%;
          min-width: 0;
        }
        .btn-group.inline {
          flex-direction: row;
          align-items: center;
        }
        .btn,
        button,
        input[type="button"] {
          width: 100%;
        }
        .btn-group.inline .btn,
        .btn-group.inline button,
        .btn-group.inline input[type="button"] {
          width: auto;
        }
        .helper-links {
          flex-direction: row;
          align-items: center;
        }
        textarea {
          min-height: 140px;
        }
        .toast {
          width: 80%;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <header class="header">
        <h1>å†™æºå°å·¥å…·</h1>
        <p>ä¸€äº›å®ç”¨çš„å†™æºå°å·¥å…·ï¼Œpowered by æ˜æœˆç…§å¤§æ±Ÿ</p>
        <div class="tabs">
          <button class="tab-btn active" data-tab="curl-to-analyze">curl â†’ AnalyzeUrl</button>
          <button class="tab-btn" data-tab="analyze-to-curl">AnalyzeUrl â†’ curl</button>
          <button class="tab-btn" data-tab="discover">å‘ç°è§„åˆ™è½¬æ¢</button>
          <button class="tab-btn" data-tab="format">ä»£ç æ ¼å¼åŒ–</button>
        </div>
      </header>

      <section class="tab-panel active" id="tab-curl-to-analyze">
        <div class="card">
          <h2>curl â†’ AnalyzeUrl</h2>
          <p class="note">æ”¯æŒ method/headers/body/proxy çš„äº’è½¬ã€‚webView/webJs/js/retry/type/data URL ä¸åšæ˜ å°„ã€‚</p>
          <div class="grid">
            <div>
              <div class="section-title">curl è¾“å…¥</div>
              <textarea id="curlInputMain" placeholder="curl https://example.com -H 'UA: x'"></textarea>
              <div class="btn-group">
                <button class="btn primary" id="toAnalyzeBtnMain">è½¬æ¢ä¸º AnalyzeUrl</button>
                <button class="btn" id="clearCurlBtnMain">æ¸…ç©º</button>
              </div>
            </div>
            <div>
              <div class="section-title">AnalyzeUrl è¾“å‡º</div>
              <textarea id="analyzeOutputMain" readonly placeholder="AnalyzeUrl è¾“å‡º"></textarea>
              <div class="btn-group">
                <button class="btn" id="copyAnalyzeBtnMain">ä¸€é”®å¤åˆ¶ AnalyzeUrl</button>
              </div>
            </div>
          </div>
          <div id="statusCurlToAnalyze" class="status"></div>
        </div>
      </section>

      <section class="tab-panel" id="tab-analyze-to-curl">
        <div class="card">
          <h2>AnalyzeUrl â†’ curl</h2>
          <p class="note">æ”¯æŒ method/headers/body/proxy çš„äº’è½¬ã€‚webView/webJs/js/retry/type/data URL ä¸åšæ˜ å°„ã€‚</p>
          <div class="grid">
            <div>
              <div class="section-title">AnalyzeUrl è¾“å…¥</div>
              <textarea id="analyzeInputMain" placeholder="https://example.com/api,{...}"></textarea>
              <div class="btn-group">
                <button class="btn primary" id="toCurlBtnMain">è½¬æ¢ä¸º curl</button>
                <button class="btn" id="clearAnalyzeBtnMain">æ¸…ç©º</button>
              </div>
            </div>
            <div>
              <div class="section-title">curl è¾“å‡º</div>
              <textarea id="curlOutputMain" readonly placeholder="curl è¾“å‡º"></textarea>
              <div class="btn-group">
                <button class="btn" id="copyCurlBtnMain">ä¸€é”®å¤åˆ¶ curl</button>
              </div>
            </div>
          </div>
          <div id="statusAnalyzeToCurl" class="status"></div>
        </div>
      </section>

      <section class="tab-panel" id="tab-discover">
        <div class="card">
          <h2>å‘ç°è§„åˆ™è½¬æ¢</h2>
          <div class="helper-links">
            <a href="https://www.sojson.com/rehtml" target="_blank" rel="noopener">htmlè½¬ä¹‰</a>
            <a href="http://www.jsons.cn/urlencode/" target="_blank" rel="noopener">URLè§£ç </a>
          </div>
          <textarea rows="16" id="input" onfocus="di()" placeholder="è¾“å…¥å¸¦htmlæ ‡ç­¾çš„å‘ç°å†…å®¹"></textarea>
          <div class="btn-group">
            <button id="discoverRunBtn" class="btn primary" onclick="runDiscoverFormat()">æ‰§è¡Œè½¬æ¢</button>
            <select id="discoverMode">
              <option value="auto">è‡ªåŠ¨è¯†åˆ«</option>
              <option value="html-old">HTML â†’ æ—§å‘ç°</option>
              <option value="html-new">HTML â†’ æ–°å‘ç°</option>
              <option value="toggle">æ—§/æ–° äº’è½¬</option>
            </select>
          </div>
          <div class="btn-group inline">
            <span class="note">æ¯è¡Œæ•°é‡ï¼š</span>
            <button class="btn" onclick="getInput4(2,1)">1</button>
            <button class="btn" onclick="getInput4(2,2)">2</button>
            <button class="btn" onclick="getInput4(2,3)">3</button>
            <button class="btn" onclick="getInput4(2,4)">4</button>
            <button class="btn secondary" onclick="clearLayout()">æ¸…é™¤</button>
          </div>
          <div class="btn-group">
            <button class="btn primary" onclick="copyText()" id="bt2">ä¸€é”®å¤åˆ¶</button>
            <button class="btn" onclick="formatJson()" id="bt3">æ ¼å¼åŒ–Json</button>
          </div>
          <div class="grid">
            <div>
              <div class="section-title">åˆ†ç±»é“¾æ¥æ¨¡æ¿</div>
              <div class="note">è¾“å…¥åˆ†ç±»é‡Œçš„é“¾æ¥ï¼Œå¦‚ï¼š/sort/xuanhuan/ å†™æˆ /sort/åˆ†ç±»/</div>
              <input id="pageclass" />
            </div>
            <div>
              <div class="section-title">ç¿»é¡µé“¾æ¥æ¨¡æ¿</div>
              <div class="note">å¦‚ï¼š/sort/xuanhuan/2.html å†™æˆ /sort/åˆ†ç±»/é¡µç .html</div>
              <input id="pageclass2" />
            </div>
            <div>
              <div class="section-title">ç¿»é¡µå·®å¼‚éƒ¨åˆ†</div>
              <div class="note">ç¬¬ä¸€é¡µè·Ÿç¬¬äºŒé¡µä¸ä¸€æ ·ï¼Ÿè¾“å…¥ç¬¬äºŒé¡µå¤šå‡ºçš„éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼šindex_é¡µç .html</div>
              <input id="pageclass3" />
            </div>
          </div>
          <div class="btn-group">
            <button class="btn" onclick="okpage()">ç¡®è®¤åŠ å…¥ç¿»é¡µï¼ˆä»…æ—§å‘ç°ï¼‰</button>
          </div>
        </div>

        <div class="card">
          <h2>æ­£åˆ™åŒ¹é…ä¸æ›¿æ¢</h2>
          <div class="section-title">å¾…éªŒè¯æ–‡æœ¬</div>
          <textarea id="textSour" name="textSour" rows="8" placeholder="è¯·è¾“å…¥è¦éªŒè¯çš„æ–‡æœ¬"></textarea>
          <div class="grid">
            <div>
              <div class="section-title">æ­£åˆ™è¡¨è¾¾å¼</div>
              <div>
                <span class="tag" id="basic-addon1">æ­£åˆ™è¡¨è¾¾å¼</span>
                <input type="text" id="textPattern" name="textPattern" placeholder="ä¾‹å¦‚ï¼š\\d{6}" />
              </div>
            </div>
            <div>
              <div class="section-title">é€‰é¡¹</div>
              <div class="btn-group">
                <label class="btn">
                  <input type="checkbox" value="global" checked="checked" id="optionGlobal" /> å…¨å±€æœç´¢
                </label>
                <label class="btn">
                  <input type="checkbox" value="ignoreCase" id="optionIgnoreCase" /> å¿½ç•¥å¤§å°å†™
                </label>
              </div>
            </div>
          </div>
          <div class="btn-group">
            <input type="button" onclick="return onMatch()" value="éªŒè¯åŒ¹é…å†…å®¹" class="btn primary" />
            <input type="button" onclick="Empty()" value="æ¸…ç©ºè¾“å…¥æ¡†" class="btn danger" />
            <button class="btn" onclick="copyText3()">ä¸€é”®å¤åˆ¶</button>
          </div>
          <div class="section-title">åŒ¹é…ç»“æœ</div>
          <div id="textResult" class="note"></div>
          <textarea id="textMatchResult" rows="6" placeholder="å¾—åˆ°éªŒè¯åå†…å®¹" readonly="readonly"></textarea>

          <div class="divider"></div>
          <div class="section-title">æ›¿æ¢æ–‡æœ¬</div>
          <div class="grid">
            <div>
              <span class="tag" id="replaceSpan1">æ›¿æ¢æ–‡æœ¬</span>
              <input type="text" id="textReplace" name="textReplace" placeholder="è¯·è¾“å…¥æ›¿æ¢å†…å®¹" />
              <div class="btn-group inline">
                <button class="btn" value="{\\{page}}" onclick="pp(this.value)">page</button>
                <button class="btn" value="$" onclick="pp(this.value)">$</button>
                <button class="btn" value="'" onclick="pp(this.value)">'</button>
                <button class="btn" value="/" onclick="pp(this.value)">/</button>
                <button class="btn" value="_" onclick="pp(this.value)">_</button>
                <button class="btn" value="-" onclick="pp(this.value)">-</button>
              </div>
            </div>
            <div>
              <div class="section-title">æ“ä½œ</div>
              <div class="btn-group">
                <button onclick="return onReplace()" class="btn primary">æ›¿æ¢åŒ¹é…å†…å®¹</button>
                <button class="btn" onclick="copyText2()">ä¸€é”®å¤åˆ¶</button>
              </div>
            </div>
          </div>
          <textarea id="textReplaceResult" rows="6" placeholder="æ­¤å¤„ä¸ºæ›¿æ¢åå†…å®¹" readonly="readonly"></textarea>
        </div>

        <div id="success" class="toast">å¤åˆ¶æˆåŠŸï¼</div>
      </section>

      <section class="tab-panel" id="tab-format">
        <div class="card">
          <h2>ä»£ç æ ¼å¼åŒ–</h2>
          <p class="note">æ ¼å¼æ”¯æŒï¼šJSON/HTML/JS/CSS</p>
          <div class="grid">
            <div>
              <div class="section-title">è¾“å…¥</div>
              <textarea id="formatInput" placeholder="ç²˜è´´å¾…æ ¼å¼åŒ–å†…å®¹"></textarea>
              <div class="btn-group">
                <button class="btn primary" id="formatRunBtn">æ ¼å¼åŒ–</button>
                <button class="btn" id="formatClearBtn">æ¸…ç©º</button>
              </div>
            </div>
            <div>
              <div class="section-title">è¾“å‡º</div>
              <textarea id="formatOutput" readonly placeholder="æ ¼å¼åŒ–ç»“æœ"></textarea>
              <div class="btn-group">
                <button class="btn" id="formatCopyBtn">ä¸€é”®å¤åˆ¶</button>
              </div>
            </div>
          </div>
          <div class="grid">
            <div>
              <div class="section-title">æ ¼å¼ç±»å‹</div>
              <select id="formatMode">
                <option value="auto">è‡ªåŠ¨è¯†åˆ«</option>
                <option value="json">JSON</option>
                <option value="html">HTML</option>
                <option value="js">JS</option>
                <option value="css">CSS</option>
              </select>
            </div>
            <div>
              <div class="section-title">ç¼©è¿›</div>
              <select id="formatIndent">
                <option value="2">2 ç©ºæ ¼</option>
                <option value="4">4 ç©ºæ ¼</option>
              </select>
            </div>
          </div>
          <div id="formatStatus" class="status"></div>
        </div>
      </section>
    </div>

    <script>
      function $(selector) {
        return document.querySelector(selector);
      }

      function $$(selector) {
        return document.querySelectorAll(selector);
      }

      function showToast(message) {
        var toast = document.getElementById("success");
        if (message) {
          toast.textContent = message;
        } else {
          toast.textContent = "å¤åˆ¶æˆåŠŸï¼";
        }
        toast.style.display = "block";
        setTimeout(function () {
          toast.style.display = "none";
        }, 500);
      }

      function LocalCopy(text, sourceEl) {
        var ok = false;
        if (sourceEl && sourceEl.focus && sourceEl.select) {
          try {
            sourceEl.focus();
            sourceEl.select();
            if (sourceEl.setSelectionRange) {
              sourceEl.setSelectionRange(0, text.length);
            }
            ok = document.execCommand("copy");
          } catch (e) {
            ok = false;
          }
          if (sourceEl.blur) sourceEl.blur();
          if (ok) return true;
        }
        var ta = document.createElement("textarea");
        ta.value = text;
        ta.setAttribute("readonly", "readonly");
        ta.style.position = "fixed";
        ta.style.top = "-9999px";
        ta.style.opacity = "0";
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        if (ta.setSelectionRange) {
          ta.setSelectionRange(0, ta.value.length);
        }
        try {
          ok = document.execCommand("copy");
        } catch (e) {
          ok = false;
        }
        document.body.removeChild(ta);
        return ok;
      }

      function copyById(id) {
        var el = document.getElementById(id);
        if (!el) return;
        var text = el.value != null ? el.value : el.textContent || "";
        if (!text) {
          setDiscoverStatus("æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹ã€‚", true);
          return;
        }
        if (LocalCopy(text, el)) {
          showToast();
          return;
        }
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(text).then(
            function () {
              showToast();
            },
            function () {
              setDiscoverStatus("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ã€‚", true);
            }
          );
        } else {
          setDiscoverStatus("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ã€‚", true);
        }
      }

      var copyText = function () {
        copyById("input");
      };
      var copyText2 = function () {
        copyById("textReplaceResult");
      };
      var copyText3 = function () {
        copyById("textMatchResult");
      };

      function pp(a) {
        var b = a.replace(/\\/, "");
        $("#textReplace").value += b;
        $("#textReplace").focus();
      }

      function setDiscoverStatus(msg, isError) {
        if (!msg) return;
        showToast(msg);
      }

      function dis() {
        var runBtn = document.getElementById("discoverRunBtn");
        if (runBtn) runBtn.disabled = true;
        var mode = document.getElementById("discoverMode");
        if (mode) mode.disabled = true;
      }

      function di() {
        var runBtn = document.getElementById("discoverRunBtn");
        if (runBtn) runBtn.disabled = false;
        var mode = document.getElementById("discoverMode");
        if (mode) mode.disabled = false;
        setDiscoverStatus("");
      }

      function parseToDOM(str) {
        var div = document.createElement("div");
        if (typeof str == "string") div.innerHTML = str;
        return div.querySelectorAll("a");
      }

      function cleanText(text) {
        return String(text || "")
          .replace(/\s+/g, " ")
          .trim();
      }

      function getLinkTitle(link) {
        if (!link) return "";
        var titleNode = link.querySelector("h1, h2, h3, h4, h5, h6");
        var raw = titleNode ? titleNode.textContent : link.textContent;
        var cleaned = cleanText(raw);
        if (cleaned) return cleaned;
        var attrTitle = link.getAttribute("title");
        return cleanText(attrTitle);
      }

      function okpage() {
        pageclass = $("#pageclass").value.replace(/(\+|\?)/g, "\\$1");
        pageclass = pageclass
          .replace(/åˆ†ç±»$/g, "(.*)")
          .replace(/åˆ†ç±»(?!$)/g, "(.*?)");
        reg = new RegExp(pageclass);
        pageclass2 = $("#pageclass2").value;
        html = $("#input").value;
        pageclass2 = pageclass2.replace(/é¡µç /g, "{\{page}}");
        pageclass3 = $("#pageclass3")
          .value.replace(/(\+|\?)/g, "\\$1")
          .replace(/é¡µç /, "{\{page}}");
        h = "";
        if (html.match(/::/) && pageclass != "" && pageclass2 != "" && !/{\{page}}/.test(html)) {
          list = html.split(/\n|&&/);
          for (i in list) {
            if (list[i].match(/::/)) {
              text = list[i].match(/(.*?)::/)[1];
              href = list[i].match(/::(.*)/)[1];
              if (href.match(reg)) {
                href = pageclass2.replace(/åˆ†ç±»/g, href.match(reg)[1]);
              }
              h += text + "::" + href + "\n";
            }
          }
          $("#input").value = h;
        }
        html = $("#input").value;
        if (pageclass3 != "" && !/<,.*?>/.test(html)) {
          reg = new RegExp("(" + pageclass3 + ")", "g");
          $("#input").value = html.replace(reg, "<,$1>");
        }
      }

      function getInput() {
        var str = $("#input").value;
        var list = parseToDOM(str);
        if (list.length == 0) {
          setDiscoverStatus("æœªæ£€æµ‹åˆ° <a> æ ‡ç­¾ï¼Œæ— æ³•ç”Ÿæˆæ—§å‘ç°ã€‚å»ºè®®ï¼šè¾“å…¥åŒ…å« href çš„ HTMLã€‚", true);
          return false;
        }
        var html = "";
        for (let i = 0; i < list.length; i++) {
          let text = getLinkTitle(list[i]);
          let href = list[i].getAttribute("href");
          html += text + "::" + href + "\n";
        }
        var match = html.match(/.*?::(.*?)\n/);
        if (match && match[1]) {
          $("#pageclass").value = match[1];
        }
        $("#input").value = html;
        setDiscoverStatus("å·²ä» HTML ç”Ÿæˆæ—§å‘ç°æ ¼å¼ã€‚", false);
        return true;
      }

      function getInput2() {
        var str = $("#input").value;
        var list = parseToDOM(str);
        if (list.length == 0) {
          setDiscoverStatus("æœªæ£€æµ‹åˆ° <a> æ ‡ç­¾ï¼Œæ— æ³•ç”Ÿæˆæ–°å‘ç°ã€‚å»ºè®®ï¼šè¾“å…¥åŒ…å« href çš„ HTMLã€‚", true);
          return false;
        }
        var html = [];
        for (let i = 0; i < list.length; i++) {
          let text = getLinkTitle(list[i]);
          let href = list[i].getAttribute("href");
          html.push({
            title: text,
            url: href,
            style: {
              layout_flexGrow: 1,
            },
          });
        }
        $("#input").value = JSON.stringify(html);
        setDiscoverStatus("å·²ä» HTML ç”Ÿæˆæ–°å‘ç° JSONã€‚", false);
        return true;
      }

      function getInput3() {
        var text = $("#input").value.trim();
        if (!text) {
          setDiscoverStatus("è¯·è¾“å…¥å†…å®¹åå†è½¬æ¢ã€‚", true);
          return false;
        }
        if (text.match(/\&\&|::/g)) {
          text = text.replace(/\&\&/g, "\n");
          var list = text.match(/.*::.*/g) || [];
          var html = [];
          for (var i = 0; i < list.length; i++) {
            var l = list[i].match(/(.*)::(.*)/);
            if (!l) continue;
            var title = l[1];
            var url = l[2];
            html.push({
              title: title,
              url: url,
            });
          }
          if (!html.length) {
            setDiscoverStatus("æœªè¯†åˆ«åˆ°â€œæ–‡æœ¬::é“¾æ¥â€æ ¼å¼ã€‚å»ºè®®ï¼šç¡®è®¤æ—§å‘ç°æ¯è¡Œéƒ½æœ‰ ::ã€‚", true);
            return false;
          }
          $("#input").value = JSON.stringify(html);
          setDiscoverStatus("å·²ä»æ—§å‘ç°è½¬æ¢ä¸ºæ–°å‘ç° JSONã€‚", false);
          return true;
        }
        var json = null;
        try {
          json = JSON.parse(text);
        } catch (e) {
          try {
            json = eval(text);
          } catch (err) {
            setDiscoverStatus("è§£æ JSON å¤±è´¥ã€‚å»ºè®®ï¼šç¡®è®¤è¾“å…¥ä¸ºæ•°ç»„ JSONï¼ŒåŒ…å« title/urlã€‚", true);
            return false;
          }
        }
        if (!Array.isArray(json)) {
          setDiscoverStatus("ä»…æ”¯æŒæ•°ç»„æ ¼å¼çš„ JSONã€‚å»ºè®®ï¼šç”¨ [ {\"title\":\"\",\"url\":\"\"} ]ã€‚", true);
          return false;
        }
        var out = "";
        for (var j = 0; j < json.length; j++) {
          if (!json[j]) continue;
          out += (json[j].title || "") + "::" + (json[j].url || "") + "\n";
        }
        if (!out.trim()) {
          setDiscoverStatus("JSON ä¸­æœªæ‰¾åˆ° title/urlã€‚å»ºè®®ï¼šæ£€æŸ¥å­—æ®µåã€‚", true);
          return false;
        }
        $("#input").value = out;
        setDiscoverStatus("å·²ä»æ–°å‘ç°è½¬æ¢ä¸ºæ—§å‘ç°ã€‚", false);
        return true;
      }

      function hasHtmlLinks(text) {
        return /<a\b[^>]*href\s*=/i.test(text);
      }

      function looksLikeJsonList(text) {
        var trimmed = text.trim();
        if (!trimmed) return false;
        if (trimmed[0] !== "[" && trimmed[0] !== "{") return false;
        return /['"]title['"]\s*:/.test(trimmed) && /['"]url['"]\s*:/.test(trimmed);
      }

      function autoDiscoverFormat() {
        var text = $("#input").value;
        var trimmed = text.trim();
        if (!trimmed) {
          setDiscoverStatus("è¯·è¾“å…¥å†…å®¹åå†è½¬æ¢ã€‚", true);
          return false;
        }
        if (hasHtmlLinks(trimmed)) {
          var preferOld = $("#pageclass").value || $("#pageclass2").value;
          return preferOld ? getInput() : getInput2();
        }
        if (trimmed.match(/\&\&|::/g)) {
          return getInput3();
        }
        if (looksLikeJsonList(trimmed)) {
          return getInput3();
        }
        setDiscoverStatus(
          "æ— æ³•è¯†åˆ«è¾“å…¥ç±»å‹ã€‚å»ºè®®ï¼šç²˜è´´åŒ…å« <a href=...> çš„ HTMLï¼Œæˆ–æ—§å‘ç°â€œæ–‡æœ¬::é“¾æ¥â€ï¼Œæˆ–æ–°å‘ç° JSON æ•°ç»„ã€‚",
          true
        );
        return false;
      }

      function runDiscoverFormat() {
        var mode = $("#discoverMode").value;
        setDiscoverStatus("");
        var ok = false;
        if (mode === "html-old") {
          ok = getInput();
        } else if (mode === "html-new") {
          ok = getInput2();
        } else if (mode === "toggle") {
          ok = getInput3();
        } else {
          ok = autoDiscoverFormat();
        }
        if (ok) {
          dis();
        }
      }

      function getInput4(flag, x) {
        text = $("#input").value;
        if (flag == 1) {
          json = JSON.parse(text);
          for (i in json) {
            json[i].style = {};
            json[i].style.layout_flexGrow = 1;
          }
        } else if (flag == 2) {
          data = {
            1: 1,
            2: 0.4,
            3: 0.25,
            4: 0.2,
          };
          json = JSON.parse(text);
          for (i in json) {
            if (!json[i].style) {
              json[i].style = {};
            }
            json[i].style.layout_flexBasisPercent = data[x];
          }
        }
        $("#input").value = JSON.stringify(json);
      }

      function clearLayout() {
        $("#input").value = "";
        setDiscoverStatus("å·²æ¸…ç©ºæ–‡æœ¬ã€‚", false);
      }

      function isValidFields() {
        var textSour = document.getElementById("textSour");
        if (null == textSour.value || textSour.value.length < 1) {
          textSour.focus();
          return false;
        }
        var textPattern = document.getElementById("textPattern");
        if (null == textPattern.value || textPattern.value.length < 1) {
          textPattern.focus();
          return false;
        }
        return true;
      }

      function buildRegex() {
        var op = "";
        if (document.getElementById("optionGlobal").checked) op = "g";
        if (document.getElementById("optionIgnoreCase").checked) op = op + "i";
        return new RegExp(document.getElementById("textPattern").value, op);
      }

      function onMatch() {
        if (!isValidFields()) return false;
        document.getElementById("textMatchResult").value = "";
        var regex = buildRegex();
        var result = document.getElementById("textSour").value.match(regex);
        if (null == result || 0 == result.length) {
          document.getElementById("textMatchResult").value = "ï¼ˆæ²¡æœ‰åŒ¹é…ï¼‰";
          return false;
        }
        if (document.getElementById("optionGlobal").checked) {
          var re = "";
          var strResult = "å…±æ‰¾åˆ° " + result.length + " å¤„åŒ¹é…ï¼š\r\n";
          document.getElementById("textResult").innerText = strResult;
          for (var i = 0; i < result.length; ++i) {
            re += result[i] + "\r\n";
          }
          document.getElementById("textMatchResult").value = re;
        } else {
          document.getElementById("textMatchResult").value =
            "åŒ¹é…ä½ç½®ï¼š" + regex.lastIndex + "\r\nåŒ¹é…ç»“æœï¼š" + result[0];
        }
        return true;
      }

      function onReplace() {
        var str = document.getElementById("textSour").value;
        var regex = buildRegex();
        document.getElementById("textReplaceResult").value = str.replace(
          regex,
          document.getElementById("textReplace").value
        );
      }

      function Empty() {
        $("#textSour").value = "";
        $("#textMatchResult").value = "";
        $("#textReplace").value = "";
        $("#textReplaceResult").value = "";
        $("#textSour").select();
      }

      function transitionJsonToString(jsonObj, callback) {
        var _jsonObj = null;
        if (Object.prototype.toString.call(jsonObj) !== "[object String]") {
          try {
            _jsonObj = JSON.stringify(jsonObj);
          } catch (error) {
            alert("æ‚¨ä¼ é€’çš„jsonæ•°æ®æ ¼å¼æœ‰è¯¯ï¼Œè¯·æ ¸å¯¹...");
            alert(error);
            callback(error);
          }
        } else {
          try {
            jsonObj = jsonObj.replace(/(\')/g, '"');
            _jsonObj = JSON.stringify(JSON.parse(jsonObj));
          } catch (error) {
            alert("æ‚¨ä¼ é€’çš„jsonæ•°æ®æ ¼å¼æœ‰è¯¯ï¼Œè¯·æ ¸å¯¹...");
            alert(error);
            callback(error);
          }
        }
        return _jsonObj;
      }

      function formatJson(callback) {
        var jsonObj = $("#input").value;
        var reg = null;
        var formatted = "";
        var pad = 0;
        var PADDING = "  ";
        var jsonString = transitionJsonToString(jsonObj, callback);
        if (!jsonString) {
          return jsonString;
        }
        var _index = [];
        var _indexStart = null;
        var _indexEnd = null;
        var jsonArray = [];
        jsonString = jsonString.replace(/([\{\}])/g, "\r\n$1\r\n");
        jsonString = jsonString.replace(/([\[\]])/g, "\r\n$1\r\n");
        jsonString = jsonString.replace(/(\,)/g, "$1\r\n");
        jsonString = jsonString.replace(/(\r\n\r\n)/g, "\r\n");
        jsonString = jsonString.replace(/\r\n\,/g, ",");
        jsonArray = jsonString.split("\r\n");
        jsonArray.forEach(function (node, index) {
          var num = node.match(/\"/g) ? node.match(/\"/g).length : 0;
          if (num % 2 && !_indexStart) {
            _indexStart = index;
          }
          if (num % 2 && _indexStart && _indexStart != index) {
            _indexEnd = index;
          }
          if (_indexStart && _indexEnd) {
            _index.push({
              start: _indexStart,
              end: _indexEnd,
            });
            _indexStart = null;
            _indexEnd = null;
          }
        });
        _index.reverse().forEach(function (item, index) {
          var newArray = jsonArray.slice(item.start, item.end + 1);
          jsonArray.splice(item.start, item.end + 1 - item.start, newArray.join(""));
        });
        jsonString = jsonArray.join("\r\n");
        jsonString = jsonString.replace(/\:\r\n\{/g, ":{");
        jsonString = jsonString.replace(/\:\r\n\[/g, ":[");
        jsonArray = jsonString.split("\r\n");
        jsonArray.forEach(function (item, index) {
          var i = 0;
          var indent = 0;
          var padding = "";
          if (item.match(/\{$/) || item.match(/\[$/)) {
            indent += 1;
          } else if (
            item.match(/\}$/) ||
            item.match(/\]$/) ||
            item.match(/\},$/) ||
            item.match(/\],$/)
          ) {
            if (pad !== 0) {
              pad -= 1;
            }
          } else {
            indent = 0;
          }
          for (i = 0; i < pad; i++) {
            padding += PADDING;
          }
          formatted += padding + item + "\r\n";
          pad += indent;
        });
        $("#input").value = formatted.trim();
      }

      (function () {
        var tabButtons = document.querySelectorAll(".tab-btn");
        tabButtons.forEach(function (btn) {
          btn.addEventListener("click", function () {
            tabButtons.forEach(function (b) {
              b.classList.remove("active");
            });
            btn.classList.add("active");
            var tab = btn.getAttribute("data-tab");
            document.querySelectorAll(".tab-panel").forEach(function (panel) {
              panel.classList.remove("active");
            });
            document.getElementById("tab-" + tab).classList.add("active");
          });
        });
      })();
    </script>

    <script>
      (function () {
        function shQuote(value) {
          return "'" + String(value).replace(/'/g, "'\"'\"'") + "'";
        }

        function findOptionSplit(input) {
          var match = input.match(/,(?=\s*\{)/);
          return match ? match.index : -1;
        }

        function parseAnalyzeUrl(input) {
          var text = input.trim();
          if (!text) return { url: "", opts: {} };
          var idx = findOptionSplit(text);
          if (idx === -1) return { url: text, opts: {} };
          var url = text.slice(0, idx).trim();
          var jsonStr = text.slice(idx + 1).trim();
          var opts = JSON.parse(jsonStr);
          return { url: url, opts: opts || {} };
        }

        function buildCurl(url, opts) {
          if (!url) return "";
          var parts = ["curl", shQuote(url)];
          opts = opts || {};

          var method = (opts.method || "").toString().toUpperCase();
          var headers = opts.headers || {};
          var body = opts.body;
          var proxy = opts.proxy || headers.proxy || headers.Proxy;

          if (method && method !== "GET") {
            parts.push("-X", method);
          } else if (!method && body != null) {
            parts.push("-X", "POST");
          }

          Object.keys(headers).forEach(function (key) {
            if (key.toLowerCase() === "proxy") return;
            parts.push("-H", shQuote(key + ": " + headers[key]));
          });

          if (proxy) {
            parts.push("--proxy", shQuote(proxy));
          }

          if (body != null && body !== "") {
            parts.push("--data", shQuote(String(body)));
          }
          return parts.join(" ");
        }

        function normalizeCurl(cmd) {
          if (!cmd) return "";
          return cmd.replace(/\\\r?\n\s*/g, " ").trim();
        }

        function tokenize(cmd) {
          cmd = normalizeCurl(cmd);
          var tokens = [];
          var cur = "";
          var quote = null;
          var dollarQuote = false;
          var escape = false;
          for (var i = 0; i < cmd.length; i++) {
            var ch = cmd[i];
            if (escape) {
              cur += ch;
              escape = false;
              continue;
            }
            if (quote) {
              if (ch === "\\") {
                if (quote === '"' || dollarQuote) {
                  var next = cmd[i + 1] || "";
                  i++;
                  if (dollarQuote) {
                    if (next === "n") {
                      cur += "\n";
                    } else if (next === "r") {
                      cur += "\r";
                    } else if (next === "t") {
                      cur += "\t";
                    } else if (next === "x") {
                      var hex = cmd.substr(i + 1, 2);
                      if (/^[0-9a-fA-F]{2}$/.test(hex)) {
                        cur += String.fromCharCode(parseInt(hex, 16));
                        i += 2;
                      } else {
                        cur += next;
                      }
                    } else if (next === "u") {
                      var uni = cmd.substr(i + 1, 4);
                      if (/^[0-9a-fA-F]{4}$/.test(uni)) {
                        cur += String.fromCharCode(parseInt(uni, 16));
                        i += 4;
                      } else {
                        cur += next;
                      }
                    } else {
                      cur += next;
                    }
                  } else {
                    cur += next;
                  }
                  continue;
                }
              }
              if (ch === quote) {
                quote = null;
                dollarQuote = false;
              } else {
                cur += ch;
              }
              continue;
            }
            if (ch === "$") {
              var nextQuote = cmd[i + 1];
              if (nextQuote === "'" || nextQuote === '"') {
                quote = nextQuote;
                dollarQuote = true;
                i++;
                continue;
              }
            }
            if (ch === '"' || ch === "'") {
              quote = ch;
              dollarQuote = false;
              continue;
            }
            if (/\s/.test(ch)) {
              if (cur) {
                tokens.push(cur);
                cur = "";
              }
              continue;
            }
            if (ch === "\\") {
              escape = true;
              continue;
            }
            cur += ch;
          }
          if (cur) tokens.push(cur);
          return tokens;
        }

        function parseCurl(cmd) {
          var tokens = tokenize(cmd);
          var method = "";
          var headers = {};
          var dataParts = [];
          var url = "";
          var proxy = "";

          function takeValue(i) {
            return i + 1 < tokens.length ? tokens[i + 1] : "";
          }

          for (var i = 0; i < tokens.length; i++) {
            var t = tokens[i];
            if (t === "curl") continue;

            if (t === "-X" || t === "--request") {
              method = takeValue(i).toUpperCase();
              i++;
              continue;
            }

            if (t === "-H" || t === "--header") {
              var h = takeValue(i);
              i++;
              var idx = h.indexOf(":");
              if (idx > 0) {
                headers[h.slice(0, idx).trim()] = h.slice(idx + 1).trim();
              }
              continue;
            }

            if (t.indexOf("-H") === 0 && t.length > 2) {
              var hv = t.slice(2);
              var hidx = hv.indexOf(":");
              if (hidx > 0) {
                headers[hv.slice(0, hidx).trim()] = hv.slice(hidx + 1).trim();
              }
              continue;
            }

            if (
              t === "-d" ||
              t === "--data" ||
              t === "--data-raw" ||
              t === "--data-binary" ||
              t === "--data-urlencode"
            ) {
              dataParts.push(takeValue(i));
              if (!method) method = "POST";
              i++;
              continue;
            }

            if (t.indexOf("--data=") === 0 || t.indexOf("--data-raw=") === 0) {
              dataParts.push(t.split("=", 2)[1] || "");
              if (!method) method = "POST";
              continue;
            }

            if (t === "--proxy") {
              proxy = takeValue(i);
              i++;
              continue;
            }

            if (t.indexOf("--proxy=") === 0) {
              proxy = t.split("=", 2)[1] || "";
              continue;
            }

            if (t.indexOf("http://") === 0 || t.indexOf("https://") === 0) {
              url = t;
              continue;
            }

            if (t[0] !== "-" && !url) {
              url = t;
            }
          }

          return {
            url: url,
            method: method,
            headers: headers,
            body: dataParts.join("&"),
            proxy: proxy,
          };
        }

        function buildAnalyzeUrl(parsed) {
          if (!parsed.url) return "";
          var opts = {};
          var headers = parsed.headers || {};
          var hasHeaders = Object.keys(headers).length > 0;

          if (parsed.method && parsed.method !== "GET") {
            opts.method = parsed.method;
          }
          if (parsed.body) {
            opts.body = parsed.body;
          }
          if (parsed.proxy) {
            headers = Object.assign({}, headers, { proxy: parsed.proxy });
            hasHeaders = true;
          }
          if (hasHeaders) {
            opts.headers = headers;
          }
          var hasOpts = Object.keys(opts).length > 0;
          return parsed.url + (hasOpts ? "," + JSON.stringify(opts) : "");
        }

        function setStatus(targetId, msg, isError) {
          var el = document.getElementById(targetId);
          if (!el) return;
          el.textContent = msg || "";
          el.className = isError ? "status error" : "status";
        }

        function copyText(text, statusId, sourceEl) {
          if (!text) return;
          if (window.LocalCopy && LocalCopy(text, sourceEl)) {
            setStatus(statusId, "å·²å¤åˆ¶ã€‚", false);
            return;
          }
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(text).then(
              function () {
                setStatus(statusId, "å·²å¤åˆ¶ã€‚", false);
              },
              function () {
                setStatus(statusId, "å¤åˆ¶å¤±è´¥ã€‚", true);
              }
            );
          } else {
            setStatus(statusId, "å¤åˆ¶å¤±è´¥ã€‚", true);
          }
        }

        document.getElementById("toCurlBtnMain").addEventListener("click", function () {
          setStatus("statusAnalyzeToCurl", "");
          try {
            var parsed = parseAnalyzeUrl(document.getElementById("analyzeInputMain").value);
            var curl = buildCurl(parsed.url, parsed.opts);
            document.getElementById("curlOutputMain").value = curl;
          } catch (e) {
            setStatus("statusAnalyzeToCurl", "AnalyzeUrl è§£æé”™è¯¯: " + e.message, true);
          }
        });

        document.getElementById("toAnalyzeBtnMain").addEventListener("click", function () {
          setStatus("statusCurlToAnalyze", "");
          try {
            var parsed = parseCurl(document.getElementById("curlInputMain").value);
            var analyzeUrl = buildAnalyzeUrl(parsed);
            document.getElementById("analyzeOutputMain").value = analyzeUrl;
          } catch (e) {
            setStatus("statusCurlToAnalyze", "curl è§£æé”™è¯¯: " + e.message, true);
          }
        });

        document.getElementById("copyCurlBtnMain").addEventListener("click", function () {
          var el = document.getElementById("curlOutputMain");
          copyText(el.value, "statusAnalyzeToCurl", el);
        });

        document.getElementById("copyAnalyzeBtnMain").addEventListener("click", function () {
          var el = document.getElementById("analyzeOutputMain");
          copyText(el.value, "statusCurlToAnalyze", el);
        });

        function clearAnalyzeMain() {
          document.getElementById("analyzeInputMain").value = "";
          document.getElementById("curlOutputMain").value = "";
          setStatus("statusAnalyzeToCurl", "");
        }

        function clearCurlMain() {
          document.getElementById("curlInputMain").value = "";
          document.getElementById("analyzeOutputMain").value = "";
          setStatus("statusCurlToAnalyze", "");
        }

        document.getElementById("clearAnalyzeBtnMain").addEventListener("click", clearAnalyzeMain);
        document.getElementById("clearCurlBtnMain").addEventListener("click", clearCurlMain);
      })();
    </script>

    <script>
      (function () {
        var input = document.getElementById("formatInput");
        var output = document.getElementById("formatOutput");
        var mode = document.getElementById("formatMode");
        var indentSelect = document.getElementById("formatIndent");
        var status = document.getElementById("formatStatus");

        function setStatus(msg, isError) {
          status.textContent = msg || "";
          status.className = isError ? "status error" : "status";
        }

        function getIndent() {
          var size = parseInt(indentSelect.value, 10);
          if (isNaN(size) || size < 1) size = 2;
          return new Array(size + 1).join(" ");
        }

        function formatJson(text, indentStr) {
          return JSON.stringify(JSON.parse(text), null, indentStr);
        }

        function formatHtml(text, indentStr) {
          var normalized = text
            .replace(/\r\n/g, "\n")
            .replace(/>\s+</g, ">\n<")
            .replace(/\n{2,}/g, "\n");
          var lines = normalized.split("\n");
          var out = [];
          var level = 0;
          var voidTags = {
            area: true,
            base: true,
            br: true,
            col: true,
            embed: true,
            hr: true,
            img: true,
            input: true,
            link: true,
            meta: true,
            param: true,
            source: true,
            track: true,
            wbr: true,
          };
          lines.forEach(function (line) {
            var trimmed = line.trim();
            if (!trimmed) return;
            var isClose = /^<\/.+>$/.test(trimmed);
            var isOpen = /^<[^/!][^>]*>$/.test(trimmed);
            var tagMatch = trimmed.match(/^<\s*([a-zA-Z0-9-]+)/);
            if (isClose) level = Math.max(level - 1, 0);
            out.push(indentStr.repeat(level) + trimmed);
            if (isOpen && tagMatch) {
              var tag = tagMatch[1].toLowerCase();
              if (!voidTags[tag] && !/\/>$/.test(trimmed)) {
                level += 1;
              }
            }
          });
          return out.join("\n");
        }

        function formatByBraces(text, indentStr) {
          var normalized = text
            .replace(/\r\n/g, "\n")
            .replace(/;/g, ";\n")
            .replace(/{/g, "{\n")
            .replace(/}/g, "\n}\n")
            .replace(/\n{2,}/g, "\n");
          var lines = normalized.split("\n");
          var out = [];
          var level = 0;
          lines.forEach(function (line) {
            var trimmed = line.trim();
            if (!trimmed) return;
            if (trimmed[0] === "}" || trimmed[0] === "]") {
              level = Math.max(level - 1, 0);
            }
            out.push(indentStr.repeat(level) + trimmed);
            var openCount = (trimmed.match(/{/g) || []).length;
            var closeCount = (trimmed.match(/}/g) || []).length;
            level += openCount - closeCount;
            if (level < 0) level = 0;
          });
          return out.join("\n");
        }

        function autoFormat(text, indentStr) {
          var trimmed = text.trim();
          if (!trimmed) return "";
          if (trimmed[0] === "{" || trimmed[0] === "[") {
            try {
              return formatJson(trimmed, indentStr);
            } catch (e) {}
          }
          if (trimmed.indexOf("<") !== -1 && trimmed.indexOf(">") !== -1) {
            return formatHtml(trimmed, indentStr);
          }
          return formatByBraces(trimmed, indentStr);
        }

        function runFormat() {
          var text = input.value || "";
          var indentStr = getIndent();
          if (!text.trim()) {
            output.value = "";
            setStatus("è¯·è¾“å…¥å†…å®¹åå†æ ¼å¼åŒ–ã€‚", true);
            return;
          }
          try {
            var modeVal = mode.value;
            var result = "";
            if (modeVal === "json") {
              result = formatJson(text, indentStr);
            } else if (modeVal === "html") {
              result = formatHtml(text, indentStr);
            } else if (modeVal === "js" || modeVal === "css") {
              result = formatByBraces(text, indentStr);
            } else {
              result = autoFormat(text, indentStr);
            }
            output.value = result;
            setStatus("æ ¼å¼åŒ–å®Œæˆã€‚", false);
          } catch (e) {
            setStatus("æ ¼å¼åŒ–å¤±è´¥: " + e.message, true);
          }
        }

        function copyResult() {
          var text = output.value;
          if (!text) return;
          if (window.LocalCopy && LocalCopy(text, output)) {
            setStatus("å·²å¤åˆ¶ã€‚", false);
            return;
          }
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(text).then(
              function () {
                setStatus("å·²å¤åˆ¶ã€‚", false);
              },
              function () {
                setStatus("å¤åˆ¶å¤±è´¥ã€‚", true);
              }
            );
          } else {
            setStatus("å¤åˆ¶å¤±è´¥ã€‚", true);
          }
        }

        function clearAll() {
          input.value = "";
          output.value = "";
          setStatus("");
        }

        document.getElementById("formatRunBtn").addEventListener("click", runFormat);
        document.getElementById("formatCopyBtn").addEventListener("click", copyResult);
        document.getElementById("formatClearBtn").addEventListener("click", clearAll);
      })();
    </script>
  </body>
</html>
<h3 id="comments">ç•™è¨€è¯„è®º</h3><div id="giscus-comments"></div><script src="https://giscus.app/client.js" data-repo="skybbk1001/skybook" data-repo-id="R_kgDOMXpUGg" data-category="Announcements" data-category-id="DIC_kwDOMXpUGs4Cn41F" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="zh-CN" crossorigin="anonymous" async="async"></script></div></article></div><footer class="footer-nav"><div class="footer"><div class="back-top" id="back-top" title="Back to top"><i class="icon icon-chevron-bar-up"></i></div><div class="footer-content"><div class="footer-links"><div class="footer-links-column"><p><a title="æºä»“åº“" target="_blank" rel="noopener" href="https://www.yckceo.com/">æºä»“åº“</a></p><p><a title="é˜…è¯»ä¸‹è½½" href="/download/">é˜…è¯»ä¸‹è½½</a></p><p><a title="æ´›å¨…æ©™å‘å¸ƒé¡µ" target="_blank" rel="noopener" href="https://æ´›å¨…æ©™.duckdns.org/">æ´›å¨…æ©™å‘å¸ƒé¡µ</a></p></div><div class="footer-links-column"><p><a title="å–µå…¬å­è®¢é˜…" target="_blank" rel="noopener" href="https://yuedu.miaogongzi.net/">å–µå…¬å­è®¢é˜…</a></p><p><a title="é‡çŸ¥å‘å¸ƒé¡µ" target="_blank" rel="noopener" href="https://yuzhi.ip-ddns.com/">é‡çŸ¥å‘å¸ƒé¡µ</a></p><p><a title="å°å¯’å‘å¸ƒé¡µ" target="_blank" rel="noopener" href="https://qyyuapi.com/">å°å¯’å‘å¸ƒé¡µ</a></p></div><div class="footer-links-column"><p><a title="å¤©å¤©çš„å°ç«™" target="_blank" rel="noopener" href="https://blog.ttxz.eu.org/">å¤©å¤©çš„å°ç«™</a></p><p><a title="æ´»åŠ›å®å°çª" target="_blank" rel="noopener" href="https://hlb.leleosd.top/">æ´»åŠ›å®å°çª</a></p><p><a title="è¼ä¸›ã®å°ç ´ç«™" target="_blank" rel="noopener" href="https://tucong.vip/">è¼ä¸›ã®å°ç ´ç«™</a></p></div><div class="footer-links-column"><p><a title="æµ…æ®‡ç•ªèŒ„" target="_blank" rel="noopener" href="https://fqphp.gxom.cn/">æµ…æ®‡ç•ªèŒ„</a></p><p><a title="å¯»é“äº‘æµ·" target="_blank" rel="noopener" href="https://ys.66ds.de/">å¯»é“äº‘æµ·</a></p></div></div><div><span id="site_pv">?</span>
PV
<span id="site_uv">?</span>
UV</div>

Copyright &copy;
<span class="time-divide">-</span>2026
æ˜æœˆç…§å¤§æ±Ÿ.

Power by
<a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a>
and
<a href="https://github.com/Cerallin/hexo-theme-yuzu" target="_blank" rel="external nofollow" title="v3.2.5">Theme Yuzu</a>.</div></div></footer>
<script>window.config = {
  url_root: '/',
  meta_path: 'meta.json',
};
</script>
<script src="/js/theme/back-to-top.js"></script>


<script src="/js/theme/clipboard.js"></script>


<script src="/js/theme/loading.js"></script>


<script src="/js/theme/navbar.js"></script>

<script src="/js/theme/search.js"></script>

<script src="/js/theme/toc.js"></script>
<script>window.onload = function () {
  for (const moduleName in Theme) {
    const module = Theme[moduleName];
    module.register();
  }
};</script></div><div class="search-modal" id="search-modal"><div class="card"><div class="card-head"><div class="search-box"><input class="search-input" id="search-input" placeholder="æœç´¢"/><div class="search-button" id="search-button"><div class="icon icon-search"></div></div></div><div class="close-button"><div class="icon icon-x"></div></div></div><div class="card-body"><div class="search-count">å…±<span id="search-count-num">0</span>æ¡æœç´¢ç»“æœã€‚</div><div class="search-result" id="search-result"></div></div></div></div></body></html>