registerPaint("smooth-corners",class{static get inputProperties(){return["--smooth-corners"]}superellipse(t,e=4,s){Number.isNaN(e)&&(e=4),(void 0===s||Number.isNaN(s))&&(s=e),e>100&&(e=100),s>100&&(s=100),e<1e-11&&(e=1e-11),s<1e-11&&(s=1e-11);const r=2/e,i=s?2/s:r,a=2*Math.PI/360;return Array.from({length:360},(e,s)=>(e=>{const s=Math.cos(e),a=Math.sin(e);return{x:Math.abs(s)**r*t*Math.sign(s),y:Math.abs(a)**i*t*Math.sign(a)}})(s*a))}paint(t,e,s){const[r,i,a]=s.get("--smooth-corners").toString().replace(/ /g,"").split(","),o=e.width/2,n=e.height/2;let l=.01*a*o;l<5&&(l=5);let h=this.superellipse(l,parseFloat(r,10),parseFloat(i,10));const c={x:e.width/2-l,y:e.height/2-l},p=(t,e)=>function(s){return s.x+=t,s.y+=e,s};h=[].concat(h.slice(0,90).map(p(c.x,c.y)),h.slice(91,180).map(p(-c.x,c.y)),h.slice(181,270).map(p(-c.x,-c.y)),h.slice(271,360).map(p(c.x,-c.y))),t.fillStyle="#000",t.setTransform(1,0,0,1,o,n),t.beginPath();for(let e=0;e<h.length;e++){const{x:s,y:r}=h[e];0===e?t.moveTo(s,r):t.lineTo(s,r)}t.closePath(),t.fill()}});