(function(){"use strict";Theme.toc={register(){const t=document.getElementById("post-toc");if(!t||!t.offsetParent)return;const e=document.querySelectorAll("article h3[id], article h4[id], article h5[id]");const o=new IntersectionObserver(debounce(function(o){o.forEach(o=>{const c=o.target.getAttribute("id"),n=document.querySelector(`.post-toc-item a[href="#${encodeURIComponent(c)}"]`).parentNode;o.intersectionRatio>0?(!function(o){const c=o.firstElementChild;c&&"A"===c.tagName&&(o=c);const n=o.offsetTop-(t.clientHeight-o.clientHeight)/2;t.scrollTop=n,e.map(function(t){const e=t.getAttribute("id");document.querySelector(`.post-toc-item a[href="#${encodeURIComponent(e)}"]`).parentNode.removeAttribute("data-active")})}(n),n.setAttribute("data-active",!0)):n.removeAttribute("data-active")})},100));e.forEach(t=>o.observe(t))}}}).call(this);