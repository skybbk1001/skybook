(function(){"use strict";function t(){const t=document.getElementById("search-count-num"),e=document.getElementById("search-result");return{_resultList:[],get list(){return this._resultList},set list(n){this._resultList=n,t.innerText=this.length,e.innerHTML=this._resultList.map(function(t){const{title:e,tags:n,url:c}=t;return[`<a class="search-result-item" href="${c}" target="_blank">`,`  <div class="search-result-title">${e}</div>`,'  <div class="search-result-tags">',(n||[]).map(t=>`<span>${t}</span>`).join(""),"  </div>","</a>"].map(t=>t.trim()).join("")}).join("")},get length(){return this._resultList.length}}}Theme.search=new function(){let e=[],n={};this.register=function(){const c=document.getElementById("search-modal");!function(t){document.querySelectorAll(".search-button").forEach(e=>e.addEventListener("click",function(t){const e=document.getElementById("search-input");return function(){t.setAttribute("data-show",!0),document.querySelectorAll(".page").forEach(t=>t.setAttribute("data-filter",!0)),e.focus(),window.innerWidth<=768&&(document.body.style.overflow="hidden")}}(t)))}(c),function(t){const c=function(t){return function(){t.removeAttribute("data-show"),document.querySelectorAll(".page").forEach(t=>t.removeAttribute("data-filter")),window.innerWidth<=768&&(document.body.style.overflow="auto")}}(t);document.querySelectorAll(".close-button").forEach(t=>t.addEventListener("click",c));const r=debounce(()=>function(){const t=document.getElementById("search-input").value.trim();if(!t)return void(n.list=[]);const c=new RegExp(t.split(/\s+/).join("|"),"ig");(async function(){if(!e.length){const t=window.config;e=await request(t.url_root+t.meta_path)}return e})().then(t=>{const e=structuredClone(t).map(function(t){var e;function n(t){return t.replace(c,t=>`<span class="highlight">${t}</span>`)}return t.matchCount=0,(e=(t.title||"").match(c))&&(t.matchCount+=e.length,t.title=n(t.title)),(t.categories||[]).find(t=>t.match(c))&&(t.matchCount+=t.categories.reduce((t,e)=>t+(e.match(c)||[]).length,0),t.categories=t.categories.map(n)),(t.tags||[]).find(t=>t.match(c))&&(t.matchCount+=t.tags.reduce((t,e)=>t+(e.match(c)||[]).length,0),t.tags=t.tags.map(n)),t}).filter(t=>t.matchCount>0).sort((t,e)=>e.matchCount-t.matchCount);n.list=e}).catch(t=>{})}(),200),i=document.getElementById("search-input");i.addEventListener("keyup",({key:t})=>{"Enter"===t?r():"Escape"===t&&c()}),i.addEventListener("input",r),document.getElementById("search-button").addEventListener("click",r)}(c),n=new t}}}).call(this);